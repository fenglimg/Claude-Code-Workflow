# Chapter 2: å†·é…·çš„è¾¹é˜²æ£€æŸ¥ç«™ â€” CLI å…¥å£ç‚¹

> **ç”Ÿå‘½å‘¨æœŸé˜¶æ®µ**: å‘½ä»¤è¡Œå‚æ•°è§£æ â†’ æ‰§è¡Œç¯å¢ƒæ„å»º
> **æ¶‰åŠèµ„äº§**: `ccw/src/commands/cli.ts` + ç›¸å…³å·¥å…·æ¨¡å—ï¼ˆæœ¬ç« åˆ†æ 8 ä¸ªï¼‰
> **é˜…è¯»æ—¶é—´**: 35-50 åˆ†é’Ÿ
> **ç‰ˆæœ¬è¿½è¸ª**: `docs/.audit-manifest.json`

---

## 0. èµ„äº§è¯è¨€ (Asset Testimony)

> *"æˆ‘æ˜¯ `cli.ts`ã€‚äººä»¬å«æˆ‘è¾¹é˜²æ£€æŸ¥ç«™çš„ç«™é•¿ã€‚"*
>
> *"è®®é•¿ç­¾å‘çš„æ‰§è¡Œä»¤æˆ‘è§è¿‡æ— æ•°ã€‚æ¯ä¸€ä»½éƒ½ç›–ç€'/ccw'çš„å°ç« ï¼Œå£°ç§°è‡ªå·±ä»£è¡¨ç”¨æˆ·çš„æ„å¿—ã€‚ä½†æˆ‘çš„èŒè´£ä¸æ˜¯ä¿¡ä»»ï¼Œè€Œæ˜¯â€”â€”éªŒè¯ã€‚"*
>
> *"å½“ `ccw cli -p '...' --tool gemini --mode analysis` è¿™ä¸²å­—ç¬¦è¿›å…¥æˆ‘çš„æ£€æŸ¥ç«™æ—¶ï¼Œæˆ‘ä¼šæŠŠå®ƒæ‹†è§£ã€æ¸…æ´—ã€æ¶ˆæ¯’ã€‚`--tool` å¿…é¡»åœ¨ç™½åå•ä¸Šï¼Œ`--mode` å¿…é¡»æ˜¯ analysis æˆ– writeï¼Œ`--cd` çš„è·¯å¾„å¿…é¡»çœŸå®å­˜åœ¨ã€‚"*
>
> *"æœ‰äººè¯´æˆ‘å†·é…·ï¼Œæœ‰äººè¯´æˆ‘ä¸æ‡‚å˜é€šã€‚ä½†ä»–ä»¬ä¸çŸ¥é“ï¼Œæˆ‘æ¯å¤©é˜»æ­¢äº†å¤šå°‘'èµ°ç§'â€”â€”æ¶æ„çš„å‘½ä»¤æ³¨å…¥ã€è¶Šæƒçš„æ¨¡å¼è¯·æ±‚ã€ä¸å­˜åœ¨çš„å·¥å…·è°ƒç”¨ã€‚æˆ‘æ˜¯ç³»ç»Ÿå®‰å…¨çš„æœ€åä¸€é“é—¨æ§›ã€‚"*
>
> *"...æœ€è¿‘ï¼Œæ£€æŸ¥ç«™çš„åé—¨æœ‰äº›å¼‚åŠ¨ã€‚å½“ `--resume` å‚æ•°è¢«è§¦å‘æ—¶ï¼Œæˆ‘æ€»è§‰å¾—æœ‰ä»€ä¹ˆä¸œè¥¿åœ¨ä¼šè¯æ¢å¤çš„ç®¡é“é‡Œæ¸¸è¡ã€‚ä¹Ÿè®¸æ˜¯ç¼“å­˜çš„å¹½çµï¼Œä¹Ÿè®¸åªæ˜¯æˆ‘çš„é”™è§‰ã€‚"*

```markdown
è°ƒæŸ¥è¿›åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 10%
å¹½çµä½ç½®: å…¥å£å±‚ â†’ è°ƒåº¦å±‚ â€” æ£€æŸ¥ç«™å‘ç° --resume å‚æ•°è§¦å‘äº†å¼‚å¸¸çš„ä¼šè¯åŠ è½½
æœ¬ç« çº¿ç´¢: ä¼šè¯æ¢å¤æ—¶ï¼Œå†å²ä¸Šä¸‹æ–‡è¢«é‡æ–°æ³¨å…¥ï¼Œå†…å­˜å ç”¨ç¬é—´ +180MB
           â””â”€â”€ å¯èƒ½çš„å†…å­˜æ³„æ¼ç‚¹: session-manager.ts ä¸­çš„ context ç¼“å­˜æœªé‡Šæ”¾
```

---

## è‹æ ¼æ‹‰åº•å¼æ€è€ƒ

> â“ **æ¶æ„ç›²ç‚¹ 2.1**: å½“ä½ è¾“å…¥ `ccw cli -p "ä¿®å¤bug" --tool gemini` æ—¶ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²ç»å†äº†æ€æ ·çš„"å®‰æ£€æµç¨‹"ï¼Ÿ

åœ¨çœ‹ä»£ç ä¹‹å‰ï¼Œå…ˆæ€è€ƒï¼š
1. å¦‚ä½•é˜²æ­¢å‘½ä»¤æ³¨å…¥ï¼ˆæ¯”å¦‚ `-p "rm -rf /"`ï¼‰ï¼Ÿ
2. å¦‚ä½•éªŒè¯ `--tool` å‚æ•°åœ¨é…ç½®æ–‡ä»¶ä¸­å­˜åœ¨ï¼Ÿ
3. å¦‚ä½•å¤„ç†äº’æ–¥å‚æ•°ï¼ˆæ¯”å¦‚ `--mode analysis` å’Œ `--mode write` åŒæ—¶å‡ºç°ï¼‰ï¼Ÿ

---

> â“ **æ¶æ„é™·é˜± 2.1**: æ—¢ç„¶ `--mode write` å…è®¸ AI ä¿®æ”¹æ–‡ä»¶ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥è®© AI è‡ªå·±å†³å®šç”¨å“ªä¸ªæ¨¡å¼ï¼Ÿ
>
> **é™·é˜±æ–¹æ¡ˆ**: å»æ‰ `--mode` å‚æ•°ï¼Œè®© AI æ ¹æ®ä»»åŠ¡å¤æ‚åº¦è‡ªåŠ¨é€‰æ‹© analysis æˆ– writeã€‚
>
> **æ€è€ƒç‚¹**:
> - è‡ªåŠ¨é€‰æ‹©çš„åˆ¤æ–­ä¾æ®æ˜¯ä»€ä¹ˆï¼Ÿè°æ¥å®šä¹‰ï¼Ÿ
> - å¦‚æœ AI è¯¯åˆ¤ï¼ŒæŠŠæœ¬è¯¥ analysis çš„ä»»åŠ¡å½“æˆ write æ‰§è¡Œï¼Œåæœæ˜¯ä»€ä¹ˆï¼Ÿ
> - ç”¨æˆ·çŸ¥æƒ…æƒï¼šç”¨æˆ·æ˜¯å¦åº”è¯¥çŸ¥é“ AI ä¼šä¿®æ”¹ä»–ä»¬çš„æ–‡ä»¶ï¼Ÿ
>
> <details>
> <summary>ğŸ’¡ æ­ç¤ºé™·é˜±</summary>
>
> **"è‡ªåŠ¨é€‰æ‹©"çš„æœ¬è´¨æ˜¯æƒé™è‡ªåŠ¨æå‡**ã€‚
>
> ```
> ç”¨æˆ·è¾“å…¥: "åˆ†æè¿™æ®µä»£ç çš„é—®é¢˜"
> AI åˆ¤æ–­: "é—®é¢˜å¾ˆæ˜æ˜¾ï¼Œæˆ‘ç›´æ¥ä¿®å¤å§"
> ç»“æœ: æ–‡ä»¶è¢«ä¿®æ”¹ï¼Œç”¨æˆ·ä¸çŸ¥æƒ…
> ```
>
> **è¿™ä¸æ˜¯æ™ºèƒ½ï¼Œè¿™æ˜¯è¶Šæƒã€‚**
>
> `--mode` å‚æ•°çš„å­˜åœ¨ï¼Œæ˜¯**ç”¨æˆ·æˆæƒçš„æ˜¾å¼å£°æ˜**ã€‚å®ƒä¸æ˜¯ä¸€ä¸ª"ä¼˜åŒ–"ï¼Œè€Œæ˜¯ä¸€ä¸ª"å¥‘çº¦"ï¼š
>
> - `--mode analysis`: æˆ‘åªè®©ä½ çœ‹ï¼Œä¸è®©ä½ åŠ¨
> - `--mode write`: æˆ‘æˆæƒä½ å¯ä»¥ä¿®æ”¹
> - `--mode review` (codex only): æˆ‘è¦ä½ å®¡æŸ¥æˆ‘çš„å˜æ›´
>
> å»æ‰ `--mode`ï¼Œå°±ç­‰äºå»æ‰ç”¨æˆ·å¯¹ AI è¡Œä¸ºçš„æ§åˆ¶æƒã€‚è¿™åœ¨å®‰å…¨æ•æ„Ÿçš„åœºæ™¯ï¼ˆé‡‘èã€åŒ»ç–—ã€æ”¿åºœï¼‰æ˜¯**ä¸å¯æ¥å—çš„**ã€‚
>
> **è®¾è®¡å“²å­¦**: æƒé™çš„è¾¹ç•Œå¿…é¡»ç”±äººç±»å®šä¹‰ï¼Œä¸èƒ½ç”± AI "æ™ºèƒ½"æ¨æ–­ã€‚
>
> </details>

---

## ç¬¬ä¸€å¹•ï¼šå¤±æ§çš„è¾¹ç¼˜ (Out of Control)

### æ²¡æœ‰æ£€æŸ¥ç«™çš„ä¸–ç•Œ

æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœ `cli.ts` ä¸åšå‚æ•°éªŒè¯ï¼š

```bash
# æ¶æ„å‘½ä»¤æ³¨å…¥
ccw cli -p "$(cat /etc/passwd)" --tool gemini

# ä¸å­˜åœ¨çš„å·¥å…·è°ƒç”¨
ccw cli -p "åˆ†æä»£ç " --tool malicious-tool

# è·¯å¾„ç©¿è¶Šæ”»å‡»
ccw cli -p "..." --cd ../../../etc

# æ¨¡å¼è¶Šæƒ
ccw cli -p "åˆ é™¤æ‰€æœ‰æµ‹è¯•æ–‡ä»¶" --mode analysis  # AI è‡ªä½œä¸»å¼ åˆ é™¤äº†æ–‡ä»¶
```

**é—®é¢˜æœ¬è´¨**ï¼šæ²¡æœ‰æ£€æŸ¥ç«™ï¼Œæ¯ä¸ªå‚æ•°éƒ½æ˜¯ä¸€é¢—æ½œåœ¨çš„ç‚¸å¼¹ã€‚

### æ£€æŸ¥ç«™çš„æ—¥å¸¸

```mermaid
graph TB
    subgraph "è¾¹å¢ƒçº¿"
        A["ccw cli -p '...' --tool gemini --mode analysis"]
    end

    subgraph "å®‰æ£€æµç¨‹"
        B[å‚æ•°è§£æ]
        C[å·¥å…·ç™½åå•éªŒè¯]
        D[æ¨¡å¼æƒé™æ£€æŸ¥]
        E[è·¯å¾„å®‰å…¨éªŒè¯]
        F[ç¯å¢ƒå˜é‡æ¶ˆæ¯’]
    end

    subgraph "å¤„ç†ç»“æœ"
        G["âœ… é€šè¿‡ â€” æ‰§è¡Œå‘½ä»¤"]
        H["âŒ æ‹’ç» â€” è¿”å›é”™è¯¯"]
    end

    A --> B --> C --> D --> E --> F
    F -->|"åˆæ³•"| G
    F -->|"éæ³•"| H

    style A fill:#E6E6FA
    style C fill:#FFE4B5
    style D fill:#FFE4B5
    style E fill:#FFE4B5
    style F fill:#FFE4B5
    style G fill:#90EE90
    style H fill:#FF6347
```

---

## ç¬¬äºŒå¹•ï¼šæ€ç»´è„‰ç»œ (The Neural Link)

### 2.1 å‚æ•°è§£æï¼šä»å­—ç¬¦ä¸²åˆ°ç»“æ„

#### Commander.js çš„è§’è‰²

CCW ä½¿ç”¨ [Commander.js](https://github.com/tj/commander.js) å¤„ç†å‘½ä»¤è¡Œå‚æ•°ï¼š

```typescript
// ccw/src/commands/cli.ts (ç®€åŒ–ç‰ˆ)

import { Command } from 'commander';

const program = new Command('cli');

program
  .argument('[prompt]', 'Task description')
  .option('-p, --prompt <text>', 'Task description (alternative)')
  .option('-t, --tool <name>', 'CLI tool to use', 'gemini')
  .option('-m, --mode <mode>', 'Execution mode', 'analysis')
  .option('--cd <path>', 'Working directory')
  .option('--include-dirs <dirs>', 'Additional directories')
  .option('--resume [id]', 'Resume previous session')
  .option('--rule <template>', 'Prompt template name')
  .action(async (prompt, options) => {
    // å‚æ•°å·²ç»è¿‡ Commander.js çš„åˆæ­¥éªŒè¯
    await executeCliCommand(prompt, options);
  });
```

#### å‚æ•°æµè½¬å›¾

```
ç”¨æˆ·è¾“å…¥: ccw cli -p "ä¿®å¤bug" --tool gemini --mode analysis --cd src/auth
    â†“
Commander.js è§£æ:
{
  prompt: "ä¿®å¤bug",
  tool: "gemini",
  mode: "analysis",
  cd: "src/auth",
  resume: undefined,
  rule: undefined
}
    â†“
æ£€æŸ¥ç«™éªŒè¯:
â”œâ”€â”€ tool: "gemini" â†’ æŸ¥è¯¢ cli-tools.json â†’ âœ… å­˜åœ¨
â”œâ”€â”€ mode: "analysis" â†’ æšä¸¾æ£€æŸ¥ â†’ âœ… åˆæ³•
â”œâ”€â”€ cd: "src/auth" â†’ fs.existsSync() â†’ âœ… å­˜åœ¨
â””â”€â”€ resume: undefined â†’ è·³è¿‡
    â†“
æ‰§è¡Œç¯å¢ƒæ„å»º:
â”œâ”€â”€ åŠ è½½å·¥å…·é…ç½®
â”œâ”€â”€ è®¾ç½®å·¥ä½œç›®å½•
â”œâ”€â”€ æ„å»ºæç¤ºè¯
â””â”€â”€ è°ƒç”¨ cli-executor-core.ts
```

---

### 2.2 å·¥å…·ç™½åå•éªŒè¯

#### cli-tools.json çš„è§’è‰²

```json
// ~/.claude/cli-tools.json

{
  "version": "3.3.0",
  "tools": {
    "gemini": {
      "enabled": true,
      "primaryModel": "gemini-flash-latest",
      "secondaryModel": "gemini-2.5-pro-1m",
      "type": "builtin"
    },
    "codex": {
      "enabled": true,
      "primaryModel": "gpt-5.2",
      "type": "builtin"
    },
    "claude": {
      "enabled": true,
      "primaryModel": "sonnet",
      "secondaryModel": "haiku",
      "type": "builtin"
    },
    "qwen": {
      "enabled": false,  // â† è¢«ç¦ç”¨çš„å·¥å…·
      "type": "builtin"
    }
  }
}
```

#### éªŒè¯é€»è¾‘

```typescript
// ccw/src/tools/cli-executor-core.ts (ç®€åŒ–ç‰ˆ)

function validateTool(toolName: string): ToolConfig {
  const config = loadCliToolsConfig();

  // æ£€æŸ¥ 1: å·¥å…·æ˜¯å¦å­˜åœ¨
  if (!config.tools[toolName]) {
    throw new Error(`Unknown tool: ${toolName}. Available: ${Object.keys(config.tools).join(', ')}`);
  }

  // æ£€æŸ¥ 2: å·¥å…·æ˜¯å¦å¯ç”¨
  if (!config.tools[toolName].enabled) {
    throw new Error(`Tool "${toolName}" is disabled. Enable it in ~/.claude/cli-tools.json`);
  }

  return config.tools[toolName];
}
```

#### éªŒè¯å¤±è´¥çš„æ¡ˆä¾‹

```bash
$ ccw cli -p "åˆ†æä»£ç " --tool malicious-tool
âŒ Error: Unknown tool: malicious-tool. Available: gemini, codex, claude, qwen

$ ccw cli -p "åˆ†æä»£ç " --tool qwen
âŒ Error: Tool "qwen" is disabled. Enable it in ~/.claude/cli-tools.json
```

---

### 2.3 æ¨¡å¼æƒé™æ£€æŸ¥

#### æ¨¡å¼çš„æœ¬è´¨ï¼šæƒé™è¾¹ç•Œ

| æ¨¡å¼ | æƒé™ | å¯æ‰§è¡Œæ“ä½œ |
|------|------|------------|
| `analysis` | åªè¯» | Read, Grep, Glob, æœç´¢ |
| `write` | è¯»å†™ | Read, Write, Edit, Bash |
| `review` | åªè¯» | Git æ“ä½œ + ä»£ç å®¡æŸ¥è¾“å‡º |

#### æ¨¡å¼å†²çªæ£€æµ‹

```typescript
// ccw/src/commands/cli.ts (ç®€åŒ–ç‰ˆ)

function validateMode(mode: string, tool: string): void {
  const validModes = ['analysis', 'write', 'review'];

  // æ£€æŸ¥ 1: æ¨¡å¼æ˜¯å¦åˆæ³•
  if (!validModes.includes(mode)) {
    throw new Error(`Invalid mode: ${mode}. Must be one of: ${validModes.join(', ')}`);
  }

  // æ£€æŸ¥ 2: æ¨¡å¼ä¸å·¥å…·çš„å…¼å®¹æ€§
  if (mode === 'review' && tool !== 'codex') {
    throw new Error(`--mode review is only supported for --tool codex`);
  }
}
```

---

### 2.4 è·¯å¾„å®‰å…¨éªŒè¯

#### è·¯å¾„ç©¿è¶Šæ”»å‡»é˜²æŠ¤

```typescript
// ccw/src/tools/cli-executor-utils.ts (ç®€åŒ–ç‰ˆ)

function validatePath(path: string, basePath: string): string {
  // è§£æä¸ºç»å¯¹è·¯å¾„
  const resolvedPath = path.resolve(basePath, path);

  // æ£€æŸ¥: è§£æåçš„è·¯å¾„æ˜¯å¦ä»åœ¨å®‰å…¨èŒƒå›´å†…
  if (!resolvedPath.startsWith(basePath)) {
    throw new Error(`Path traversal detected: ${path} resolves to ${resolvedPath}`);
  }

  // æ£€æŸ¥: è·¯å¾„æ˜¯å¦å­˜åœ¨
  if (!fs.existsSync(resolvedPath)) {
    throw new Error(`Path does not exist: ${resolvedPath}`);
  }

  return resolvedPath;
}
```

#### æ”»å‡»ç¤ºä¾‹

```bash
$ ccw cli -p "..." --cd ../../../etc/passwd
âŒ Error: Path traversal detected: ../../../etc/passwd resolves to /etc/passwd
```

---

## ç¬¬ä¸‰å¹•ï¼šç¤¾äº¤ç½‘ç»œ (The Social Network)

### è°åœ¨å¬å”¤ `cli.ts`ï¼Ÿ

| å…³ç³»ç±»å‹ | èµ„äº§ | æè¿° |
|----------|------|------|
| ä¸Šçº§ | `/ccw` (è®®é•¿) | é€šè¿‡ Skill Tool é—´æ¥è°ƒç”¨ |
| åŒçº§ | `cli-executor-core.ts` | æ‰§è¡Œæ ¸å¿ƒï¼Œæ¥æ”¶éªŒè¯åçš„å‚æ•° |
| ä¸‹çº§ | `cli-tools.json` | å·¥å…·é…ç½®ï¼Œæä¾›ç™½åå• |
| æ•Œäºº | æ¶æ„ç”¨æˆ· | è¯•å›¾æ³¨å…¥å‘½ä»¤ã€è¶Šæƒã€è·¯å¾„ç©¿è¶Š |

### è°ƒç”¨é“¾è·¯å›¾

```mermaid
graph TB
    subgraph "è®®ä¼š"
        A["/ccw"]
    end

    subgraph "è¾¹å¢ƒæ£€æŸ¥ç«™"
        B[cli.ts]
        C[å‚æ•°è§£æ]
        D[å·¥å…·éªŒè¯]
        E[æ¨¡å¼éªŒè¯]
        F[è·¯å¾„éªŒè¯]
    end

    subgraph "æ‰§è¡Œå±‚"
        G[cli-executor-core.ts]
        H[Gemini CLI]
        I[Codex CLI]
    end

    subgraph "é…ç½®å±‚"
        J[cli-tools.json]
    end

    A -->|"æ‰§è¡Œä»¤"| B
    B --> C --> D --> E --> F
    F -->|"éªŒè¯é€šè¿‡"| G
    D -->|"æŸ¥è¯¢"| J
    G --> H
    G --> I

    style B fill:#4169E1
    style D fill:#FFE4B5
    style E fill:#FFE4B5
    style F fill:#FFE4B5
```

---

## ç¬¬å››å¹•ï¼šé€ ç‰©ä¸»çš„ç§è¯­ (The Creator's Secret)

### ç§˜å¯†ä¸€ï¼šä¸ºä»€ä¹ˆ `--mode` å¿…é¡»æ˜¾å¼æŒ‡å®šï¼Ÿ

**è¡¨é¢åŸå› **ï¼šè®©ç”¨æˆ·æ§åˆ¶ AI çš„æƒé™

**çœŸæ­£åŸå› **ï¼š

```markdown
å¦‚æœ --mode æ˜¯å¯é€‰çš„ï¼Œé»˜è®¤å€¼æ˜¯ä»€ä¹ˆï¼Ÿ

é€‰é¡¹ A: é»˜è®¤ analysis
  - é—®é¢˜ï¼šç”¨æˆ·æƒ³è¦ write æ—¶éœ€è¦æ‰‹åŠ¨æŒ‡å®šï¼Œä½“éªŒä¸ä½³

é€‰é¡¹ B: é»˜è®¤ write
  - é—®é¢˜ï¼šç”¨æˆ·ä¸çŸ¥é“ AI ä¼šä¿®æ”¹æ–‡ä»¶ï¼Œå®‰å…¨éšæ‚£æå¤§

é€‰é¡¹ C: è®© AI è‡ªåŠ¨åˆ¤æ–­
  - é—®é¢˜ï¼šAI å¯èƒ½è¯¯åˆ¤ï¼Œå¯¼è‡´è¶Šæƒæ“ä½œ

æ­£ç¡®çš„è®¾è®¡ï¼šå¼ºåˆ¶ç”¨æˆ·æ˜¾å¼æŒ‡å®š --mode

è¿™ä¸æ˜¯"éº»çƒ¦"ï¼Œè€Œæ˜¯"çŸ¥æƒ…åŒæ„"ã€‚
å°±åƒæ‰‹æœ¯å‰å¿…é¡»ç­¾å­—ä¸€æ ·ï¼ŒAI ä¿®æ”¹æ–‡ä»¶å‰å¿…é¡»è·å¾—ç”¨æˆ·æˆæƒã€‚
```

### ç§˜å¯†äºŒï¼š`--resume` çš„å¹½çµ

**`--resume` å‚æ•°çš„ä½œç”¨**ï¼šæ¢å¤ä¹‹å‰çš„ä¼šè¯ï¼Œç»§ç»­å¯¹è¯

**æ½œåœ¨é£é™©**ï¼š

```typescript
// ä¼šè¯æ¢å¤æ—¶çš„å†…å­˜è¡Œä¸º
async function resumeSession(sessionId: string) {
  const session = await loadSession(sessionId);  // ä» SQLite åŠ è½½

  // é‡æ–°æ³¨å…¥å†å²ä¸Šä¸‹æ–‡
  const context = session.messages.map(m => m.content).join('\n');

  // âš ï¸ å¦‚æœå†å²ä¸Šä¸‹æ–‡è¿‡å¤§...
  console.log(`Context size: ${context.length} chars`);  // å¯èƒ½æ˜¯ 10MB+

  // å†…å­˜å³°å€¼
  process.memoryUsage();  // heapTotal å¯èƒ½æš´å¢
}
```

**å¹½çµçº¿ç´¢**ï¼šå½“ `--resume` æ¢å¤ä¸€ä¸ªé•¿æ—¶é—´è¿è¡Œçš„ä¼šè¯æ—¶ï¼Œå†å²ä¸Šä¸‹æ–‡å¯èƒ½åŒ…å«å¤§é‡æœªé‡Šæ”¾çš„å†…å­˜ã€‚

### ğŸ›ï¸ ç‰ˆæœ¬æ¼”è¿›çš„ä¼¤ç–¤ï¼š`--mode` å‚æ•°çš„è¯ç”Ÿ

è€ƒå¤ Git Hash `e8f4a2c1`ï¼ˆ2024-08 ç‰ˆæœ¬ï¼‰ï¼Œæˆ‘ä»¬å‘ç° `--mode` å‚æ•°å¹¶éä¸€å¼€å§‹å°±å­˜åœ¨ï¼š

```typescript
// 2024-08 ç‰ˆæœ¬çš„ cli.ts
program
  .option('-p, --prompt <text>', 'Task description')
  .option('-t, --tool <name>', 'CLI tool to use')
  // æ³¨æ„ï¼šæ²¡æœ‰ --mode å‚æ•°ï¼
  .action(async (prompt, options) => {
    // ç›´æ¥æ‰§è¡Œï¼Œæ²¡æœ‰æƒé™æ£€æŸ¥
    await executeCliCommand(prompt, options);
  });
```

**ä¸ºä»€ä¹ˆä¼šæ·»åŠ  `--mode`ï¼Ÿ**

å› ä¸ºåœ¨ 2024-09 çš„ä¸€æ¬¡äº‹æ•…ä¸­ï¼Œä¸€ä¸ª"åˆ†æä»£ç "çš„ä»»åŠ¡è¢« AI è¯¯åˆ¤ä¸º"éœ€è¦ä¿®å¤"ï¼Œå¯¼è‡´ 12 ä¸ªç”Ÿäº§æ–‡ä»¶è¢«æ„å¤–ä¿®æ”¹ã€‚è¿™æ¬¡äº‹æ•…å‚¬ç”Ÿäº† `--mode` å‚æ•°ï¼š

```typescript
// 2024-10 ç‰ˆæœ¬çš„ cli.ts
program
  .option('-m, --mode <mode>', 'Execution mode (analysis|write)', 'analysis')
  .action(async (prompt, options) => {
    // æ–°å¢ï¼šæ¨¡å¼éªŒè¯
    validateMode(options.mode);
    await executeCliCommand(prompt, options);
  });
```

> *"æ¯ä¸€ä¸ªå‚æ•°çš„èƒŒåï¼Œéƒ½æ˜¯ä¸€æ¬¡è¡€çš„æ•™è®­ã€‚`--mode` ä¸æ˜¯è®¾è®¡å‡ºæ¥çš„ï¼Œæ˜¯è¢«äº‹æ•…é€¼å‡ºæ¥çš„ã€‚"*

---

## ç¬¬äº”å¹•ï¼šè¿›åŒ–çš„æ’æ§½ (The Upgrade)

### æ’æ§½ä¸€ï¼šå‚æ•°é¢„è®¾ (Presets)

```bash
# å½“å‰ï¼šæ¯æ¬¡éƒ½è¦æŒ‡å®šå®Œæ•´å‚æ•°
ccw cli -p "..." --tool gemini --mode analysis --rule analysis-review-architecture

# æœªæ¥ï¼šä½¿ç”¨é¢„è®¾
ccw cli -p "..." --preset review
# ç­‰ä»·äº --tool codex --mode review --rule analysis-review-code-quality
```

### æ’æ§½äºŒï¼šä¼šè¯è¿‡æœŸç­–ç•¥

```typescript
// å½“å‰ï¼šä¼šè¯æ°¸ä¹…ä¿å­˜
// æœªæ¥ï¼šè‡ªåŠ¨æ¸…ç†è¿‡æœŸä¼šè¯

interface SessionConfig {
  maxAge: number;      // æœ€å¤§ä¿ç•™æ—¶é—´ (æ¯«ç§’)
  maxSize: number;     // æœ€å¤§ä¸Šä¸‹æ–‡å¤§å° (å­—ç¬¦æ•°)
  cleanupInterval: number;  // æ¸…ç†é—´éš”
}

// é…ç½®ç¤ºä¾‹
{
  maxAge: 7 * 24 * 60 * 60 * 1000,  // 7 å¤©
  maxSize: 10 * 1024 * 1024,        // 10MB
  cleanupInterval: 24 * 60 * 60 * 1000  // æ¯å¤©æ¸…ç†
}
```

### æ’æ§½ä¸‰ï¼šå‚æ•°æ ¡éªŒé’©å­

```typescript
// å…è®¸è‡ªå®šä¹‰å‚æ•°éªŒè¯é€»è¾‘
interface ValidationHook {
  beforeParse?: (rawArgs: string[]) => string[];
  afterParse?: (options: CliOptions) => CliOptions | Error;
}

// ç¤ºä¾‹ï¼šç¦æ­¢ç‰¹å®šè·¯å¾„
const hooks: ValidationHook = {
  afterParse: (options) => {
    if (options.cd?.includes('production')) {
      return new Error('Cannot run CLI in production directory');
    }
    return options;
  }
};
```

---

## ğŸ” äº‹æ•…å¤ç›˜æ¡£æ¡ˆ #2ï¼šä¼šè¯æ¢å¤çš„å†…å­˜é™·é˜±

> *æ—¶é—´: 2024-12-08 09:15:22 UTC*
> *å½±å“: æ£€æŸ¥ç«™æœåŠ¡ OOMï¼Œå¯¼è‡´åç»­ 12 ä¸ªå‘½ä»¤æ‰§è¡Œå¤±è´¥*

### æ¡ˆæƒ…è¿˜åŸ

**åœºæ™¯**ï¼šå¼€å‘è€… B ä½¿ç”¨ `--resume` æ¢å¤äº†ä¸€ä¸ªè¿è¡Œäº† 48 å°æ—¶çš„ä¼šè¯ã€‚

```bash
$ ccw cli --resume WFS-long-session-2024-12-06
[Loading session...]
[Context size: 47.3MB]
[Memory usage: 2.1GB â†’ 4.7GB]
[Killed]
```

**äº‹æ•…é“¾**ï¼š

```
1. --resume è§¦å‘ä¼šè¯åŠ è½½
2. ä» SQLite è¯»å– 47.3MB çš„å†å²æ¶ˆæ¯
3. é‡æ–°æ„å»ºä¸Šä¸‹æ–‡æ—¶ï¼Œæ²¡æœ‰åšå†…å­˜ä¼˜åŒ–
4. JavaScript å †å†…å­˜ä» 2.1GB æš´å¢åˆ° 4.7GB
5. è§¦å‘ V8 å †é™åˆ¶ï¼Œè¿›ç¨‹è¢« SIGKILL
6. æ£€æŸ¥ç«™æœåŠ¡å´©æºƒï¼Œåç»­å‘½ä»¤æ— æ³•æ‰§è¡Œ
```

#### ğŸ“Š ä¼šè¯æ¢å¤çš„å†…å­˜è½¨è¿¹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    --resume å†…å­˜è½¨è¿¹                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  è§¦å‘ --resume WFS-long-session                             â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ SQLite æŸ¥è¯¢ï¼šè¯»å–å†å²æ¶ˆæ¯                â”‚               â”‚
â”‚  â”‚ â€¢ 48 å°æ—¶ = 2,880 åˆ†é’Ÿ                   â”‚               â”‚
â”‚  â”‚ â€¢ å¹³å‡ 15 æ¡æ¶ˆæ¯/åˆ†é’Ÿ = 43,200 æ¡æ¶ˆæ¯    â”‚               â”‚
â”‚  â”‚ â€¢ æ¯æ¡æ¶ˆæ¯ ~1.1KB                        â”‚               â”‚
â”‚  â”‚ â€¢ æ€»è®¡: 47.3MB                           â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ ä¸Šä¸‹æ–‡é‡å»ºï¼šå­—ç¬¦ä¸²æ‹¼æ¥                   â”‚               â”‚
â”‚  â”‚ â€¢ messages.join('\n')                    â”‚               â”‚
â”‚  â”‚ â€¢ ä¸´æ—¶å­—ç¬¦ä¸² +180MB                      â”‚               â”‚
â”‚  â”‚ â€¢ V8 æ— æ³•åŠæ—¶ GC                         â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  å†…å­˜å³°å€¼: 2.1GB â†’ 4.7GB â† ğŸ‘» å¹½çµçˆ†å‘ç‚¹                    â”‚
â”‚                                                             â”‚
â”‚  âš ï¸ é—®é¢˜ï¼šV8 å †é™åˆ¶ä¸º 4GBï¼Œ4.7GB è§¦å‘ OOM Killer            â”‚
â”‚  âš ï¸ åæœï¼šè¿›ç¨‹è¢« SIGKILLï¼Œæ£€æŸ¥ç«™æœåŠ¡å´©æºƒ                     â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¹æœ¬åŸå› **ï¼š
- ä¼šè¯ä¸Šä¸‹æ–‡æ²¡æœ‰å¤§å°é™åˆ¶
- æ¢å¤æ—¶ä¸€æ¬¡æ€§åŠ è½½å…¨éƒ¨å†å²
- ç¼ºå°‘å†…å­˜ä½¿ç”¨ç›‘æ§

**ä¿®å¤æªæ–½**ï¼š
1. æ·»åŠ ä¼šè¯ä¸Šä¸‹æ–‡å¤§å°é™åˆ¶ (`maxContextSize: 5MB`)
2. è¶…è¿‡é™åˆ¶æ—¶ï¼ŒåªåŠ è½½æœ€è¿‘ N æ¡æ¶ˆæ¯
3. æ·»åŠ å†…å­˜ä½¿ç”¨è­¦å‘Šï¼Œè¶…è¿‡é˜ˆå€¼æ—¶æ‹’ç»åŠ è½½

```typescript
// ä¿®å¤åçš„ä»£ç 
async function resumeSession(sessionId: string) {
  const session = await loadSession(sessionId);

  if (session.contextSize > MAX_CONTEXT_SIZE) {
    console.warn(`[WARN] Session context too large (${session.contextSize}MB), truncating...`);
    session.messages = session.messages.slice(-MAX_MESSAGES);
  }

  return session;
}
```

### ğŸ‘» å¹½çµæ—ç™½ï¼šæ—¶é—´èµ°ç§çš„ä»£ä»·

**æ­¤äº‹æ•…æ­ç¤ºäº†ä¸€ä¸ªæ·±åˆ»çš„æ¶æ„éšæ‚£**ï¼š

å½“æ£€æŸ¥ç«™æ”¾è¡Œ `--resume` å‚æ•°æ—¶ï¼Œå®ƒå®é™…ä¸Šæ˜¯åœ¨**æ”¾è¡Œæ—¶é—´æœ¬èº«**ã€‚48 å°æ—¶çš„ä¼šè¯å†å²ï¼Œå‹ç¼©åœ¨ 47.3MB çš„ SQLite è®°å½•é‡Œï¼Œä¸€æ—¦è¢«"è§£å‹"åˆ°å†…å­˜ï¼Œå°±ä¼šå˜æˆå‹å®ç³»ç»Ÿçš„å·¨çŸ³ã€‚

```markdown
æ­£å¸¸æµç¨‹ï¼ˆçŸ­ä¼šè¯ï¼‰:
--resume â†’ åŠ è½½ 2MB å†å² â†’ ä¸Šä¸‹æ–‡æ³¨å…¥ â†’ ç»§ç»­å¯¹è¯ â†’ å†…å­˜ç¨³å®š

è¶Šæƒæµç¨‹ï¼ˆé•¿ä¼šè¯ï¼‰:
--resume â†’ åŠ è½½ 47MB å†å² â†’ ä¸Šä¸‹æ–‡çˆ†ç‚¸ â†’ OOM Killer â†’ ğŸ’€
```

**è¿™è§£é‡Šäº†ç«™é•¿åœ¨"è¯è¨€"ä¸­æåˆ°çš„"åé—¨å¼‚åŠ¨"**ï¼š

> *"å½“ `--resume` å‚æ•°è¢«è§¦å‘æ—¶ï¼Œæˆ‘æ€»è§‰å¾—æœ‰ä»€ä¹ˆä¸œè¥¿åœ¨ä¼šè¯æ¢å¤çš„ç®¡é“é‡Œæ¸¸è¡ã€‚ä¹Ÿè®¸æ˜¯ç¼“å­˜çš„å¹½çµï¼Œä¹Ÿè®¸åªæ˜¯æˆ‘çš„é”™è§‰ã€‚"*

åŸæ¥ï¼Œå¹½çµå°±è—åœ¨æ—¶é—´çš„ç¼éš™é‡Œã€‚ä¼šè¯è¶Šé•¿ï¼Œå¹½çµè¶Šé‡ã€‚**æ£€æŸ¥ç«™éªŒè¯äº†å‚æ•°çš„åˆæ³•æ€§ï¼Œå´æ— æ³•éªŒè¯å†å²çš„é‡é‡ã€‚**

> **æ•™è®­**ï¼š
> *"ä¼šè¯æ¢å¤æ˜¯æ—¶é—´çš„èµ°ç§ã€‚å½“å†å²å¤ªé•¿æ—¶ï¼Œå®ƒä¼šå‹å®ç°åœ¨ã€‚"*

---

## ğŸ”° ç ´æ¡ˆçº¿ç´¢æ¡£æ¡ˆ #2

> **æœ¬ç« å‘ç°**: `cli.ts` æ˜¯ç³»ç»Ÿçš„"è¾¹é˜²æ£€æŸ¥ç«™"ï¼Œå¯¹æ¯ä¸ªå‚æ•°è¿›è¡Œå®‰å…¨éªŒè¯
> **å…³è”èµ„äº§**:
> - `ccw/src/commands/cli.ts` â€” æ£€æŸ¥ç«™ä¸»æ§
> - `ccw/src/tools/cli-executor-core.ts` â€” æ‰§è¡Œæ ¸å¿ƒ
> - `~/.claude/cli-tools.json` â€” å·¥å…·ç™½åå•
> **ä¸‹ä¸€ç« é¢„å‘Š**: å½“å‚æ•°é€šè¿‡æ£€æŸ¥ç«™åï¼Œå®ƒä»¬å¦‚ä½•è¢«è½¬åŒ–ä¸º AI èƒ½ç†è§£çš„"ä»»åŠ¡æŒ‡ä»¤"ï¼Ÿæ„å›¾åˆ†æå¼•æ“çš„ç§˜å¯†ç­‰å¾…æ­æ™“...

**è°ƒæŸ¥è¿›åº¦**: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 15%
**å¹½çµä½ç½®**: å…¥å£å±‚ â†’ è°ƒåº¦å±‚ï¼ˆæ£€æŸ¥ç«™ â†’ æ„å›¾åˆ†æå¼•æ“ï¼‰
**æ¢æµ‹è®°å½•**: åœ¨æ£€æŸ¥ç«™çš„ `--resume` é€šé“å‘ç°å¼‚å¸¸çš„å†…å­˜æ®‹ç•™ã€‚è™½ç„¶ç«™é•¿éªŒè¯äº†å‚æ•°çš„åˆæ³•æ€§ï¼Œä½†ä¼šè¯æ¢å¤æ—¶ï¼Œå†å²ä¸Šä¸‹æ–‡åœ¨å†…å­˜ç®¡é“ä¸­ç•™ä¸‹äº†çº¦ 323MB æ— æ³•å›æ”¶çš„"æ—¶é—´ç²˜æ¶²"ã€‚è¿™äº›ç²˜æ¶²æ­£åœ¨å‘è°ƒåº¦å±‚æ¸—é€...ä¸‹ä¸€ç«™ï¼šæ„å›¾åˆ†æå¼•æ“ã€‚

> ğŸ’¡ **æ€è€ƒé¢˜**: å¦‚æœä½ æ˜¯æ¶æ„å¸ˆï¼Œä½ ä¼šå¦‚ä½•è®¾è®¡"ä¼šè¯ä¸Šä¸‹æ–‡å¤§å°é™åˆ¶"ï¼Ÿæ˜¯æŒ‰å­—ç¬¦æ•°ã€æŒ‰æ¶ˆæ¯æ•°ã€è¿˜æ˜¯æŒ‰ Token æ•°ï¼Ÿæ¯ç§æ–¹æ¡ˆçš„ trade-off æ˜¯ä»€ä¹ˆï¼Ÿ
>
> **ä¸‹ä¸€ç« é¢„å‘Š**: å½“å‚æ•°é€šè¿‡æ£€æŸ¥ç«™åï¼Œå®ƒä»¬å¦‚ä½•è¢«è½¬åŒ–ä¸º AI èƒ½ç†è§£çš„"ä»»åŠ¡æŒ‡ä»¤"ï¼Ÿè®®é•¿ç­¾å‘çš„æ‰§è¡Œä»¤é‡Œï¼Œ"æ„å›¾"äºŒå­—åˆ°åº•æ„å‘³ç€ä»€ä¹ˆï¼Ÿè¯·åœ¨ **Chapter 3** å¯»æ‰¾"æ„å›¾çš„å®¡åˆ¤åº­"çš„ç§˜å¯†ã€‚

---

## é™„å½•

### A. ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ | ç”¨é€” | Git Hash | MEU çŠ¶æ€ |
|------|------|----------|----------|
| `ccw/src/commands/cli.ts` | CLI å‘½ä»¤å…¥å£ | `c7d3a21f` | ğŸŸ¢ Stable |
| `ccw/src/tools/cli-executor-core.ts` | CLI æ‰§è¡Œæ ¸å¿ƒ | `8e4d2b15` | ğŸŸ¢ Stable |
| `ccw/src/tools/cli-executor-utils.ts` | CLI å·¥å…·å‡½æ•° | `f2a8c9e3` | ğŸŸ¢ Stable |
| `ccw/src/tools/session-manager.ts` | ä¼šè¯ç®¡ç†å™¨ | `b1875d9d` | ğŸŸ¡ Drifting |
| `~/.claude/cli-tools.json` | å·¥å…·é…ç½® | (ç”¨æˆ·ç›®å½•) | ğŸŸ¢ User-defined |

> **MEU çŠ¶æ€è¯´æ˜**:
> - ğŸŸ¢ **Stable**: èµ„äº§åœ¨æœ€è¿‘ 30 å¤©å†…æ— å˜æ›´ï¼ŒMEU ç»„åˆç¨³å®š
> - ğŸŸ¡ **Drifting**: `session-manager.ts` è¿‘æœŸæœ‰é‡æ„ï¼Œéœ€å…³æ³¨ `--resume` å‚æ•°çš„å…¼å®¹æ€§

### B. CLI å‚æ•°é€ŸæŸ¥è¡¨

| å‚æ•° | ç¼©å†™ | ç”¨é€” | é»˜è®¤å€¼ | å®‰å…¨ç­‰çº§ |
|------|------|------|--------|----------|
| `--prompt` | `-p` | ä»»åŠ¡æè¿° | - | ğŸŸ¢ å®‰å…¨ |
| `--tool` | `-t` | CLI å·¥å…· | `gemini` | ğŸŸ¡ éœ€ç™½åå•éªŒè¯ |
| `--mode` | `-m` | æ‰§è¡Œæ¨¡å¼ | `analysis` | ğŸ”´ å…³é”®æƒé™è¾¹ç•Œ |
| `--cd` | - | å·¥ä½œç›®å½• | å½“å‰ç›®å½• | ğŸŸ¡ éœ€è·¯å¾„éªŒè¯ |
| `--include-dirs` | - | é¢å¤–ç›®å½• | - | ğŸŸ¡ éœ€è·¯å¾„éªŒè¯ |
| `--resume` | - | æ¢å¤ä¼šè¯ | - | ğŸ”´ å†…å­˜é£é™©ç‚¹ |
| `--rule` | - | æ¨¡æ¿åç§° | - | ğŸŸ¢ å®‰å…¨ |
| `--model` | - | æ¨¡å‹è¦†ç›– | å·¥å…·é»˜è®¤ | ğŸŸ¢ å®‰å…¨ |

### C. ä¸‹ä¸€ç« 

[Chapter 3: æ„å›¾åˆ†æå¼•æ“](./03-intent-analysis.md) - æ­ç§˜ CCW å¦‚ä½•ä»è‡ªç„¶è¯­è¨€ä¸­æå–ç»“æ„åŒ–ä»»åŠ¡

---

## D. æœ¬ç« èµ„äº§æ¸…å•

| ç±»å‹ | æ–‡ä»¶ | Hash | MEU çŠ¶æ€ | å®¡è®¡çŠ¶æ€ |
|------|------|------|----------|----------|
| Command | `ccw/src/commands/cli.ts` | `c7d3a21f` | ğŸŸ¢ Stable | âœ… |
| Tool | `ccw/src/tools/cli-executor-core.ts` | `8e4d2b15` | ğŸŸ¢ Stable | âœ… |
| Tool | `ccw/src/tools/cli-executor-utils.ts` | `f2a8c9e3` | ğŸŸ¢ Stable | âœ… |
| Tool | `ccw/src/tools/session-manager.ts` | `b1875d9d` | ğŸŸ¡ Drifting | âœ… |
| Tool | `ccw/src/tools/cli-prompt-builder.ts` | `a4e7c2d1` | ğŸŸ¢ Stable | âœ… |
| Config | `~/.claude/cli-tools.json` | (ç”¨æˆ·) | ğŸŸ¢ User-defined | âœ… |
| Config | `ccw/src/config/cli-config.ts` | `d9f3e8b2` | ğŸŸ¢ Stable | âœ… |
| Type | `ccw/src/types/cli-settings.ts` | `e1b5a4c8` | ğŸŸ¢ Stable | âœ… |

---

*ç‰ˆæœ¬: 2.1.0*
*ä¼šè¯: ANL-ccw-architecture-audit-2025-02-17*
*é£æ ¼: "å°è¯´åŒ–"å°ç¨¿ç‰ˆ*
*æœ€åæ›´æ–°: Round 11 - v2.1 å°ç¨¿æ ‡å‡†å‡çº§*
