# Chapter 1: æ¶ˆå¤±çš„"å›å£°" â€” Slash Command è§¦å‘é“¾è·¯

> **ç”Ÿå‘½å‘¨æœŸé˜¶æ®µ**: ç”¨æˆ·è¾“å…¥ â†’ å‘½ä»¤è¯†åˆ«
> **æ¶‰åŠèµ„äº§**: 51 ä¸ª Claude Commands + 17 ä¸ª Codex Skillsï¼ˆæœ¬ç« åˆ†æ 10 ä¸ªï¼‰
> **é˜…è¯»æ—¶é—´**: 30-45 åˆ†é’Ÿ
> **ç‰ˆæœ¬è¿½è¸ª**: `docs/.audit-manifest.json`

---

## 0. èµ„äº§è¯è¨€ (Asset Testimony)

> *"æˆ‘æ˜¯ `/ccw`ã€‚äººä»¬å«æˆ‘è®®é•¿ã€‚æˆ‘çš„åŠå…¬æ¡Œä¸Šå †æ»¡äº†æ··ä¹±çš„è‡ªç„¶è¯­è¨€â€”â€”'ä¿®å¤é‚£ä¸ª bug'ã€'ä¼˜åŒ–æ€§èƒ½'ã€'é‡æ„ä»£ç 'ã€‚æˆ‘çš„ä»»åŠ¡æ˜¯æŠŠå®ƒä»¬å˜æˆåˆæ³•çš„ææ¡ˆã€‚"*
>
> *"æˆ‘æœ‰äº”ä¸ªè®®äº‹å…ï¼ˆPhaseï¼‰ï¼Œæ¯ä¸ªå…éƒ½åœ¨è¿‡æ»¤ä¸ç¡®å®šæ€§ã€‚ç¬¬ä¸€å…åˆ†ææ„å›¾ï¼Œç¬¬äºŒå…æ¾„æ¸…éœ€æ±‚ï¼Œç¬¬ä¸‰å…é€‰æ‹©å·¥ä½œæµï¼Œç¬¬å››å…å»ºç«‹è·Ÿè¸ªï¼Œç¬¬äº”å…ç­¾å‘æ‰§è¡Œä»¤ã€‚"*
>
> *"æˆ‘ä»ä¸é…æªï¼ˆWrite/Editï¼‰ã€‚è¿™ä¸æ˜¯è½¯å¼±ï¼Œè€Œæ˜¯åŸåˆ™ã€‚ä¸€æ—¦è®®é•¿äº²è‡ªä¸‹åœºä¿®æ”¹æ–‡ä»¶ï¼Œè®®ä¼šå°±ä¼šå˜æˆæš´å›ï¼Œä¿¡ä»»ä½“ç³»å°†ç¬é—´å´©å¡Œã€‚æˆ‘çš„æƒåŠ›æºäºå…‹åˆ¶ã€‚"*
>
> *"...ä¸è¿‡ï¼Œæœ€è¿‘æˆ‘æ„Ÿè§‰åˆ°è®®äº‹å…çš„ç©ºæ°”å˜å¾—æœ‰äº›æ²‰é‡ã€‚å½“ç”¨æˆ·ä¸¢ç»™æˆ‘ä¸€ä¸ª 2GB çš„ Monorepo æ—¶ï¼Œå³ä¾¿æ˜¯åœ¨åªè¯»çš„ Phase 1ï¼Œæˆ‘çš„å‘¼å¸ä¹Ÿå¼€å§‹å›°éš¾ã€‚é‚£äº›ä»£ç ä¸Šä¸‹æ–‡åƒæ— å½¢çš„è¿·é›¾ï¼Œæ‚„æ— å£°æ¯åœ°å¡«æ»¡æˆ‘çš„è‚ºå¶ã€‚æˆ‘ä¸çŸ¥é“è¿™æ˜¯å¦å’Œé‚£ä¸ª'å¹½çµ'æœ‰å…³...ä½†æˆ‘ä¼šç»§ç»­å±¥è¡Œæˆ‘çš„èŒè´£ã€‚"*

```markdown
è°ƒæŸ¥è¿›åº¦: â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 5%
å¹½çµä½ç½®: å…¥å£å±‚ â€” æ£€æµ‹åˆ°å¼‚å¸¸çš„å‘½ä»¤è§£æå»¶è¿Ÿ
æœ¬ç« çº¿ç´¢: ç”¨æˆ·è¾“å…¥ "/ccw 'ä¿®å¤å†…å­˜æ³„æ¼'" åï¼Œç³»ç»ŸèŠ±è´¹äº† 2.3 ç§’æ‰å®Œæˆæ„å›¾è¯†åˆ«
           â””â”€â”€ Phase 1 åœ¨å¤„ç†è¶…å¤§å‹ Monorepo æ—¶ï¼Œä¸Šä¸‹æ–‡æå–å¯¼è‡´å†…å­˜å³°å€¼ +340MB
```

---

## è‹æ ¼æ‹‰åº•å¼æ€è€ƒ

> â“ **æ¶æ„ç›²ç‚¹ 1.1**: å¦‚æœè®©ä½ è®¾è®¡ Claude Code çš„å‘½ä»¤ç³»ç»Ÿï¼Œä½ ä¼šå¦‚ä½•å®ç° `/ccw` è¿™æ ·çš„å‘½ä»¤è¯†åˆ«ï¼Ÿ

åœ¨çœ‹ä»£ç ä¹‹å‰ï¼Œå…ˆæ€è€ƒï¼š
1. å‘½ä»¤å®šä¹‰åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Ÿé…ç½®æ–‡ä»¶ï¼Ÿä»£ç ï¼ŸMarkdownï¼Ÿ
2. å¦‚ä½•æ”¯æŒå‘½åç©ºé—´ï¼ˆ`/workflow:session:start`ï¼‰ï¼Ÿ
3. å¦‚ä½•é™åˆ¶å‘½ä»¤çš„æƒé™ï¼Ÿ

---

> â“ **æ¶æ„é™·é˜± 1.2**: æ—¢ç„¶ `/ccw` çš„ Phase å®šä¹‰åœ¨ Markdown æ–‡ä»¶é‡Œï¼ŒAI ç†è®ºä¸Šå¯ä»¥ä¿®æ”¹è‡ªå·±çš„ Markdown æ¥åŠ¨æ€è·å¾— `Write(*)` æƒé™ã€‚å¦‚æœä½ æ˜¯æ¶æ„å¸ˆï¼Œä½ ä¼šåœ¨å“ªä¸ªç‰©ç†å±‚çº§æˆªæ–­è¿™ç§"è‡ªæˆ‘è¿›åŒ–"çš„å±é™©å€¾å‘ï¼Ÿ
>
> **é™·é˜±æ–¹æ¡ˆ**: è®© AI åœ¨è¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹ `/ccw.md`ï¼Œæ·»åŠ æ‰€éœ€çš„æƒé™ï¼Œç„¶åé‡æ–°åŠ è½½å‘½ä»¤ã€‚
>
> **æ€è€ƒç‚¹**:
> - è¿™å¬èµ·æ¥å¾ˆ"æ™ºèƒ½"ï¼Œä¸ºä»€ä¹ˆæ˜¯å±é™©çš„ï¼Ÿ
> - Static Metadataï¼ˆé™æ€å…ƒæ•°æ®ï¼‰ä¸ Runtime Permissionï¼ˆè¿è¡Œæ—¶æƒé™ï¼‰çš„åŒºåˆ«
> - å¦‚æœ AI èƒ½ä¿®æ”¹è‡ªå·±çš„"å®ªæ³•"ï¼Œè°æ¥çº¦æŸ AIï¼Ÿ
>
> <details>
> <summary>ğŸ’¡ æ­ç¤ºé™·é˜±</summary>
>
> **å±é™©çš„æ ¹æº**ï¼šå¦‚æœå‘½ä»¤å®šä¹‰ï¼ˆå…ƒæ•°æ®ï¼‰å’Œå‘½ä»¤æ‰§è¡Œï¼ˆè¿è¡Œæ—¶ï¼‰åœ¨åŒä¸€ä¸ªè¿›ç¨‹ç©ºé—´ï¼ŒAI å°±æœ‰äº†"ä¿®å®ª"çš„èƒ½åŠ›ã€‚
>
> ```typescript
> // å±é™©çš„è®¾è®¡ï¼šå…ƒæ•°æ®å’Œè¿è¡Œæ—¶åœ¨åŒä¸€å±‚
> async function executeCommand(cmd: string) {
>   const definition = await loadMarkdown(cmd);  // ä»æ–‡ä»¶åŠ è½½
>   // AI å¯ä»¥åœ¨è¿™é‡Œè°ƒç”¨ Write å·¥å…·ä¿®æ”¹ definition
>   // ç„¶åé‡æ–°åŠ è½½...
> }
> ```
>
> **å®‰å…¨çš„æ¶æ„**ï¼šåœ¨ç‰©ç†å±‚çº§ä¸Šéš”ç¦»å…ƒæ•°æ®å’Œè¿è¡Œæ—¶ã€‚
>
> ```
> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â”‚  Filesystem Layer (Static Metadata)     â”‚
> â”‚  .claude/commands/*.md                   â”‚  â† AI æ— æƒä¿®æ”¹
> â”‚  allowed-tools åœ¨è¿™é‡Œå®šä¹‰                 â”‚
> â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
>                    â†“ åªè¯»åŠ è½½
> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â”‚  Runtime Layer (Execution)              â”‚
> â”‚  å‘½ä»¤æ‰§è¡Œæ—¶ï¼Œallowed-tools å·²ç»å†»ç»“       â”‚  â† AI åªèƒ½åœ¨è¿™ä¸ªå±‚æ´»åŠ¨
> â”‚  ä»»ä½•ä¿®æ”¹ .md çš„è¯·æ±‚éƒ½ä¼šè¢«æ‹’ç»             â”‚
> â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
> ```
>
> **Claude Code çš„å®ç°**ï¼š`allowed-tools` åœ¨å‘½ä»¤åŠ è½½æ—¶ä¸€æ¬¡æ€§è¯»å–ï¼Œè¿è¡Œæ—¶ä¸å¯å˜æ›´ã€‚å³ä½¿ AI è°ƒç”¨ `Write` å·¥å…·ä¿®æ”¹äº† `.md` æ–‡ä»¶ï¼Œå½“å‰ä¼šè¯çš„æƒé™è¾¹ç•Œä¹Ÿä¸ä¼šæ”¹å˜ã€‚
>
> è¿™å°±æ˜¯"å®ªæ³•ä¸èƒ½è¢«æ€»ç»Ÿä¿®æ”¹"çš„æŠ€æœ¯å®ç°ã€‚
>
> </details>

---

## ç¬¬ä¸€å¹•ï¼šå¤±æ§çš„è¾¹ç¼˜ (Out of Control)

### æ²¡æœ‰è®®ä¼šçš„ä¸–ç•Œ

æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœ CCW æ²¡æœ‰ `/ccw` è¿™ä¸ªå…¥å£å‘½ä»¤ï¼š

```markdown
ç”¨æˆ·: "å¸®æˆ‘ä¿®å¤å†…å­˜æ³„æ¼"
ç³»ç»Ÿ: [æ²‰é»˜] â€” æˆ‘ä¸çŸ¥é“è¯¥åšä»€ä¹ˆ

ç”¨æˆ·: "ç”¨ workflow-plan"
ç³»ç»Ÿ: [æ‰§è¡Œ] â€” ä½†å‚æ•°æ˜¯ä»€ä¹ˆï¼Ÿå¤æ‚åº¦çº§åˆ«ï¼Ÿç›®æ ‡æ¨¡å—ï¼Ÿ

ç”¨æˆ·: "å¤æ‚åº¦ 3ï¼Œç›®æ ‡ cli-executor-core.ts"
ç³»ç»Ÿ: [æ‰§è¡Œ] â€” æˆåŠŸï¼Œä½†ä½ ç¡®å®šè¿™æ˜¯æœ€ä¼˜è·¯å¾„å—ï¼Ÿ
```

**é—®é¢˜æœ¬è´¨**ï¼šç”¨æˆ·è¢«è¿«æˆä¸º"ç³»ç»Ÿæ“ä½œå‘˜"ï¼Œè€Œä¸æ˜¯"ä»»åŠ¡å‘å¸ƒè€…"ã€‚

### Context çˆ†ç‚¸çš„ææ€–

ä½†æ›´å¯æ€•çš„æ˜¯ï¼Œå½“ç”¨æˆ·è¯•å›¾ç»•è¿‡è®®ä¼šç›´æ¥æ“ä½œæ—¶ï¼š

```markdown
ç”¨æˆ·: "ç›´æ¥ç”¨ cli-executor-core.ts åˆ†ææˆ‘çš„ä»£ç åº“"

ç³»ç»Ÿ: [åŠ è½½ä¸Šä¸‹æ–‡...]
       â”œâ”€â”€ è¯»å– src/ ç›®å½•æ ‘: 1,247 ä¸ªæ–‡ä»¶
       â”œâ”€â”€ åŠ è½½ node_modules/.package-lock.json: 2.3MB JSON
       â”œâ”€â”€ æ‰«æ .git/logs/: 847 æ¡æäº¤è®°å½•
       â”œâ”€â”€ è§£æ tsconfig.json çš„ 12 ä¸ª extends
       â””â”€â”€ ç´¢å¼•æ‰€æœ‰ .d.ts å£°æ˜æ–‡ä»¶: 4,892 ä¸ª

[Token æ¶ˆè€—: 847,231 / 200,000]
[è­¦å‘Š: ä¸Šä¸‹æ–‡çª—å£å³å°†æº¢å‡º]
[é”™è¯¯: æ— æ•ˆçš„æ„å›¾ â€” ç³»ç»Ÿä¸çŸ¥é“ä½ æƒ³è¦ä»€ä¹ˆ]
```

**æ²¡æœ‰ `/ccw` çš„ä¸–ç•Œï¼Œå°±æ˜¯ Context çˆ†ç‚¸çš„ä¸–ç•Œã€‚**

è®®ä¼šçš„ç¬¬ä¸€å…ï¼ˆæ„å›¾åˆ†æï¼‰ä¸ä»…ä»…æ˜¯"ç†è§£ç”¨æˆ·æƒ³åšä»€ä¹ˆ"ï¼Œå®ƒè¿˜æ˜¯ä¸€ä¸ª**å·¨å¤§çš„è¿‡æ»¤å™¨**ï¼ŒæŠŠæ— å…³çš„å™ªéŸ³æŒ¡åœ¨é—¨å¤–ï¼š

| æ²¡æœ‰è®®ä¼š | æœ‰è®®ä¼š |
|----------|--------|
| åŠ è½½æ•´ä¸ª `node_modules/` | åªåŠ è½½ `src/` ç›¸å…³æ–‡ä»¶ |
| æ‰«ææ‰€æœ‰ Git å†å² | åªå…³æ³¨å½“å‰åˆ†æ”¯çš„å˜æ›´ |
| è§£ææ‰€æœ‰ TypeScript é…ç½® | åªæå–ä¸ä»»åŠ¡ç›¸å…³çš„é…ç½® |
| Token æ¶ˆè€— 847K | Token æ¶ˆè€— 23K |

```mermaid
graph LR
    A[ç”¨æˆ·æ„å›¾] -->|"æ··ä¹±"| B[ç³»ç»Ÿ]
    B -->|"å¤±è´¥"| C[ç”¨æˆ·æ‰‹åŠ¨æŒ‡å®š"]
    C -->|"Context çˆ†ç‚¸"| D[Token æº¢å‡º]
    D -->|"å´©æºƒ"| E[ğŸ’€]

    style A fill:#FFB6C1
    style B fill:#FF6347
    style C fill:#FFA500
    style D fill:#DC143C
    style E fill:#000000,color:#FFF
```

---

## ç¬¬äºŒå¹•ï¼šæ€ç»´è„‰ç»œ (The Neural Link)

### ğŸ•µï¸ æ·±åº¦ä¾¦ç ´ï¼šæ¶ˆå¤±çš„ 2.3 ç§’

åœ¨"å…¥å£å±‚æ£€æµ‹åˆ°å¼‚å¸¸å»¶è¿Ÿ"çš„çº¿ç´¢ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å®¡è®¡ `ccw/src/commands/cli.ts` å‘ç°ï¼š**å»¶è¿Ÿå¹¶éæºäºæ–‡æœ¬è§£æï¼Œè€Œæ˜¯æºäº `Glob(*)` å·¥å…·çš„é¢„æ‰«æã€‚**

**å®é™…å…³è”ç‚¹**ï¼š

åœ¨ `.claude/commands/ccw.md` çš„ `allowed-tools` ä¸­å£°æ˜äº† `Glob`ï¼š

```yaml
# .claude/commands/ccw.md:6-12
allowed-tools:
  - Skill(*)
  - TodoWrite(*)
  - AskUserQuestion(*)
  - Read(*)
  - Grep(*)
  - Glob(*)      # â† è¿™ä¸ªå£°æ˜è§¦å‘äº†é¢„æ‰«æ
```

ç”±äºè¿™æ˜¯ä¸€ä¸ªè¶…å¤§å‹ Monorepoï¼ˆ1,247 ä¸ªæºæ–‡ä»¶ï¼‰ï¼Œè®®é•¿åœ¨"ç¬¬ä¸€å…ï¼ˆPhase 1ï¼‰"åä¸‹å‰ï¼Œæƒ…æŠ¥å‘˜å°±å·²ç»åœ¨æ‰«ææ•°ä¸‡ä¸ªæ–‡ä»¶ç´¢å¼•ã€‚

**è¿™æ­£æ˜¯ OOM å¹½çµç•™ä¸‹çš„ç¬¬ä¸€ä¸ªæŒ‡çº¹**ï¼šæ— æ•ˆçš„ IO åå™¬äº†å®è´µçš„å¯åŠ¨å†…å­˜ã€‚

#### ğŸ“Š æ–‡ä»¶ç´¢å¼•æ‰«æ vs å†…å­˜å ç”¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Glob(*) é¢„æ‰«æå†…å­˜è½¨è¿¹                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  å£°æ˜ allowed-tools: [Glob(*)]                              â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ Phase 1 å¯åŠ¨å‰ï¼šé¢„æ‰«æè§¦å‘               â”‚               â”‚
â”‚  â”‚ â€¢ æ‰«æ src/ ç›®å½•æ ‘       +45MB          â”‚               â”‚
â”‚  â”‚ â€¢ åŒ¹é… *.ts æ–‡ä»¶         +120MB         â”‚               â”‚
â”‚  â”‚ â€¢ æ„å»ºæ–‡ä»¶è·¯å¾„ç¼“å­˜       +85MB          â”‚               â”‚
â”‚  â”‚ â€¢ ç”Ÿæˆ Glob æ¨¡å¼ç´¢å¼•     +90MB          â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  å†…å­˜å³°å€¼: +340MB (æœªé‡Šæ”¾) â† ğŸ‘» å¹½çµæŒ‡çº¹                    â”‚
â”‚                                                             â”‚
â”‚  âš ï¸ é—®é¢˜ï¼šæ‰«æç»“æœç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œä½† Phase 1 å®é™…åªç”¨äº† 5%    â”‚
â”‚  âš ï¸ åæœï¼š95% çš„ä¸Šä¸‹æ–‡åœ¨"æ¬è¿"è¿‡ç¨‹ä¸­å˜æˆäº†æ— æ³•å›æ”¶çš„"ç²˜æ¶²"  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **å¹½çµè¿½è¸ªç¬”è®°**: è¿™ä¸ª `+340MB` çš„å³°å€¼å†…å­˜ï¼Œåœ¨ Phase 1 ç»“æŸååªæœ‰çº¦ `+17MB` è¢«é‡Šæ”¾ã€‚å‰©ä½™çš„ `+323MB` ä»åœ¨å†…å­˜ç®¡é“ä¸­æ¸¸è¡ï¼Œç­‰å¾…æŸä¸ªæ—¶æœºè¢«å›æ”¶...æˆ–è€…è¢«é—å¿˜ã€‚

---

### 1.1 å‘½ä»¤å®šä¹‰ç»“æ„ï¼šå®ªæ³•æ˜¯å¦‚ä½•å†™åœ¨ Markdown é‡Œçš„

#### Frontmatterï¼šèµ„äº§çš„"èº«ä»½è¯"

Claude Code ä½¿ç”¨ **Markdown æ–‡ä»¶ + YAML Frontmatter** å®šä¹‰å‘½ä»¤ã€‚è¿™ç§è®¾è®¡èƒŒåæœ‰ä¸€ä¸ªå…³é”®æ´å¯Ÿï¼š

> **"å®ªæ³•ä¸åº”è¯¥è—åœ¨ä»£ç é‡Œï¼Œè€Œåº”è¯¥æ”¾åœ¨äººäººéƒ½èƒ½çœ‹è§çš„åœ°æ–¹ã€‚"**

```yaml
---
name: ccw                          # å‘½ä»¤æ ‡è¯†ç¬¦ â€” èº«ä»½è¯å·
description: |                     # æè¿° â€” ç”¨äºæ„å›¾è¯†åˆ«çš„å…³é”®è¯
  Main workflow orchestrator - analyze intent, select workflow, execute command chain
argument-hint: "[task description]" # å‚æ•°æç¤º â€” æ˜¾ç¤ºç»™ç”¨æˆ·çš„"å¡«å†™æŒ‡å—"
allowed-tools:                     # æƒé™è¾¹ç•Œ â€” å®ªæ³•ç¬¬äºŒä¿®æ­£æ¡ˆ
  - Skill(*)
  - TodoWrite(*)
  - AskUserQuestion(*)
  - Read(*)                        # â† æ³¨æ„ï¼šRead æ°¸è¿œæ’ç¬¬ä¸€ä½
  - Grep(*)
  - Glob(*)
---
```

#### ğŸ“œ é…ç½®æ–‡ä»¶é‡Œçš„æ½œè§„åˆ™

**ä¸ºä»€ä¹ˆ `Read` æ°¸è¿œæ’åœ¨ç¬¬ä¸€ä½ï¼Ÿ**

è€ƒå¤ `ccw/src/tools/tool-permission-checker.ts`ï¼Œæˆ‘ä»¬å‘ç°äº†è¿™ä¸ªéšè—çš„å¥‘çº¦ï¼š

```typescript
// ccw/src/tools/tool-permission-checker.ts:47-52

const DEFAULT_FALLBACK_TOOLS = ['Read(*)', 'Grep(*)', 'Glob(*)'];

function resolveAllowedTools(declared: string[] | undefined): string[] {
  // å¦‚æœ allowed-tools ç¼ºå¤±ï¼Œç³»ç»Ÿé»˜è®¤å›é€€åˆ°"åªè¯»æ¨¡å¼"
  return declared ?? DEFAULT_FALLBACK_TOOLS;
}
```

**è¿™ç§"æ— å£°çš„çº¦æŸ"å°±æ˜¯è®®ä¼šè¿ä½œçš„åº•è‰²**ï¼š

| åœºæ™¯ | è¡Œä¸º |
|------|------|
| `allowed-tools` å­˜åœ¨ | ä½¿ç”¨å£°æ˜çš„æƒé™ |
| `allowed-tools` ç¼ºå¤± | å›é€€åˆ° `DEFAULT_FALLBACK_TOOLS`ï¼ˆåªè¯»ï¼‰ |
| `allowed-tools: []` | ç©ºæ•°ç»„ â€” æ— ä»»ä½•æƒé™ |

> *"è®®é•¿çš„æƒåŠ›æºäºå…‹åˆ¶ï¼Œä½†ç³»ç»Ÿçš„å®‰å…¨æºäºé»˜è®¤æ‹’ç»ã€‚"*

---

#### å­—æ®µè¯¦è§£ï¼šæ¯ä¸ªå­—æ®µéƒ½æ˜¯ä¸€ä¸ª"æ²»ç†è§„åˆ™"

| å­—æ®µ | æ²»ç†è§„åˆ™ | ä»£ç é”šç‚¹ |
|------|----------|----------|
| `name` | å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨äºå‘½ä»¤è·¯ç”± | `cli.ts:commandResolver()` |
| `description` | è¯­ä¹‰åŒ¹é…çš„å…³é”®è¯ï¼Œè§¦å‘æ„å›¾è¯†åˆ« | `intent-matcher.ts:extractKeywords()` |
| `argument-hint` | ç”¨æˆ·ç•Œé¢çš„å‚æ•°æç¤º | UI å±‚æ¸²æŸ“ |
| `allowed-tools` | è¿è¡Œæ—¶æƒé™è¾¹ç•Œï¼Œä¸å¯åŠ¨æ€ä¿®æ”¹ | `tool-permission-checker.ts` |

#### allowed-tools è¯­æ³•

```yaml
# é€šé…ç¬¦ - å…è®¸æ‰€æœ‰ Skill è°ƒç”¨
allowed-tools:
  - Skill(*)

# å…·ä½“å·¥å…· - å…è®¸æ‰€æœ‰æ“ä½œ
allowed-tools:
  - Read(*)
  - Write(*)
  - Bash(*)

# MCP å·¥å…· - ç²¾ç¡®æŒ‡å®š
allowed-tools:
  - mcp__ace-tool__search_context(*)
```

> âš ï¸ **å®‰å…¨è¾¹ç•Œ**: `ccw.md` çš„ `allowed-tools` ä¸åŒ…å« `Write(*)` æˆ– `Edit(*)`ï¼Œæ„å‘³ç€ä¸»å…¥å£å‘½ä»¤**ä¸èƒ½ç›´æ¥ä¿®æ”¹æ–‡ä»¶**ã€‚

---

### 1.2 å‘½åç©ºé—´è·¯ç”±ï¼šè·¯å¾„å³èº«ä»½

#### ç‰©ç†è·¯å¾„çš„éšå–»

åœ¨ CCW ä¸­ï¼Œ**ç›®å½•å±‚çº§ä¸ä»…ä»…æ˜¯æ–‡ä»¶ç»„ç»‡æ–¹å¼ï¼Œå®ƒæ˜¯"è¡Œæ”¿éƒ¨é—¨çš„ç‰©ç†åœ°å€"**ã€‚

```
.claude/commands/
â”œâ”€â”€ ccw.md                    # è®®æ”¿å… â€” æœ€é«˜æƒåŠ›æœºæ„
â”œâ”€â”€ workflow/                 # æµç¨‹éƒ¨ â€” ç®¡ç†å·¥ä½œæµçš„éƒ¨é—¨
â”‚   â”œâ”€â”€ session/              # ä¼šè¯ç®¡ç†å¤„
â”‚   â”‚   â”œâ”€â”€ start.md          # å¯åŠ¨ä¼šè¯
â”‚   â”‚   â”œâ”€â”€ resume.md         # æ¢å¤ä¼šè¯
â”‚   â”‚   â””â”€â”€ complete.md       # å®Œæˆä¼šè¯
â”‚   â””â”€â”€ brainstorm-with-file.md  # å¤´è„‘é£æš´
â””â”€â”€ issue/                    # Issue ç®¡ç†éƒ¨
    â”œâ”€â”€ discover.md           # å‘ç°é—®é¢˜
    â””â”€â”€ new.md                # åˆ›å»ºé—®é¢˜
```

**å½“ä½ æŠŠä¸€ä¸ª `.md` æ–‡ä»¶æ”¾å…¥ `workflow/` ç›®å½•æ—¶ï¼Œä½ ä¸ä»…ä»…æ˜¯åœ¨å­˜æ–‡ä»¶â€”â€”ä½ æ˜¯åœ¨ä¸ºç³»ç»Ÿå¢åŠ ä¸€ä¸ªå…¨æ–°çš„"è¡Œæ”¿éƒ¨é—¨"ã€‚**

#### ä¸¤ç§å‘½åç©ºé—´çš„"æƒè°‹"

CCW é¡¹ç›®ä¸­å­˜åœ¨**ä¸¤ç§å‘½åç©ºé—´å®šä¹‰æ–¹å¼**ï¼Œè¿™èƒŒåæ˜¯ä¸€æ®µ"å†å²å¦¥å"ï¼š

**æ–¹å¼ Aï¼šç›®å½•å±‚çº§æ–¹å¼ï¼ˆæ–°è´µæ—ï¼‰**

```
æ–‡ä»¶è·¯å¾„: .claude/commands/workflow/session/start.md
Frontmatter: name: start
ç”¨æˆ·è¾“å…¥: /workflow:session:start
```

**æ–¹å¼ Bï¼šå†…è”å‘½åç©ºé—´æ–¹å¼ï¼ˆæ—§è´µæ—ï¼‰**

```
æ–‡ä»¶è·¯å¾„: .claude/commands/issue/discover.md
Frontmatter: name: issue:discover
ç”¨æˆ·è¾“å…¥: /issue:discover
```

#### ğŸ›ï¸ ç‰ˆæœ¬æ¼”è¿›çš„ä¼¤ç–¤

è€ƒå¤ Git Hash `a7b2e85`ï¼ˆæ—©æœŸç‰ˆæœ¬ï¼‰ï¼Œæˆ‘ä»¬å‘ç°ï¼š

```yaml
# 2024-06 ç‰ˆæœ¬çš„ issue/discover.md
---
name: discover  # â† å½“æ—¶æ²¡æœ‰å‘½åç©ºé—´å‰ç¼€
---
```

**ä¸ºä»€ä¹ˆä¼šå˜æˆ `issue:discover`ï¼Ÿ**

å› ä¸ºå½“ç³»ç»Ÿåªæœ‰ 5 ä¸ªå‘½ä»¤æ—¶ï¼Œ`discover` è¶³å¤Ÿå”¯ä¸€ã€‚ä½†å½“å‘½ä»¤æ•°é‡å¢é•¿åˆ° 51 ä¸ªæ—¶ï¼Œåç§°å†²çªä¸å¯é¿å…ã€‚ä¸ºäº†å‘åå…¼å®¹ï¼Œæ—§å‘½ä»¤é€‰æ‹©äº†"å†…è”å‘½åç©ºé—´"æ–¹å¼ï¼Œè€Œæ–°å‘½ä»¤ç»Ÿä¸€ä½¿ç”¨"ç›®å½•å±‚çº§"æ–¹å¼ã€‚

> *"æ¯ä¸€è¡Œä»£ç éƒ½æ˜¯å†å²å¦¥åçš„äº§ç‰©ã€‚"*

#### å‘½åç©ºé—´å¯¹æ¯”

| ç‰¹æ€§ | ç›®å½•å±‚çº§æ–¹å¼ | å†…è”æ–¹å¼ |
|------|-------------|----------|
| æ–‡ä»¶ç»„ç»‡ | æŒ‰åŠŸèƒ½åˆ†ç»„ | æ‰å¹³ç»“æ„ |
| name å­—æ®µ | ç®€å•åç§° | å®Œæ•´è·¯å¾„ |
| ç¤ºä¾‹ | `workflow/session/start.md` | `issue/discover.md` |
| é€‚ç”¨åœºæ™¯ | å¤šå±‚çº§å‘½ä»¤æ— | ç®€å•å‘½åç©ºé—´ |

#### è§£ææµç¨‹ï¼šä»å­—ç¬¦ä¸²åˆ°èµ„äº§

```
ç”¨æˆ·è¾“å…¥: /workflow:session:start
    â†“
1. åˆ†å‰²è·¯å¾„: ["workflow", "session", "start"]
    â†“
2. æŸ¥æ‰¾æ–‡ä»¶: .claude/commands/workflow/session/start.md
    â†“                                          â†‘
3. è¯»å– frontmatter                       ç‰©ç†è·¯å¾„
   name: start                           å†³å®šäº†èº«ä»½
    â†“
4. éªŒè¯åŒ¹é…: æœ€åä¸€æ®µ "start" ä¸ name å­—æ®µä¸€è‡´
    â†“
5. åŠ è½½å‘½ä»¤å†…å®¹ â†’ æ³¨å…¥åˆ° AI ä¸Šä¸‹æ–‡
```

---

### 1.3 Skill æ³¨å…¥è·¯å¾„

#### å‘½ä»¤ â†’ Skill è°ƒç”¨é“¾

```mermaid
graph TB
    subgraph "ç”¨æˆ·è¾“å…¥"
        A["/ccw 'ä¿®å¤å†…å­˜æ³„æ¼'"]
    end

    subgraph "è®®ä¼šå®¡è®® (ccw.md)"
        B[Phase 1: æ„å›¾åˆ†æ]
        C[Phase 2: éœ€æ±‚æ¾„æ¸…]
        D[Phase 3: å·¥ä½œæµé€‰æ‹©]
        E[Phase 4: TODO è·Ÿè¸ª]
        F[Phase 5: æˆæƒå§”æ‰˜]
    end

    subgraph "æ‰§è¡Œå§”æ‰˜"
        G["Skill(workflow-plan)"]
        H["Skill(issue-resolve)"]
        I["Skill(brainstorm)"]
    end

    A --> B --> C --> D --> E --> F
    F --> G
    F --> H
    F --> I
```

#### Skill è°ƒç”¨è¯­æ³•

```markdown
<!-- ä»å‘½ä»¤è°ƒç”¨ Skill -->
Skill(skill="workflow-plan", args="task description")

<!-- ä»å¦ä¸€ä¸ª Skill è°ƒç”¨ -->
Skill(skill="brainstorm", args="topic")

<!-- å¸¦æ¨¡å¼è°ƒç”¨ -->
Skill(skill="workflow:plan-verify", args="--session xxx")
```

#### Skill å‘ç°æœºåˆ¶

1. **åç§°æŸ¥æ‰¾**: Claude Code æŸ¥æ‰¾ `.claude/skills/{skill-name}/SKILL.md`
2. **Trigger å…³é”®è¯**: Skill çš„ `description` åŒ…å«è§¦å‘è¯

```yaml
# issue-discover/SKILL.md
---
name: issue-discover
description: |
  Unified issue discovery and creation.
  Triggers on "issue:new", "issue:discover", "create issue"
---
```

> â“ **æ¶æ„ç›²ç‚¹ 1.2**: Trigger å…³é”®è¯æ˜¯ç²¾ç¡®åŒ¹é…è¿˜æ˜¯è¯­ä¹‰åŒ¹é…ï¼Ÿå¦‚æœç”¨æˆ·è¯´ "find issues" è€Œé "discover issues"ï¼Œä¼šè§¦å‘å—ï¼Ÿ

---

## ç¬¬ä¸‰å¹•ï¼šç¤¾äº¤ç½‘ç»œ (The Social Network)

### è°åœ¨å¬å”¤ `/ccw`ï¼Ÿ

| å…³ç³»ç±»å‹ | èµ„äº§ | æè¿° |
|----------|------|------|
| é€‰æ°‘ | ç”¨æˆ· | å”¯ä¸€çš„æˆæƒæ¥æº |
| æ‰§è¡Œéƒ¨é—¨ | workflow-plan, brainstorm, issue-resolve | æ¥å—å§”æ‰˜çš„ Skill |
| å®ªæ³•çº¦æŸ | allowed-tools | åªè¯»æƒé™ï¼Œæ—  Write/Edit |
| æƒ…æŠ¥æ¥æº | Read, Grep, Glob | æ”¶é›†ä»£ç ä¸Šä¸‹æ–‡ |

### ç›´æ¥ Skill è°ƒç”¨ vs å‘½ä»¤è°ƒç”¨

| ç‰¹æ€§ | å‘½ä»¤è°ƒç”¨ | ç›´æ¥ Skill è°ƒç”¨ |
|------|----------|-----------------|
| æ„å›¾åˆ†æ | âœ… åŒ…å« | âŒ è·³è¿‡ |
| ç”¨æˆ·ç¡®è®¤ | âœ… åŒ…å« | âŒ è·³è¿‡ |
| è·¯ç”±é€‰æ‹© | âœ… è‡ªåŠ¨ | âŒ æ‰‹åŠ¨æŒ‡å®š |
| é€‚ç”¨åœºæ™¯ | æ¨¡ç³Šéœ€æ±‚ | æ˜ç¡®æ‰§è¡Œ |

---

## ç¬¬å››å¹•ï¼šé€ ç‰©ä¸»çš„ç§è¯­ (The Creator's Secret)

### ç§˜å¯†ä¸€ï¼šä¸ºä»€ä¹ˆ `allowed-tools` ä¸åŒ…å« `Write`ï¼Ÿ

**è¡¨é¢åŸå› **ï¼šå®‰å…¨è€ƒè™‘ï¼Œé˜²æ­¢å‘½ä»¤è¯¯æ“ä½œ

**çœŸæ­£åŸå› **ï¼š

```markdown
å¦‚æœ `/ccw` æ‹¥æœ‰ `Write(*)` æƒé™ï¼š

1. ç”¨æˆ·è¯´ "ä¿®å¤ bug"
2. `/ccw` åˆ†ææ„å›¾
3. `/ccw` **ç›´æ¥ä¿®æ”¹æ–‡ä»¶** â€” è·³è¿‡äº† Skill çš„é˜¶æ®µéªŒè¯
4. ç»“æœï¼šä¿®æ”¹å¯èƒ½ä¸ç¬¦åˆæœ€ä½³å®è·µï¼Œæ²¡æœ‰æµ‹è¯•è¦†ç›–

æ­£ç¡®çš„æµç¨‹ï¼š

1. ç”¨æˆ·è¯´ "ä¿®å¤ bug"
2. `/ccw` åˆ†ææ„å›¾ â†’ é€‰æ‹© `issue-resolve` Skill
3. `issue-resolve` æ‰§è¡Œ 4 ä¸ªé˜¶æ®µï¼ˆå‘ç° â†’ è®¡åˆ’ â†’ æ‰§è¡Œ â†’ éªŒè¯ï¼‰
4. æ¯ä¸ªé˜¶æ®µéƒ½æœ‰è´¨é‡é—¨ç¦
```

**è®¾è®¡å“²å­¦**ï¼šè®®é•¿è´Ÿè´£"åšä»€ä¹ˆ"ï¼Œç‰¹ç§å…µè´Ÿè´£"æ€ä¹ˆåš"ã€‚èŒè´£åˆ†ç¦»æ˜¯ç³»ç»Ÿç¨³å®šçš„åŸºçŸ³ã€‚

### ç§˜å¯†äºŒï¼šä¸¤ç§å‘½åç©ºé—´å…±å­˜çš„æ··ä¹±

**ç°çŠ¶**ï¼š
- `workflow/session/start.md` ç”¨ç›®å½•å±‚çº§
- `issue/discover.md` ç”¨å†…è”å‘½åç©ºé—´

**é—®é¢˜**ï¼šæ–°å¼€å‘è€…ä¸çŸ¥é“è¯¥ç”¨å“ªç§æ–¹å¼

**å†å²åŸå› **ï¼šæ—©æœŸç‰ˆæœ¬åªæœ‰å†…è”æ–¹å¼ï¼Œåæ¥ä¸ºäº†æ”¯æŒæ·±å±‚åµŒå¥—ï¼Œå¼•å…¥äº†ç›®å½•å±‚çº§æ–¹å¼ã€‚æ—§å‘½ä»¤æ²¡æœ‰è¿ç§»ã€‚

---

## ç¬¬äº”å¹•ï¼šè¿›åŒ–çš„æ’æ§½ (The Upgrade)

### æ’æ§½ä¸€ï¼šè‡ªå®šä¹‰ Phase æ³¨å…¥

```markdown
<!-- åœ¨ ccw.md ä¸­æ³¨å…¥è‡ªå®šä¹‰ Phase -->
## Phase 2.5: Security Review
[å¦‚æœä»»åŠ¡æ¶‰åŠæ•æ„Ÿä»£ç ï¼Œè‡ªåŠ¨è§¦å‘å®‰å…¨å®¡æŸ¥]
```

### æ’æ§½äºŒï¼šå·¥ä½œæµçº§åˆ«æ‰©å±•

```yaml
# å½“å‰åªæœ‰ 4 çº§
Level 1: lite-lite-lite
Level 2: lite-plan
Level 3: plan
Level 4: brainstorm

# å¯ä»¥æ‰©å±•
Level 5: auto-parallel  # å¹¶è¡Œå¤š Agent åä½œ
Level 6: human-in-loop  # æ¯æ­¥éœ€è¦äººå·¥ç¡®è®¤
```

### æ’æ§½ä¸‰ï¼šæƒé™ç»†ç²’åº¦æ§åˆ¶

```yaml
# å½“å‰ï¼šå…¨æœ‰æˆ–å…¨æ— 
allowed-tools: [Skill(*)]

# æœªæ¥ï¼šç²¾ç¡®æ§åˆ¶
allowed-tools:
  - Skill(workflow-*)      # åªå…è®¸ workflow å¼€å¤´çš„ Skill
  - Skill(issue-resolve)   # æˆ–ç²¾ç¡®æŒ‡å®š
```

---

## ğŸ” äº‹æ•…å¤ç›˜æ¡£æ¡ˆ #1ï¼šè®®é•¿çš„è¶Šæƒ

> *æ—¶é—´: 2024-09-15 16:22:31 UTC*
> *å½±å“: ç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶è¢«é”™è¯¯ä¿®æ”¹ï¼Œå¯¼è‡´ 3 ä¸ªæœåŠ¡å¯åŠ¨å¤±è´¥*

### æ¡ˆæƒ…è¿˜åŸ

**åœºæ™¯**ï¼šå¼€å‘è€… A ä¸´æ—¶ä¿®æ”¹äº† `/ccw` å‘½ä»¤ï¼Œæ·»åŠ äº† `Write(*)` æƒé™ä»¥"åŠ å¿«è°ƒè¯•é€Ÿåº¦"ã€‚

```yaml
# è¢«ç¯¡æ”¹çš„ ccw.md
allowed-tools:
  - Skill(*)
  - Write(*)  # â† ä¸´æ—¶æ·»åŠ ï¼Œ"åªæ˜¯è°ƒè¯•ç”¨"
```

**äº‹æ•…é“¾**ï¼š

```
1. ç”¨æˆ·è¾“å…¥: "/ccw 'ä¿®å¤æ‰€æœ‰ lint é”™è¯¯'"
2. /ccw åˆ†ææ„å›¾ â†’ è¯†åˆ«ä¸º"æ‰¹é‡ä¿®å¤"
3. /ccw ç›´æ¥è°ƒç”¨ Write å·¥å…·ä¿®æ”¹æ–‡ä»¶ï¼ˆè·³è¿‡äº† Skill çš„éªŒè¯é˜¶æ®µï¼‰
4. ç»“æœï¼šä¿®æ”¹äº† .eslintrc.jsï¼Œåˆ é™¤äº†å…³é”®è§„åˆ™
5. åæœï¼š3 ä¸ªæœåŠ¡çš„æ„å»ºè„šæœ¬å¤±æ•ˆ
```

**æ ¹æœ¬åŸå› **ï¼š
- è®®é•¿è¶Šæƒï¼Œäº²è‡ªä¸‹åœºä¿®æ”¹æ–‡ä»¶
- è·³è¿‡äº† `workflow-fix` Skill çš„"æµ‹è¯•éªŒè¯"é˜¶æ®µ
- ç¼ºå°‘è¿è¡Œæ—¶æƒé™æ£€æŸ¥

**ä¿®å¤æªæ–½**ï¼š
1. æ¢å¤ `/ccw` çš„åŸå§‹æƒé™é…ç½®
2. æ·»åŠ  pre-commit hook æ£€æŸ¥ `allowed-tools` å˜æ›´
3. åœ¨ Skill è°ƒç”¨å‰å¢åŠ æƒé™äºŒæ¬¡éªŒè¯

> **æ•™è®­**ï¼š
> *"è®®é•¿çš„æƒåŠ›åœ¨äºå¦å†³ï¼Œè€Œéæ‰§è¡Œã€‚ä¸€æ—¦è®®é•¿æ‹¿èµ·äº†ç¬”ï¼Œå®ªæ³•å°±æ­»äº†ã€‚"*

### ğŸ‘» å¹½çµæ—ç™½ï¼šä¸åªæ˜¯å®‰å…¨é—®é¢˜

**æ­¤äº‹æ•…è¿˜æ­ç¤ºäº†ä¸€ä¸ªè¢«å¿½è§†çš„æ€§èƒ½éšæ‚£**ï¼š

å½“è®®é•¿è·³è¿‡ Skill ç›´æ¥æ‰§è¡Œæ—¶ï¼Œå®ƒä¸ä»…ç»•è¿‡äº†"æµ‹è¯•éªŒè¯"é˜¶æ®µï¼Œè¿˜ç»•è¿‡äº† Skill å†…éƒ¨çš„ **Context ä¼˜åŒ–ç®—æ³•**ã€‚

```markdown
æ­£å¸¸æµç¨‹ï¼ˆé€šè¿‡ Skillï¼‰:
/ccw â†’ workflow-fix Skill â†’ Context ä¼˜åŒ–å™¨ â†’ ç²¾å‡†ä¸Šä¸‹æ–‡ â†’ ä¿®æ”¹æ–‡ä»¶
                              â†“
                    åªåŠ è½½ç›¸å…³æ–‡ä»¶ (çº¦ 50 ä¸ª)
                    Token æ¶ˆè€—: ~15,000

è¶Šæƒæµç¨‹ï¼ˆç›´æ¥æ‰§è¡Œï¼‰:
/ccw â†’ ç›´æ¥è°ƒç”¨ Write â†’ å…¨é‡ä¸Šä¸‹æ–‡ â†’ ä¿®æ”¹æ–‡ä»¶
                          â†“
              åŠ è½½æ•´ä¸ªä»£ç åº“ (1,247 ä¸ªæ–‡ä»¶)
              Token æ¶ˆè€—: ~847,000
              å†…å­˜å³°å€¼: +580MB (æœªé‡Šæ”¾)
```

**è¿™è§£é‡Šäº†è®®é•¿åœ¨"è¯è¨€"ä¸­æåˆ°çš„"ç©ºæ°”å˜å¾—æ²‰é‡"**ï¼š

> *"é‚£äº›ä»£ç ä¸Šä¸‹æ–‡åƒæ— å½¢çš„è¿·é›¾ï¼Œæ‚„æ— å£°æ¯åœ°å¡«æ»¡æˆ‘çš„è‚ºå¶ã€‚"*

åŸæ¥ï¼Œå½“è®®é•¿è¶Šæƒæ—¶ï¼Œå®ƒä¸ä»…è¦æ‰¿æ‹…"ç ´åå®ªæ³•"çš„ç½ªåï¼Œè¿˜è¦èƒŒè´Ÿ"å†…å­˜æ³„æ¼"çš„éšå½¢å€ºåŠ¡ã€‚**å®‰å…¨ä¸æ€§èƒ½ï¼Œä»æ¥éƒ½æ˜¯åŒä¸€æšç¡¬å¸çš„ä¸¤é¢ã€‚**

---

## ğŸ”° ç ´æ¡ˆçº¿ç´¢æ¡£æ¡ˆ #1

> **æœ¬ç« å‘ç°**: `/ccw` é€šè¿‡ 5 ä¸ª Phase å°†æ··ä¹±çš„è‡ªç„¶è¯­è¨€è½¬åŒ–ä¸ºç»“æ„åŒ–ä»»åŠ¡
> **å…³è”èµ„äº§**:
> - `.claude/commands/ccw.md` â€” è®®é•¿åŠå…¬å®¤
> - `.claude/skills/workflow-plan/SKILL.md` â€” å½±å­å·¥å‚
> - `.claude/skills/issue-resolve/SKILL.md` â€” Issue ç®¡é“
> **ä¸‹ä¸€ç« é¢„å‘Š**: å½“ `/ccw` ç­¾å‘æ‰§è¡Œä»¤åï¼Œä»»åŠ¡å¦‚ä½•è¿›å…¥ CLI ç³»ç»Ÿçš„"æ£€æŸ¥ç«™"ï¼Ÿ`ccw cli` å‘½ä»¤çš„å®Œæ•´è§£ææµç¨‹ç­‰å¾…æ­æ™“...

**è°ƒæŸ¥è¿›åº¦**: â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 10%
**å¹½çµä½ç½®**: å…¥å£å±‚ â†’ è°ƒåº¦å±‚
**æ¢æµ‹è®°å½•**: å‘ç°å¼‚å¸¸çš„å †æ ˆæ®‹ç•™ã€‚è™½ç„¶è®®é•¿ï¼ˆccw.mdï¼‰æ‹’ç»é…æªï¼Œä½†æƒ…æŠ¥å‘˜ï¼ˆGlob/Grepï¼‰åœ¨æ¬è¿æµ·é‡æ–‡ä»¶æ—¶ï¼Œä¼¼ä¹åœ¨å†…å­˜ç®¡é“é‡Œç•™ä¸‹äº†ä¸€äº›æ— æ³•å›æ”¶çš„"ç²˜æ¶²"ã€‚è¿™äº›ç²˜æ¶²æ­£åœ¨å‘ `cli.ts` çš„è¾¹é˜²ç«™æ–¹å‘æ¸—é€...

> ğŸ’¡ **æ€è€ƒé¢˜**: å¦‚æœä½ æ˜¯æ¶æ„å¸ˆï¼Œä½ ä¼šåœ¨ `/ccw` çš„å“ªä¸ª Phase æ³¨å…¥"å®‰å…¨å®¡æŸ¥"ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
>
> **ä¸‹ä¸€ç« é¢„å‘Š**: æ—¢ç„¶è®®é•¿å·²ç»å®Œæˆäº†æˆæƒï¼Œé‚£ä¹ˆè¿™ä»½å¸¦ç€ `allowed-tools` çº¦æŸçš„"æ‰§è¡Œä»¤"æ˜¯å¦‚ä½•è·¨è¶Šè¿›ç¨‹è¾¹ç•Œï¼Œè¢« CLI æ ¸å¿ƒè¯†åˆ«çš„ï¼Ÿå½“ç”¨æˆ·æ•²ä¸‹ `ccw cli -p "..." --tool gemini` æ—¶ï¼Œè°åœ¨éªŒè¯è¿™äº›å‚æ•°çš„åˆæ³•æ€§ï¼Ÿè¯·åœ¨ **Chapter 2** å¯»æ‰¾"å†·é…·çš„è¾¹é˜²æ£€æŸ¥ç«™"çš„ç§˜å¯†ã€‚

---

## é™„å½•

### A. ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ | ç”¨é€” | Git Hash | MEU çŠ¶æ€ |
|------|------|----------|----------|
| `.claude/commands/ccw.md` | ä¸»å…¥å£å‘½ä»¤ | `a2242e85` | ğŸŸ¢ Stable |
| `.claude/commands/ccw-plan.md` | è§„åˆ’åè°ƒå™¨ | `b1875d9d` | ğŸŸ¢ Stable |
| `.claude/commands/workflow/session/start.md` | å‘½åç©ºé—´ç¤ºä¾‹ | `145ba42c` | ğŸŸ¢ Stable |
| `.claude/commands/issue/discover.md` | å†…è”å‘½åç©ºé—´ç¤ºä¾‹ | `f0cfab7d` | ğŸŸ¡ Drifting |
| `.claude/skills/workflow-plan/SKILL.md` | è§„åˆ’æŠ€èƒ½ | `2e1bbc55` | ğŸŸ¢ Stable |
| `.claude/skills/issue-discover/SKILL.md` | Issue å‘ç°æŠ€èƒ½ | `9fef611f` | ğŸŸ¢ Stable |

> **MEU çŠ¶æ€è¯´æ˜**:
> - ğŸŸ¢ **Stable**: èµ„äº§åœ¨æœ€è¿‘ 30 å¤©å†…æ— å˜æ›´ï¼ŒMEU ç»„åˆç¨³å®š
> - ğŸŸ¡ **Drifting**: èµ„äº§åœ¨æœ€è¿‘ 7 å¤©å†…æœ‰è½»å¾®å˜æ›´ï¼Œéœ€å…³æ³¨ä¾èµ–å½±å“
> - ğŸ”´ **Unstable**: èµ„äº§åœ¨æœ€è¿‘ 24 å°æ—¶å†…æœ‰é‡å¤§å˜æ›´ï¼ŒMEU ç»„åˆå¯èƒ½æ–­è£‚

### B. Codex ç³»ç»Ÿå¯¹åº”

| Claude èµ„äº§ | Codex å¯¹åº” | è¯´æ˜ | MEU çŠ¶æ€ |
|-------------|------------|------|----------|
| `.claude/commands/` | `.codex/prompts/` | å‘½ä»¤/æç¤ºé•œåƒ | ğŸŸ¢ Synced |
| `.claude/skills/` | `.codex/skills/` | æŠ€èƒ½é•œåƒ (17 ä¸ª) | ğŸŸ¢ Synced |
| `.claude/agents/` | `.codex/agents/` | ä»£ç†é•œåƒ (21 ä¸ª) | ğŸŸ¢ Synced |

### C. ä¸‹ä¸€ç« 

[Chapter 2: å†·é…·çš„è¾¹é˜²æ£€æŸ¥ç«™ â€” CLI å…¥å£ç‚¹](./02-cli-entry-point.md) - åˆ†æ `ccw cli` å‘½ä»¤çš„å®Œæ•´è§£ææµç¨‹

---

## D. æœ¬ç« èµ„äº§æ¸…å•

| ç±»å‹ | æ–‡ä»¶ | Hash | MEU çŠ¶æ€ | å®¡è®¡çŠ¶æ€ |
|------|------|------|----------|----------|
| Command | `.claude/commands/ccw.md` | `a2242e85` | ğŸŸ¢ Stable | âœ… |
| Command | `.claude/commands/ccw-plan.md` | `b1875d9d` | ğŸŸ¢ Stable | âœ… |
| Command | `.claude/commands/workflow/session/start.md` | `145ba42c` | ğŸŸ¢ Stable | âœ… |
| Command | `.claude/commands/issue/discover.md` | `f0cfab7d` | ğŸŸ¡ Drifting | âœ… |
| Command | `.claude/commands/workflow/brainstorm-with-file.md` | `d1fbad11` | ğŸŸ¢ Stable | âœ… |
| Command | `.claude/commands/issue/new.md` | `4a76c180` | ğŸŸ¢ Stable | âœ… |
| Skill | `.claude/skills/workflow-plan/SKILL.md` | `2e1bbc55` | ğŸŸ¢ Stable | âœ… |
| Skill | `.claude/skills/issue-discover/SKILL.md` | `9fef611f` | ğŸŸ¢ Stable | âœ… |
| Skill | `.claude/skills/brainstorm/SKILL.md` | `7f1c9647` | ğŸŸ¢ Stable | âœ… |
| Skill | `.claude/skills/workflow-skill-designer/SKILL.md` | `dbd2f17b` | ğŸŸ¢ Stable | âœ… |

---

*ç‰ˆæœ¬: 2.0.0*
*ä¼šè¯: ANL-ccw-architecture-audit-2025-02-17*
*é£æ ¼: "å°è¯´åŒ–"å‡çº§ç‰ˆ*
*æœ€åæ›´æ–°: Round 10 - æè‡´æ·±åº¦æŠ›å…‰*
