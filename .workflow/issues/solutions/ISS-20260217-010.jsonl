{"id":"SOL-ISS-20260217-010-r3k8","description":"撰写 CCW 深度研习文档 Chapter 11-12: Agent 代理系统，整合 Agent 生命周期 (Ch11) 和核心代理深度解析 (Ch12) 的完整内容","approach":"整合 ISS-003 和 ISS-004 的内容，创建统一的 Chapter 11-12 文档。Chapter 11 覆盖 Agent 生命周期，Chapter 12 覆盖核心代理深度解析。按照 7 模块 SOP 标准，延续 OOM 幽灵叙事风格。","analysis":{"risk":"low","impact":"high","complexity":"medium"},"score":0.9,"tasks":[{"id":"T1","title":"创建 Chapter 11-12 文档结构","scope":"docs/deep-study/part5-execution-layer","action":"Create","description":"创建 11-12-agent-system.md 文档，整合 Agent 生命周期和核心代理深度解析内容","files":[{"path":"docs/deep-study/part5-execution-layer/11-12-agent-system.md","action":"create","change":"创建 Agent 系统完整章节文档"}],"implementation":["创建文档头部：Part V 执行层概述","创建 Chapter 11: Agent 生命周期章节框架","创建 Chapter 12: 核心代理深度解析章节框架","撰写 Part V 引言：执行层的职责和 Agent 系统的重要性","创建两章的导航链接和章节间引用"],"test":{"unit":["验证文档包含 Chapter 11 和 Chapter 12 两个完整章节"],"commands":["ls docs/deep-study/part5-execution-layer/11-12-agent-system.md"]},"convergence":{"criteria":["1 个完整的 Agent 系统章节文档创建","包含 Chapter 11 和 Chapter 12 两个完整章节"],"verification":"ls docs/deep-study/part5-execution-layer/11-12-agent-system.md && wc -l docs/deep-study/part5-execution-layer/11-12-agent-system.md | awk '$1 > 1200'"},"commit":{"type":"docs","scope":"deep-study","message_template":"docs(deep-study): add Chapter 11-12 Agent system analysis"},"depends_on":[],"priority":"high"},{"id":"T2","title":"撰写 Chapter 11 Agent 生命周期","scope":"docs/deep-study/part5-execution-layer","action":"Implement","description":"在文档中撰写 Chapter 11: Agent 生命周期的完整内容","files":[{"path":"docs/deep-study/part5-execution-layer/11-12-agent-system.md","action":"modify","change":"添加 Chapter 11 Agent 生命周期内容"}],"implementation":["撰写 Chapter 11 资产证言 - Agent 的自我介绍 (21 个 Agent 的整体视角)","撰写第一幕：失控的边缘 - 没有 Agent 的世界","撰写第二幕：思维脉络 - Agent 调用机制流程图 (函数调用模式)","撰写第三幕：社交网络 - Agent 调用关系图谱 (21 个 Agent 的关系网)","撰写第四幕：造物主的私语 - 设计决策 (为什么用 .md 文件定义 Agent)","撰写第五幕：进化的插槽 - 如何添加新的 Agent","分析 prompt 字段构建：Markdown 内容如何注入 Claude 对话","分析工具绑定：Agent 如何获得 Read/Write/Edit/Bash 访问权","分析超时和重试机制：分级超时配置和 fallback 链"],"test":{"unit":["验证 Chapter 11 包含 7 模块 SOP 结构"],"commands":[]},"convergence":{"criteria":["Chapter 11 包含完整 7 模块结构","Agent 生命周期阶段定义清晰","21 个 Agent 分类表完整"],"verification":"grep -c 'Chapter 11' docs/deep-study/part5-execution-layer/11-12-agent-system.md"},"depends_on":["T1"],"priority":"high"},{"id":"T3","title":"撰写 Chapter 12 cli-execution-agent 深度解析","scope":"docs/deep-study/part5-execution-layer","action":"Implement","description":"在 Chapter 12 中撰写 cli-execution-agent 的深度解析","files":[{"path":"docs/deep-study/part5-execution-layer/11-12-agent-system.md","action":"modify","change":"添加 cli-execution-agent 深度解析内容"}],"implementation":["撰写 cli-execution-agent 资产证言 (5 阶段编排者)","分析 5 阶段执行流程：Phase 1 Task Understanding → Phase 2 Context Discovery → Phase 3 Prompt Enhancement → Phase 4 Tool Selection & Execution → Phase 5 Output Routing","分析 Tool Selection Hierarchy：Gemini (Primary) → Qwen (Fallback) → Codex (Alternative)","分析 Complexity Scoring：如何判断任务复杂度","分析 Plan Context Loading：从 plan.json 加载任务上下文","撰写 cli-execution-agent 的事故复盘档案：Gemini 429 处理案例","设计 cli-execution-agent 的升级插槽：如何添加新的 CLI 工具"],"test":{"unit":["验证 5 阶段流程描述完整准确"],"commands":[]},"convergence":{"criteria":["5 阶段流程图完整","Tool Selection Hierarchy 清晰","事故复盘有实际案例"],"verification":"grep -c 'cli-execution-agent' docs/deep-study/part5-execution-layer/11-12-agent-system.md"},"depends_on":["T2"],"priority":"high"},{"id":"T4","title":"撰写 Chapter 12 code-developer 深度解析","scope":"docs/deep-study/part5-execution-layer","action":"Implement","description":"在 Chapter 12 中撰写 code-developer 的深度解析","files":[{"path":"docs/deep-study/part5-execution-layer/11-12-agent-system.md","action":"modify","change":"添加 code-developer 深度解析内容"}],"implementation":["撰写 code-developer 资产证言 (纯代码执行专家)","分析执行流程：Context Assessment → Execution Standards → Quality Gates → Task Completion","分析 Context Package 解析：如何从 context-package.json 提取信息","分析 Task JSON Parsing：unified flat schema 的字段映射","分析 CLI Handoff 机制：buildCliHandoffPrompt 函数实现","分析 Resume Strategy：new/resume/fork/merge_fork 四种策略的适用场景","分析 Test-Driven Development 集成","撰写 code-developer 的事故复盘档案：上下文不足导致的返工案例","设计 code-developer 的升级插槽：如何支持新语言/框架"],"test":{"unit":["验证 CLI Handoff 机制分析完整","验证 Resume Strategy 四种策略覆盖"],"commands":[]},"convergence":{"criteria":["执行流程图完整","CLI Handoff 机制说明清晰","Resume Strategy 详细"],"verification":"grep -c 'code-developer' docs/deep-study/part5-execution-layer/11-12-agent-system.md"},"depends_on":["T3"],"priority":"high"},{"id":"T5","title":"撰写 Chapter 12 cli-explore-agent 和 universal-executor 深度解析","scope":"docs/deep-study/part5-execution-layer","action":"Implement","description":"在 Chapter 12 中撰写 cli-explore-agent 和 universal-executor 的深度解析","files":[{"path":"docs/deep-study/part5-execution-layer/11-12-agent-system.md","action":"modify","change":"添加 cli-explore-agent 和 universal-executor 深度解析内容"}],"implementation":["撰写 cli-explore-agent 资产证言 (只读代码探索者)","分析 cli-explore-agent 4 阶段流程：Task Understanding → Analysis Execution → Schema Validation → Output Generation","分析 Dual-Source Synthesis：Bash structural scan + Gemini semantic analysis","分析 Schema Validation Phase 的强制执行","分析 Analysis Modes：quick-scan / deep-scan / dependency-map 选择策略","撰写 universal-executor 资产证言 (万能执行者)","分析 universal-executor 通用执行模式：Context Assessment → Execution Standards → Quality Gates","分析 FLOW_CONTROL 标记处理","对比四个核心 Agent 的职责边界"],"test":{"unit":["验证双源分析策略说明完整","验证通用执行模式描述准确"],"commands":[]},"convergence":{"criteria":["cli-explore-agent 4 阶段流程完整","universal-executor 通用模式清晰","四个 Agent 边界对比明确"],"verification":"grep -c 'cli-explore-agent\\|universal-executor' docs/deep-study/part5-execution-layer/11-12-agent-system.md"},"depends_on":["T4"],"priority":"high"},{"id":"T6","title":"关联 OOM 幽灵叙事线和附录","scope":"docs/deep-study/part5-execution-layer","action":"Implement","description":"在 Chapter 11-12 中延续 OOM 幽灵叙事，并添加附录内容","files":[{"path":"docs/deep-study/part5-execution-layer/11-12-agent-system.md","action":"modify","change":"添加 OOM 幽灵叙事关联和附录内容"}],"implementation":["更新调查进度条：从 35% 推进到 55% (覆盖 Chapter 11-12)","分析 Agent 系统的内存行为：上下文注入、工具调用、结果输出","计算 Part V 新增的内存债务：估计 +400MB (Agent 上下文 + CLI 调用)","更新幽灵位置：执行层 (Agent 系统的内存累积)","添加幽灵旁白：Agent 执行中的'静默累积'和'慢性泄漏'","添加附录 A：相关文件清单 (21 个 Agent 文件路径和哈希)","添加附录 B：Agent 类型速查表","添加附录 C：下一章预告 (Part VI 集成层)","添加破案线索档案 #11-12：总结本章发现"],"test":{"unit":["验证 OOM 叙事线索与前面章节连贯","验证附录内容完整"],"commands":[]},"convergence":{"criteria":["调查进度更新到 55%","内存债务计算准确","附录 A/B/C 完整"],"verification":"grep '调查进度.*55%' docs/deep-study/part5-execution-layer/11-12-agent-system.md && grep -c '附录' docs/deep-study/part5-execution-layer/11-12-agent-system.md"},"depends_on":["T5"],"priority":"medium"}],"is_bound":true,"bound_at":"2026-02-17T14:10:59.576Z"}
