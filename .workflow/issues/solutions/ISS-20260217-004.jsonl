{"id":"SOL-ISS-20260217-004-p9n4","description":"撰写 CCW 深度研习文档 Chapter 10: 核心代理深度解析，深入分析 cli-execution-agent、code-developer、cli-explore-agent、universal-executor 四个核心 Agent","approach":"基于四个核心 Agent 的定义文件和工具实现，按照 7 模块 SOP 标准进行深度解析。每个 Agent 采用 5 幕结构分析，包含事故复盘档案和升级插槽设计。延续 OOM 幽灵叙事风格。","analysis":{"risk":"low","impact":"medium","complexity":"medium"},"score":0.88,"tasks":[{"id":"T1","title":"创建 Chapter 10 文档结构","scope":"docs/deep-study/part5-execution-layer","action":"Create","description":"创建 10-core-agents-deep-dive.md 文档，按照 7 模块 SOP 标准构建文档框架","files":[{"path":"docs/deep-study/part5-execution-layer/10-core-agents-deep-dive.md","action":"create","change":"创建核心代理深度解析章节文档"}],"implementation":["创建文档头部：生命周期阶段、涉及资产、阅读时间、版本追踪","撰写 0. 资产证言 - 四个核心 Agent 的第一人称自我介绍","撰写文档结构说明：每个 Agent 采用 5 幕结构分析","创建四个 Agent 的分析章节占位","撰写 附录：相关文件清单和下一章预告"],"test":{"unit":["验证文档结构符合 7 模块 SOP 标准"],"commands":["ls docs/deep-study/part5-execution-layer/10-core-agents-deep-dive.md"]},"convergence":{"criteria":["1 个完整的核心代理深度解析章节文档创建","文档包含四个 Agent 的分析框架"],"verification":"ls docs/deep-study/part5-execution-layer/10-core-agents-deep-dive.md && wc -l docs/deep-study/part5-execution-layer/10-core-agents-deep-dive.md | awk '$1 > 500'"},"commit":{"type":"docs","scope":"deep-study","message_template":"docs(deep-study): add Chapter 10 core agents deep dive"},"depends_on":[],"priority":"high"},{"id":"T2","title":"深度解析 cli-execution-agent","scope":"docs/deep-study/part5-execution-layer","action":"Implement","description":"在 Chapter 10 中深度解析 cli-execution-agent 的 5 阶段执行流程","files":[{"path":"docs/deep-study/part5-execution-layer/10-core-agents-deep-dive.md","action":"modify","change":"添加 cli-execution-agent 深度解析章节"}],"implementation":["资产证言：cli-execution-agent 的自我介绍 (5 阶段编排者)","第一幕：失控的边缘 - 没有 cli-execution-agent 的手动 CLI 调用混乱","第二幕：思维脉络 - 5 阶段执行流程详解 (Task Understanding → Context Discovery → Prompt Enhancement → Tool Selection & Execution → Output Routing)","第三幕：社交网络 - cli-execution-agent 与 Skill、CLI Tools、Session 的关系","第四幕：造物主的私语 - 为什么采用 5 阶段设计、Tool Selection Hierarchy 的设计原则","第五幕：进化的插槽 - 如何扩展新的 CLI 工具支持","事故复盘档案：Gemini 429 错误处理的教训"],"test":{"unit":["验证 5 阶段流程描述准确"],"commands":[]},"convergence":{"criteria":["5 阶段流程图完整","Tool Selection Hierarchy 清晰","事故复盘有实际案例"],"verification":"grep -c 'Phase [1-5]' docs/deep-study/part5-execution-layer/10-core-agents-deep-dive.md"},"depends_on":["T1"],"priority":"high"},{"id":"T3","title":"深度解析 code-developer","scope":"docs/deep-study/part5-execution-layer","action":"Implement","description":"在 Chapter 10 中深度解析 code-developer 的代码执行流程","files":[{"path":"docs/deep-study/part5-execution-layer/10-core-agents-deep-dive.md","action":"modify","change":"添加 code-developer 深度解析章节"}],"implementation":["资产证言：code-developer 的自我介绍 (纯代码执行专家)","第一幕：失控的边缘 - 上下文不足导致的盲目编码","第二幕：思维脉络 - Context Assessment → Execution Standards → Quality Gates → Task Completion 流程","第三幕：社交网络 - code-developer 与 Task JSON、Context Package、CLI Tools 的关系","第四幕：造物主的私语 - Incremental progress 设计哲学、Context-driven 执行模式","第五幕：进化的插槽 - 如何支持新的编程语言/框架","分析 CLI Handoff 机制：buildCliHandoffPrompt 函数的工作原理","分析 Resume Strategy：new/resume/fork/merge_fork 四种策略"],"test":{"unit":["验证 Context Assessment 流程描述准确","验证 CLI Handoff 机制分析完整"],"commands":[]},"convergence":{"criteria":["执行流程图完整","CLI Handoff 机制说明清晰","Resume Strategy 四种策略覆盖"],"verification":"grep -c 'Resume Strategy' docs/deep-study/part5-execution-layer/10-core-agents-deep-dive.md"},"depends_on":["T2"],"priority":"high"},{"id":"T4","title":"深度解析 cli-explore-agent","scope":"docs/deep-study/part5-execution-layer","action":"Implement","description":"在 Chapter 10 中深度解析 cli-explore-agent 的双源分析策略","files":[{"path":"docs/deep-study/part5-execution-layer/10-core-agents-deep-dive.md","action":"modify","change":"添加 cli-explore-agent 深度解析章节"}],"implementation":["资产证言：cli-explore-agent 的自我介绍 (只读代码探索者)","第一幕：失控的边缘 - 没有结构化探索的盲目搜索","第二幕：思维脉络 - 4 阶段执行流程 (Task Understanding → Analysis Execution → Schema Validation → Output Generation)","第三幕：社交网络 - cli-explore-agent 与 Bash、Gemini CLI、Schema 的关系","第四幕：造物主的私语 - Dual-Source Synthesis 设计原则、Discovery Source 标注的意义","第五幕：进化的插槽 - 如何添加新的分析模式 (quick-scan/deep-scan/dependency-map)","重点分析 Schema Validation Phase：为什么必须先读取 Schema 文件","分析 Analysis Modes 选择策略"],"test":{"unit":["验证 4 阶段流程描述准确","验证双源分析策略说明完整"],"commands":[]},"convergence":{"criteria":["4 阶段流程图完整","双源分析策略清晰","Schema Validation Phase 详细"],"verification":"grep -c 'Dual-Source' docs/deep-study/part5-execution-layer/10-core-agents-deep-dive.md"},"depends_on":["T3"],"priority":"high"},{"id":"T5","title":"深度解析 universal-executor","scope":"docs/deep-study/part5-execution-layer","action":"Implement","description":"在 Chapter 10 中深度解析 universal-executor 的通用执行模式","files":[{"path":"docs/deep-study/part5-execution-layer/10-core-agents-deep-dive.md","action":"modify","change":"添加 universal-executor 深度解析章节"}],"implementation":["资产证言：universal-executor 的自我介绍 (万能执行者)","第一幕：失控的边缘 - 没有通用执行者的领域碎片化","第二幕：思维脉络 - Context Assessment → Execution Standards → Quality Gates → Task Completion 流程","第三幕：社交网络 - universal-executor 与各类任务、MCP Tools 的关系","第四幕：造物主的私语 - Adaptability 设计原则、Quality over speed 理念","第五幕：进化的插槽 - 如何扩展新的任务领域","分析 FLOW_CONTROL 标记处理：pre_analysis 步骤的执行","对比 universal-executor 与 code-developer 的职责边界"],"test":{"unit":["验证通用执行模式描述准确"],"commands":[]},"convergence":{"criteria":["执行流程图完整","与 code-developer 的边界清晰","FLOW_CONTROL 处理说明"],"verification":"grep -c 'FLOW_CONTROL' docs/deep-study/part5-execution-layer/10-core-agents-deep-dive.md"},"depends_on":["T4"],"priority":"medium"},{"id":"T6","title":"关联 OOM 幽灵叙事线","scope":"docs/deep-study/part5-execution-layer","action":"Implement","description":"在 Chapter 10 中延续 OOM 幽灵叙事，分析核心 Agent 执行中的内存行为","files":[{"path":"docs/deep-study/part5-execution-layer/10-core-agents-deep-dive.md","action":"modify","change":"添加 OOM 幽灵叙事关联内容"}],"implementation":["更新调查进度条：从 45% 推进到 55%","分析 cli-execution-agent 5 阶段的内存累积：Context Discovery 阶段的文件读取、Prompt Enhancement 的字符串构建","分析 code-developer CLI Handoff 的内存峰值：buildCliHandoffPrompt 构建大字符串","分析 cli-explore-agent 双源分析的内存开销：Bash + Gemini CLI 并行","计算本章新增的内存债务：估计 +220MB","更新幽灵位置：执行层 → 核心代理的内存行为","添加幽灵旁白：Agent 上下文构建的'静默累积'"],"test":{"unit":["验证 OOM 叙事线索与前面章节连贯"],"commands":[]},"convergence":{"criteria":["调查进度更新到 55%","内存债务计算准确","幽灵旁白与主题相关"],"verification":"grep '调查进度.*55%' docs/deep-study/part5-execution-layer/10-core-agents-deep-dive.md"},"depends_on":["T5"],"priority":"medium"}],"is_bound":true,"bound_at":"2026-02-17T14:10:56.206Z"}
