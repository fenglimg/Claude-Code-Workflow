# Requirement (non-leaky): /workflow:task-generate-tdd

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/workflow/tools/task-generate-tdd.md`

## Command Identity

- group: workflow
- name: task-generate-tdd
- description: Autonomous TDD task generation using action-planning-agent with Red-Green-Refactor cycles, test-first structure, and cycle validation
- argument-hint: [-y|--yes] --session WFS-session-id
- allowed-tools: TBD

## Structure Hints (Headings Only)

  - Auto Mode
- Autonomous TDD Task Generation Command
  - Overview
  - Core Philosophy
  - Task Strategy & Philosophy
    - Optimized Task Structure (Current)
    - When to Use Subtasks
    - Task Limits
    - TDD Cycle Mapping
  - Execution Process
  - Execution Lifecycle
    - Phase 0: User Configuration (Interactive)
    - Phase 1: Context Preparation & Discovery
    - Phase 2: Agent Execution (TDD Document Generation)
  - TASK OBJECTIVE
  - SESSION PATHS
  - CONTEXT METADATA
  - USER CONFIGURATION (from Phase 0)
  - EXECUTION METHOD MAPPING
  - EXPLORATION CONTEXT (from context-package.exploration_results)
  - CONFLICT RESOLUTION CONTEXT (if exists)
  - TEST CONTEXT INTEGRATION
  - TDD DOCUMENT GENERATION TASK
    - TDD-Specific Requirements Summary
      - Task Structure Philosophy
      - TDD Cycle Mapping
      - Required Outputs Summary
        - 1. TDD Task JSON Files (.task/IMPL-*.json)
        - 2. IMPL_PLAN.md (TDD Variant)
        - 3. TODO_LIST.md
    - CLI EXECUTION ID REQUIREMENTS (MANDATORY)
    - Quantification Requirements (MANDATORY)
    - Agent Execution Summary
  - SUCCESS CRITERIA
  - OUTPUT SUMMARY
    - Agent Context Passing
  - TDD Task Structure Reference
  - Output Files Structure
  - Validation Rules
    - Task Completeness
    - Dependency Enforcement
    - Task Limits
    - TDD Workflow Validation
  - Error Handling
    - Input Validation Errors
    - TDD Generation Errors
  - Integration & Usage
- Standard execution
- With semantic CLI request (include in task description)
- e.g., "Generate TDD tasks for auth module, use Codex for implementation"
  - Test Coverage Analysis Integration
  - Iterative Green Phase with Test-Fix Cycle
  - Configuration Options

## Hard Constraints (P0)

- Do not claim a pointer is `Existing` unless it is verifiable in the repo now.
- Evidence must be dual-source: docs (.claude/commands/**.md) + ts (ccw/src/**).
- If unsure, mark as `Planned` and add a concrete `Verify` step.
