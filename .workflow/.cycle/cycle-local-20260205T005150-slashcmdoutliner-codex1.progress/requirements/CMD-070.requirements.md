# Requirement (non-leaky): /workflow:explore-auto

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/workflow/ui-design/explore-auto.md`

## Command Identity

- group: workflow
- name: explore-auto
- description: Interactive exploratory UI design workflow with style-centric batch generation, creates design variants from prompts/images with parallel execution and user selection
- argument-hint: [--input "<value>"] [--targets "<list>"] [--target-type "page|component"] [--session <id>] [--style-variants <count>] [--layout-variants <count>]
- allowed-tools: Skill(*), TodoWrite(*), Read(*), Bash(*), Glob(*), Write(*), Task(conceptual-planning-agent)

## Structure Hints (Headings Only)

- UI Design Auto Workflow Command
  - Overview & Execution Model
  - Execution Process
  - Core Rules
  - Parameter Requirements
  - Execution Modes
  - 10-Phase Execution
    - Phase 1: Parameter Parsing & Input Detection
- Legacy parameters (deprecated)
- Unified --input (split by "|")
    - Phase 2: Intelligent Prompt Parsing
- Variant counts (priority chain)
    - Phase 3: Device Type Inference
- Device type (priority chain)
    - Phase 4: Run Initialization & Directory Setup
- Create directory and convert to absolute path
- Initialize default flags for animation extraction logic
    - Phase 5: Unified Target Inference with Intelligent Type Detection
- Priority: --pages/--components (legacy) → --targets → --prompt analysis → synthesis → default
- Step 1-2: Explicit parameters (legacy or unified)
- Step 3: Prompt analysis (Claude internal analysis)
- Step 4: Session synthesis
- Step 5: Fallback
- Validate and clean
- Interactive confirmation
- Process user modifications
- ⚠️ CRITICAL: User confirmation complete, IMMEDIATELY initialize TodoWrite and execute Phase 7
- This is the only user interaction point in the workflow
- After this point, all subsequent phases execute automatically without user intervention
    - Phase 6: Code Import & Completeness Assessment (Conditional)
    - Phase 7: Style Extraction
    - Phase 8: Animation Extraction
- Determine if animation extraction is needed
- Output: animation-tokens.json + animation-guide.md
- When phase finishes, IMMEDIATELY execute Phase 9 (auto-continue)
    - Phase 9: Layout Extraction
    - Phase 10: UI Assembly
- Skill execute ATTACHES generate's tasks to current workflow
- Orchestrator will EXECUTE these attached tasks itself
- After executing all attached tasks, collapse them into phase summary
- Workflow complete - generate command handles preview file generation (compare.html, PREVIEW.md)
- Output (generated by generate command):
- - {target}-style-{s}-layout-{l}.html (assembled prototypes)
- - {target}-style-{s}-layout-{l}.css
- - compare.html (interactive matrix view)
- - PREVIEW.md (usage instructions)
  - TodoWrite Pattern
  - Completion Output

## Hard Constraints (P0)

- Do not claim a pointer is `Existing` unless it is verifiable in the repo now.
- Evidence must be dual-source: docs (.claude/commands/**.md) + ts (ccw/src/**).
- If unsure, mark as `Planned` and add a concrete `Verify` step.
