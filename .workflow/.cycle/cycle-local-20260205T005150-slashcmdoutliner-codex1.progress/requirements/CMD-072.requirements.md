# Requirement (non-leaky): /workflow:imitate-auto

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/workflow/ui-design/imitate-auto.md`

## Command Identity

- group: workflow
- name: imitate-auto
- description: UI design workflow with direct code/image input for design token extraction and prototype generation
- argument-hint: [--input "<value>"] [--session <id>]
- allowed-tools: Skill(*), TodoWrite(*), Read(*), Write(*), Bash(*)

## Structure Hints (Headings Only)

- UI Design Imitate-Auto Workflow Command
  - Overview & Execution Model
  - Execution Process
  - Core Rules
  - Parameter Requirements
  - Execution Modes
  - 5-Phase Execution
    - Phase 0: Parameter Parsing & Input Detection
- Step 0: Parse and normalize parameters
- Handle legacy parameters with deprecation warning
- Parse unified --input parameter
- Validation
- Step 1: Detect design source from parsed inputs
- Step 2: Determine design source strategy
- Step 3: Initialize directories
- Create base directory and convert to absolute path
- Write metadata
- Initialize default flags
- Initialize TodoWrite
    - Phase 0.5: Code Import & Completeness Assessment (Conditional)
- Only execute if code files detected
    - Phase 2: Style Extraction
- Determine if style extraction needed
    - Phase 2.3: Animation Extraction
    - Phase 2.5: Layout Extraction
    - Phase 3: UI Assembly
- Skill execute ATTACHES generate's tasks to current workflow
- Orchestrator will EXECUTE these attached tasks itself
- After executing all attached tasks, collapse them into phase summary
    - Phase 4: Design System Integration
- Update metadata
- Mark all phases complete
    - Phase 4: Completion Report
  - TodoWrite Pattern
  - Error Handling
    - Pre-execution Checks
    - Phase-Specific Errors
    - Recovery Strategies
  - Integration Points
  - Completion Output

## Hard Constraints (P0)

- Do not claim a pointer is `Existing` unless it is verifiable in the repo now.
- Evidence must be dual-source: docs (.claude/commands/**.md) + ts (ccw/src/**).
- If unsure, mark as `Planned` and add a concrete `Verify` step.
