# Requirement (non-leaky): /workflow:conflict-resolution

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/workflow/tools/conflict-resolution.md`

## Command Identity

- group: workflow
- name: conflict-resolution
- description: Detect and resolve conflicts between plan and existing codebase using CLI-powered analysis with Gemini/Qwen
- argument-hint: [-y|--yes] --session WFS-session-id --context path/to/context-package.json
- allowed-tools: TBD

## Structure Hints (Headings Only)

  - Auto Mode
- Conflict Resolution Command
  - Purpose
  - Core Responsibilities
  - Conflict Categories
    - 1. Architecture Conflicts
    - 2. API Conflicts
    - 3. Data Model Conflicts
    - 4. Dependency Conflicts
    - 5. Module Scenario Overlap
  - Execution Process
  - Execution Flow
    - Phase 1: Validation
    - Phase 2: CLI-Powered Analysis
    - Phase 3: User Interaction Loop
    - Phase 4: Apply Modifications
  - Output Format
    - Primary Output: conflict-resolution.json
    - Secondary: Agent JSON Response (stdout)
    - Key Requirements
  - Error Handling
    - Recovery Strategy
    - Rollback Handling
  - Integration
    - Interface
    - Success Criteria

## Hard Constraints (P0)

- Do not claim a pointer is `Existing` unless it is verifiable in the repo now.
- Evidence must be dual-source: docs (.claude/commands/**.md) + ts (ccw/src/**).
- If unsure, mark as `Planned` and add a concrete `Verify` step.
