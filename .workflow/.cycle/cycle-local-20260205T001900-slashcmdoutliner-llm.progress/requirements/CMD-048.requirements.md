# Requirement (non-leaky): /workflow:review

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/workflow/review.md`

## Command Identity

- group: workflow
- name: review
- description: Post-implementation review with specialized types (security/architecture/action-items/quality) using analysis agents and Gemini
- argument-hint: [--type=security|architecture|action-items|quality] [--archived] [optional: session-id]
- allowed-tools: TBD

## Structure Hints (Headings Only)

  - Command Overview: /workflow:review
  - Philosophy: "Tests Are the Review"
  - Review Types
  - Execution Process
  - Execution Template
- Optional specialized review for completed implementation
- Step 1: Session ID resolution and location detection
- Step 2: Resolve session path (active or archived)
- Priority: --archived flag → active → archives
- Check for completed tasks
- Step 3: Determine review type (default: quality)
- Redirect docs review to specialized command
- Step 4: Analysis handover → Model takes control
- BASH_EXECUTION_STOPS → MODEL_ANALYSIS_BEGINS
    - Model Analysis Phase
  - Usage Examples
- General quality review after implementation
- Security audit before deployment
- Architecture review for specific session
- Review an archived session (auto-detects if not in active)
- Explicitly review archived session
- Documentation review
  - Features
  - Integration with Workflow
  - Post-Review Action

## Hard Constraints (P0)

- Do not claim a pointer is `Existing` unless it is verifiable in the repo now.
- Evidence must be dual-source: docs (.claude/commands/**.md) + ts (ccw/src/**).
- If unsure, mark as `Planned` and add a concrete `Verify` step.
