# Requirement (non-leaky): /issue:new

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/issue/new.md`

## Command Identity

- group: issue
- name: new
- description: Create structured issue from GitHub URL or text description
- argument-hint: [-y|--yes] <github-url | text-description> [--priority 1-5]
- allowed-tools: TodoWrite(*), Bash(*), Read(*), AskUserQuestion(*), mcp__ace-tool__search_context(*)

## Structure Hints (Headings Only)

  - Auto Mode
- Issue New Command (/issue:new)
  - Core Principle
  - Issue Structure
  - Quick Reference
- Clear inputs - direct creation
- Vague input - will ask clarifying questions
  - Implementation
    - Phase 1: Input Analysis & Clarity Detection
    - Phase 2: Data Extraction (GitHub or Text)
    - Phase 3: Lightweight Context Hint (Conditional)
    - Phase 4: Conditional Clarification (Only if Unclear)
    - Phase 5: GitHub Publishing Decision (Non-GitHub Sources)
    - Phase 6: Create Issue
- Option 1: Pipe input (recommended for complex JSON - avoids shell escaping)
- Option 2: Heredoc (for multi-line JSON)
- Option 3: --data parameter (simple cases only)
- Create issue via pipe (recommended)
- Or with heredoc for complex JSON
- Output (JSON)
- User creates text issue
- System asks: "Would you like to publish this issue to GitHub?"
- User selects: "Yes, publish to GitHub"
- Output:
- ✓ Local issue created: ISS-20251229-001
- ✓ Published to GitHub: https://github.com/org/repo/issues/123
- ✓ GitHub binding saved to local issue
- → Next step: /issue:plan ISS-20251229-001
- Resulting issue JSON:
  - Execution Flow
  - Helper Functions
  - Examples
    - Clear Input (No Questions)
- → Fetches, parses, creates immediately
- → Parses structure, creates immediately
    - Vague Input (1 Question)
- → Asks: "Input unclear. What is the issue about?"
- → User provides details → saved to feedback[]
- → Creates issue
  - Related Commands

## Hard Constraints (P0)

- Do not claim a pointer is `Existing` unless it is verifiable in the repo now.
- Evidence must be dual-source: docs (.claude/commands/**.md) + ts (ccw/src/**).
- If unsure, mark as `Planned` and add a concrete `Verify` step.
