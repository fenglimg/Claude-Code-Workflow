# Requirement (non-leaky): /workflow:analyze-with-file

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/workflow/analyze-with-file.md`

## Command Identity

- group: workflow
- name: analyze-with-file
- description: Interactive collaborative analysis with documented discussions, CLI-assisted exploration, and evolving understanding
- argument-hint: [-y|--yes] [-c|--continue] \"topic or question\"
- allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Grep(*), Glob(*), Bash(*), Edit(*), Write(*)

## Structure Hints (Headings Only)

  - Auto Mode
- Workflow Analyze Command
  - Quick Start
- Basic usage
- With options
  - Output Artifacts
    - Phase 1: Topic Understanding
    - Phase 2: CLI Exploration
    - Phase 3: Interactive Discussion
    - Phase 4: Synthesis & Conclusion
  - Overview
  - Output Structure
  - Implementation
    - Session Initialization
    - Phase 1: Topic Understanding
    - Phase 2: CLI Exploration
  - Analysis Context
  - MANDATORY FIRST STEPS
  - Exploration Focus
  - Output
  - Analysis Context
  - MANDATORY FIRST STEPS
  - Exploration Focus (${perspective.name} angle)
  - Output
    - Phase 3: Interactive Discussion
    - Phase 4: Synthesis & Conclusion
  - Configuration
    - Analysis Perspectives
    - Dimension-Direction Mapping
    - Analysis Dimensions
    - Consolidation Rules
  - Current Understanding
  - Current Understanding
    - What We Established
    - What Was Clarified
    - Key Insights
  - Error Handling
  - Best Practices
  - Templates
    - Discussion Document Structure
    - Round 2 - Discussion (timestamp)
      - User Input
      - Updated Understanding
      - Corrected Assumptions
      - New Insights
  - Usage Recommendations(Requires User Confirmation)

## Hard Constraints (P0)

- Do not claim a pointer is `Existing` unless it is verifiable in the repo now.
- Evidence must be dual-source: docs (.claude/commands/**.md) + ts (ccw/src/**).
- If unsure, mark as `Planned` and add a concrete `Verify` step.
