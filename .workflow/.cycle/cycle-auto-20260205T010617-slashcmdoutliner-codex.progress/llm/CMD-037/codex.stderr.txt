Reading prompt from stdin...
OpenAI Codex v0.93.0 (research preview)
--------
workdir: C:\Project\Claude-Code-Workflow
model: gpt-5.2
provider: codex
approval: never
sandbox: danger-full-access
reasoning effort: high
reasoning summaries: auto
session id: 019c2c19-bb63-70a3-a479-9b9990ffa83d
--------
user
Use the repo skill: slash-command-outliner (path: .codex/skills/slash-command-outliner).

Cycle: cycle-auto-20260205T010617-slashcmdoutliner-codex
Command: CMD-037

Input requirement doc (non-leaky): `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/requirements/CMD-037.requirements.md`

Write the following output files (create directories as needed) under `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs`:
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md`

Hard rules (P0):
- Follow templates: .codex/skills/slash-command-outliner/templates/*
- Follow gates: .codex/skills/slash-command-outliner/specs/quality-gates.md
- Evidence tables MUST pass: node .codex/skills/slash-command-outliner/scripts/verify-evidence.js
- Never label a pointer as Existing unless it is verifiable in the repo now.
- For ANY pointer row, provide dual-source evidence:
  - docs: .claude/commands/**.md / <real heading text>
  - ts: ccw/src/** / <literal anchor string present in file>
- Avoid placeholders like TBD/N/A in evidence rows; if unsure, mark as Planned and add Verify steps.

Keep the written files concise; do not write extra files unless necessary.

deprecated: `[features].web_search_request` is deprecated. Use `web_search` instead.
  Set `web_search` to `"live"`, `"cached"`, or `"disabled"` in config.toml.
mcp: ccw-tools starting
mcp: ace-tool starting
mcp: exa starting
mcp: ccw-tools ready
mcp: ace-tool ready
mcp: exa ready
mcp startup: ready: ccw-tools, ace-tool, exa

thinking
**Organizing reading skills**

I‚Äôm planning to look at the reading skill instructions and templates, starting with the structure. I think it makes sense to read the SKILL.md file and the templates located in the gates and requirements document. Using shell commands to read through them is a neat idea, and I want to ensure I'm thorough in gathering the necessary information. Let‚Äôs get started on that!
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

$root='"'C:\\Project\\Claude-Code-Workflow'
Set-Location "'$root

"== skill =="; Get-ChildItem -Force .codex/skills/slash-command-outliner | Select-Object Name,Mode,Length
"== templates =="; Get-ChildItem -Force .codex/skills/slash-command-outliner/templates -Recurse | Select-Object FullName,Length
"== specs =="; Get-ChildItem -Force .codex/skills/slash-command-outliner/specs -Recurse | Select-Object FullName,Length
' in C:\Project\Claude-Code-Workflow succeeded in 343ms:
== skill ==

[32;1mName     [0m[32;1m Mode [0m[32;1m Length[0m
[32;1m----     [0m [32;1m---- [0m [32;1m------[0m
phases    d---- 
scripts   d---- 
specs     d---- 
templates d---- 
SKILL.md  -a--- 1946
== templates ==
                865
                1373
                1936
== specs ==
                461
                2340
                1152


thinking
**Evaluating PowerShell output**

I'm noticing that the PowerShell output is missing filenames, possibly because the select command isn't showing the full names. It could be due to formatting issues since it's only displaying length instead. The results just show numbers, which makes me think the default formatting might be missing property names. I wonder if using Format-Table with the AutoSize option could help. I think I should rerun the command to include the names!
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

\"== templates ==\"; Get-ChildItem -Force .codex/skills/slash-command-outliner/templates -Recurse | Sort-Object FullName | Format-Table -AutoSize FullName,Length
\"== specs ==\"; Get-ChildItem -Force .codex/skills/slash-command-outliner/specs -Recurse | Sort-Object FullName | Format-Table -AutoSize FullName,Length
" in C:\Project\Claude-Code-Workflow succeeded in 333ms:
== templates ==

[32;1mFullName                                                                                               [0m[32;1m Length[0m
[32;1m--------                                                                                               [0m [32;1m------[0m
C:\Project\Claude-Code-Workflow\.codex\skills\slash-command-outliner\templates\agent-outline.md            865
C:\Project\Claude-Code-Workflow\.codex\skills\slash-command-outliner\templates\gap-report.md              1373
C:\Project\Claude-Code-Workflow\.codex\skills\slash-command-outliner\templates\slash-command-outline.md   1936

== specs ==

[32;1mFullName                                                                                   [0m[32;1m Length[0m
[32;1m--------                                                                                   [0m [32;1m------[0m
C:\Project\Claude-Code-Workflow\.codex\skills\slash-command-outliner\specs\corpus-scope.md     461
C:\Project\Claude-Code-Workflow\.codex\skills\slash-command-outliner\specs\quality-gates.md   2340
C:\Project\Claude-Code-Workflow\.codex\skills\slash-command-outliner\specs\spec-input.md      1152

exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

\"== scripts ==\"; Get-ChildItem -Force .codex/skills/slash-command-outliner/scripts | Sort-Object Name | Format-Table -AutoSize Name,Length
" in C:\Project\Claude-Code-Workflow succeeded in 329ms:
== scripts ==

[32;1mName                   [0m[32;1m Length[0m
[32;1m----                   [0m [32;1m------[0m
derive-spec.js            1150
gap-report.js             2735
generate-outline.js       2103
lib                          1
README.md                 1912
regress-all.js            8743
scan-corpus.js            3511
verify-evidence.js       11781
verify-evidence.test.js   1829


thinking
**Generating outlines with scripts**

I think we should consider using scripts to automatically generate outlines, perhaps within the skill instructions. I plan to read through SKILL.md and README files to gather the necessary information. Opening those relevant documents could help clarify how we can best implement this approach, ensuring we're on the right track. I want to make sure I have all the details before moving forward. Let's see what those documents reveal!
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

\"--- SKILL.md ---\"; Get-Content .codex/skills/slash-command-outliner/SKILL.md -Raw

\"--- specs/spec-input.md ---\"; Get-Content .codex/skills/slash-command-outliner/specs/spec-input.md -Raw

\"--- specs/quality-gates.md ---\"; Get-Content .codex/skills/slash-command-outliner/specs/quality-gates.md -Raw

\"--- templates/slash-command-outline.md ---\"; Get-Content .codex/skills/slash-command-outliner/templates/slash-command-outline.md -Raw

\"--- templates/agent-outline.md ---\"; Get-Content .codex/skills/slash-command-outliner/templates/agent-outline.md -Raw

\"--- templates/gap-report.md ---\"; Get-Content .codex/skills/slash-command-outliner/templates/gap-report.md -Raw

\"--- scripts/README.md ---\"; Get-Content .codex/skills/slash-command-outliner/scripts/README.md -Raw
" in C:\Project\Claude-Code-Workflow succeeded in 348ms:
--- SKILL.md ---
---
name: slash-command-outliner
description: Codex version of slash-command-outliner. Generate CCW-aligned slash command development outlines from a requirement/spec doc, validated via corpus-wide iteration and non-regression. Triggers on "slash command outliner", "slash ÂëΩ‰ª§Â§ßÁ∫≤", "slash ÂëΩ‰ª§ÁîüÊàêÂô®", "ÂëΩ‰ª§Â§ßÁ∫≤".
allowed-tools: Read, Write, AskUserQuestion, Task, Bash, TodoWrite, mcp__ace-tool__search_context
---

# Slash Command Outliner (Codex)

Input a **slash command requirement/spec document**. Output a **CCW-aligned, end-to-end development outline** (Slash MD outline + Agent MD outline) plus a **gap-report** that compares against reference implementations and CCW server/tooling corpus. Improve quality by iterating across **all** existing commands with **non-regression snapshots**.

This skill is designed to be **precise** (no fluff) and **stable** (non-regression gate).

## Canonical Workflow (Phases)

1) `phases/01-collect-spec.md`  
2) `phases/02-retrieve-and-rank-references.md`  
3) `phases/03-generate-outlines.md`  
4) `phases/04-gap-report-and-iterate.md`  
5) `phases/05-regression-and-closure.md`

thinking
**Following workflow phases**

I'm thinking we need to stick to our workflow phases. First, I'll collect specifications from the requirements document, ensuring it's secure. Then, I'll retrieve necessary references, generate outlines, and create a gap report, iterating until I verify that evidence passes. Additionally, I need to produce spec.json, references.json, and fix-plan.md. I'll remember to keep track of our cycle ID and command, and I'll write outputs in the designated folder while creating the necessary directories. Let's check the phases documents for more guidance!
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

Get-ChildItem .codex/skills/slash-command-outliner/phases -Recurse | Sort-Object FullName | Format-Table -AutoSize FullName,Length

\"--- phases/01 ---\"; Get-Content .codex/skills/slash-command-outliner/phases/01-collect-spec.md -Raw
\"--- phases/02 ---\"; Get-Content .codex/skills/slash-command-outliner/phases/02-retrieve-and-rank-references.md -Raw
\"--- phases/03 ---\"; Get-Content .codex/skills/slash-command-outliner/phases/03-generate-outlines.md -Raw
\"--- phases/04 ---\"; Get-Content .codex/skills/slash-command-outliner/phases/04-gap-report-and-iterate.md -Raw
\"--- phases/05 ---\"; Get-Content .codex/skills/slash-command-outliner/phases/05-regression-and-closure.md -Raw
" in C:\Project\Claude-Code-Workflow succeeded in 351ms:

[32;1mFullName                                                                                                      [0m[32;1m Length[0m
[32;1m--------                                                                                                      [0m [32;1m------[0m
C:\Project\Claude-Code-Workflow\.codex\skills\slash-command-outliner\phases\01-collect-spec.md                   1105
C:\Project\Claude-Code-Workflow\.codex\skills\slash-command-outliner\phases\02-retrieve-and-rank-references.md    813
C:\Project\Claude-Code-Workflow\.codex\skills\slash-command-outliner\phases\03-generate-outlines.md               829
C:\Project\Claude-Code-Workflow\.codex\skills\slash-command-outliner\phases\04-gap-report-and-iterate.md         2437
C:\Project\Claude-Code-Workflow\.codex\skills\slash-command-outliner\phases\05-regression-and-closure.md          758

--- phases/01 ---
# Phase 01: Collect Spec (No Leakage)

## Goal

Turn a human requirement/rules document into a **minimal, structured spec** that is sufficient to generate:

- Slash command outline (CCW command MD skeleton)
- Agent outline (execution + tools + state)

Do **not** copy/paste existing implementation docs as input; treat them as oracle only during gap analysis.

thinking
**Following instructions for cycle mode**

I‚Äôm currently in "cycle mode" as instructed. It seems I only need to write output files in the specified output folder, and there‚Äôs no mention of running a regression at the moment. However, I must pass the evidence gate, so I‚Äôll run the verify-evidence script pointing to the output files. I think I should read the requirement document now to ensure I‚Äôm following everything correctly. I'll open it up!
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

"'$req='"'.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/requirements/CMD-037.requirements.md'
\"--- requirements ---\"; Get-Content "'$req -Raw
' in C:\Project\Claude-Code-Workflow succeeded in 349ms:
--- requirements ---
# Requirement (non-leaky): /workflow:init

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/workflow/init.md`

## Command Identity

- group: workflow
- name: init
- description: Initialize project-level state with intelligent project analysis using cli-explore-agent
- argument-hint: [--regenerate]
- allowed-tools: TBD

## Structure Hints (Headings Only)

- Workflow Init Command (/workflow:init)
  - Overview
  - Usage
tool ace-tool.search_context({"project_root_path":"C:/Project/Claude-Code-Workflow","query":"Locate implementation and docs patterns for slash command /workflow:init and mentions of cli-explore-agent. Keywords: workflow:init, init command, cli-explore-agent, guidelines scaffold, project metadata."})
ace-tool.search_context({"project_root_path":"C:/Project/Claude-Code-Workflow","query":"Locate implementation and docs patterns for slash command /workflow:init and mentions of cli-explore-agent. Keywords: workflow:init, init command, cli-explore-agent, guidelines scaffold, project metadata."}) success in 19.18s:
{
  "content": [
    {
      "text": "The following code sections were retrieved:\nPath: .claude\\commands\\workflow\\init.md\n...\n     9\t\r\n    10\t# Workflow Init Command (/workflow:init)\r\n    11\t\r\n    12\t## Overview\r\n    13\tInitialize `.workflow/project-tech.json` and `.workflow/project-guidelines.json` with comprehensive project understanding by delegating analysis to **cli-explore-agent**.\r\n    14\t\r\n    15\t**Dual File System**:\r\n    16\t- `project-tech.json`: Auto-generated technical analysis (stack, architecture, components)\r\n    17\t- `project-guidelines.json`: User-maintained rules and constraints (created as scaffold)\r\n    18\t\r\n    19\t**Note**: This command may be called by other workflow commands. Upon completion, return immediately to continue the calling workflow without interrupting the task flow.\r\n    20\t\r\n    21\t## Usage\r\n    22\t```bash\r\n    23\t/workflow:init                 # Initialize (skip if exists)\r\n    24\t/workflow:init --regenerate    # Force regeneration\r\n    25\t```\r\n    26\t\r\n    27\t## Execution Process\r\n...\n    37\t\r\n    38\tAnalysis Flow:\r\n    39\t   ‚îú‚îÄ Get project metadata (name, root)\r\n    40\t   ‚îú‚îÄ Invoke cli-explore-agent\r\n    41\t   ‚îÇ   ‚îú‚îÄ Structural scan (get_modules_by_depth.sh, find, wc)\r\n    42\t   ‚îÇ   ‚îú‚îÄ Semantic analysis (Gemini CLI)\r\n    43\t   ‚îÇ   ‚îú‚îÄ Synthesis and merge\r\n    44\t   ‚îÇ   ‚îî‚îÄ Write .workflow/project-tech.json\r\n    45\t   ‚îú‚îÄ Create guidelines scaffold (if not exists)\r\n    46\t   ‚îÇ   ‚îî‚îÄ Write .workflow/project-guidelines.json (empty structure)\r\n    47\t   ‚îú‚îÄ Display summary\r\n    48\t   ‚îî‚îÄ Ask about guidelines configuration\r\n    49\t       ‚îú‚îÄ If guidelines empty ‚Üí Ask user: \"Configure now?\" or \"Skip\"\r\n    50\t       ‚îÇ   ‚îú‚îÄ Configure now ‚Üí Skill(skill=\"workflow:init-guidelines\")\r\n    51\t       ‚îÇ   ‚îî‚îÄ Skip ‚Üí Show next steps\r\n    52\t       ‚îî‚îÄ If guidelines populated ‚Üí Show next steps only\r\n    53\t\r\n    54\tOutput:\r\n    55\t   ‚îú‚îÄ .workflow/project-tech.json (+ .backup if regenerate)\r\n    56\t   ‚îî‚îÄ .workflow/project-guidelines.json (scaffold or configured)\r\n    57\t```\r\n...\n    85\t\r\n    86\t### Step 2: Get Project Metadata\r\n    87\t\r\n    88\t```bash\r\n    89\tbash(basename \"$(git rev-parse --show-toplevel 2>/dev/null || pwd)\")\r\n    90\tbash(git rev-parse --show-toplevel 2>/dev/null || pwd)\r\n    91\tbash(mkdir -p .workflow)\r\n    92\t```\r\n    93\t\r\n    94\t### Step 3: Invoke cli-explore-agent\r\n    95\t\r\n    96\t**For --regenerate**: Backup and preserve existing data\r\n    97\t```bash\r\n    98\tbash(cp .workflow/project-tech.json .workflow/project-tech.json.backup)\r\n    99\t```\r\n   100\t\r\n   101\t**Delegate analysis to agent**:\r\n   102\t\r\n   103\t```javascript\r\n   104\tTask(\r\n   105\t  subagent_type=\"cli-explore-agent\",\r\n   106\t  run_in_background=false,\r\n   107\t  description=\"Deep project analysis\",\r\n   108\t  prompt=`\r\n   109\tAnalyze project for workflow initialization and generate .workflow/project-tech.json.\r\n   110\t\r\n   111\t## MANDATORY FIRST STEPS\r\n   112\t1. Execute: cat ~/.claude/workflows/cli-templates/schemas/project-tech-schema.json (get schema reference)\r\n   113\t2. Execute: ccw tool exec get_modules_by_depth '{}' (get project structure)\r\n   114\t\r\n   115\t## Task\r\n   116\tGenerate complete project-tech.json following the schema structure:\r\n   117\t- project_name: \"${projectName}\"\r\n   118\t- initialized_at: ISO 8601 timestamp\r\n   119\t- overview: {\r\n   120\t    description: \"Brief project description\",\r\n   121\t    technology_stack: {\r\n   122\t      languages: [{name, file_count, primary}],\r\n   123\t      frameworks: [\"string\"],\r\n   124\t      build_tools: [\"string\"],\r\n   125\t      test_frameworks: [\"string\"]\r\n   126\t    },\r\n   127\t    architecture: {style, layers: [], patterns: []},\r\n   128\t    key_components: [{name, path, description, importance}]\r\n   129\t  }\r\n...\n   233\t\r\n   234\t// Only ask if guidelines are not yet populated\r\n   235\tif (!isGuidelinesPopulated) {\r\n   236\t  const userChoice = AskUserQuestion({\r\n   237\t    questions: [{\r\n   238\t      question: \"Would you like to configure project guidelines now? The wizard will ask targeted questions based on your tech stack.\",\r\n   239\t      header: \"Guidelines\",\r\n   240\t      multiSelect: false,\r\n   241\t      options: [\r\n   242\t        {\r\n   243\t          label: \"Configure now (Recommended)\",\r\n   244\t          description: \"Interactive wizard to set up coding conventions, constraints, and quality rules\"\r\n   245\t        },\r\n   246\t        {\r\n   247\t          label: \"Skip for now\",\r\n   248\t          description: \"You can run /workflow:init-guidelines later or use /workflow:session:solidify to add rules individually\"\r\n   249\t        }\r\n   250\t      ]\r\n   251\t    }]\r\n   252\t  });\r\n   253\t\r\n   254\t  if (userChoice.answers[\"Guidelines\"] === \"Configure now (Recommended)\") {\r\n   255\t    console.log(\"\\nüîß Starting guidelines configuration wizard...\\n\");\r\n   256\t    Skill(skill=\"workflow:init-guidelines\");\r\n   257\t  } else {\r\n   258\t    console.log(`\r\n   259\tNext steps:\r\n   260\t- Use /workflow:init-guidelines to configure guidelines interactively\r\n   261\t- Use /workflow:session:solidify to add individual rules\r\n   262\t- Use /workflow:plan to start planning\r\n   263\t`);\r\n   264\t  }\r\n   265\t} else {\r\n   266\t  console.log(`\r\n   267\tGuidelines already configured (${guidelines.conventions.coding_style.length + guidelines.constraints.architecture.length}+ rules).\r\n...\n\nPath: .claude\\commands\\workflow\\init-guidelines.md\n     1\t---\r\n     2\tname: init-guidelines\r\n     3\tdescription: Interactive wizard to fill project-guidelines.json based on project analysis\r\n     4\targument-hint: \"[--reset]\"\r\n     5\texamples:\r\n     6\t  - /workflow:init-guidelines\r\n     7\t  - /workflow:init-guidelines --reset\r\n     8\t---\r\n     9\t\r\n    10\t# Workflow Init Guidelines Command (/workflow:init-guidelines)\r\n    11\t\r\n    12\t## Overview\r\n    13\t\r\n    14\tInteractive multi-round wizard that analyzes the current project (via `project-tech.json`) and asks targeted questions to populate `.workflow/project-guidelines.json` with coding conventions, constraints, and quality rules.\r\n    15\t\r\n    16\t**Design Principle**: Questions are dynamically generated based on the project's tech stack, architecture, and patterns ‚Äî not generic boilerplate.\r\n    17\t\r\n    18\t**Note**: This command may be called by `/workflow:init` after initialization. Upon completion, return to the calling workflow if applicable.\r\n    19\t\r\n    20\t## Usage\r\n    21\t```bash\r\n    22\t/workflow:init-guidelines          # Fill guidelines interactively (skip if already populated)\r\n    23\t/workflow:init-guidelines --reset  # Reset and re-fill guidelines from scratch\r\n    24\t```\r\n    25\t\r\n    26\t## Execution Process\r\n    27\t\r\n    28\t```\r\n    29\tInput Parsing:\r\n    30\t   ‚îî‚îÄ Parse --reset flag ‚Üí reset = true | false\r\n    31\t\r\n    32\tStep 1: Check Prerequisites\r\n    33\t   ‚îú‚îÄ project-tech.json must exist (run /workflow:init first)\r\n    34\t   ‚îú‚îÄ project-guidelines.json: check if populated or scaffold-only\r\n    35\t   ‚îî‚îÄ If populated + no --reset ‚Üí Ask: \"Guidelines already exist. Overwrite or append?\"\r\n    36\t\r\n    37\tStep 2: Load Project Context\r\n    38\t   ‚îî‚îÄ Read project-tech.json ‚Üí extract tech stack, architecture, patterns\r\n...\n   204\t    {\r\n   205\t      question: \"What documentation standards does your project follow?\",\r\n   206\t      header: \"Documentation\",\r\n   207\t      multiSelect: true,\r\n   208\t      options: [\r\n   209\t        { label: \"JSDoc/docstring public APIs\", description: \"All public functions and classes must have JSDoc/docstrings\" },\r\n   210\t        { label: \"README per module\", description: \"Each major module/package has its own README\" },\r\n   211\t        { label: \"Inline comments for why\", description: \"Comments explain 'why', not 'what' ‚Äî code should be self-documenting\" },\r\n   212\t        { label: \"No comment requirement\", description: \"Code should be self-explanatory; comments only for non-obvious logic\" }\r\n   213\t      ]\r\n   214\t    }\r\n   215\t  ]\r\n   216\t})\r\n...\n   253\t    {\r\n   254\t      question: `Tech stack: ${frameworks.join(', ')}. What technology constraints apply?`,\r\n   255\t      header: \"Tech Stack\",\r\n   256\t      multiSelect: true,\r\n   257\t      options: [\r\n   258\t        { label: \"No new deps without review\", description: \"Adding new dependencies requires explicit justification and review\" },\r\n   259\t        { label: \"Pin dependency versions\", description: \"All dependencies must use exact versions, not ranges\" },\r\n   260\t        { label: \"Prefer native APIs\", description: \"Use built-in/native APIs over third-party libraries when possible\" },\r\n   261\t        { label: \"Framework conventions\", description: `Follow official ${frameworks[0] || 'framework'} conventions and best practices` }\r\n   262\t      ]\r\n   263\t    }\r\n   264\t  ]\r\n   265\t})\r\n...\n   371\t\r\n   372\tconst countQuality = finalGuidelines.quality_rules.length\r\n   373\t\r\n   374\tconsole.log(`\r\n   375\t‚úì Project guidelines configured\r\n   376\t\r\n   377\t## Summary\r\n   378\t- Conventions: ${countConventions} rules (coding: ${cs}, naming: ${np}, files: ${fs}, docs: ${doc})\r\n   379\t- Constraints: ${countConstraints} rules (arch: ${ar}, tech: ${ts}, perf: ${pf}, security: ${sc})\r\n   380\t- Quality rules: ${countQuality}\r\n   381\t\r\n   382\tFile: .workflow/project-guidelines.json\r\n   383\t\r\n   384\tNext steps:\r\n   385\t- Use /workflow:session:solidify to add individual rules later\r\n   386\t- Guidelines will be auto-loaded by /workflow:plan for task generation\r\n   387\t`)\r\n   388\t```\r\n   389\t\r\n   390\t## Answer Processing Rules\r\n   391\t\r\n   392\tWhen converting user selections to guideline entries:\r\n...\n\nPath: .claude\\agents\\cli-explore-agent.md\n     1\t---\r\n     2\tname: cli-explore-agent\r\n     3\tdescription: |\r\n     4\t  Read-only code exploration agent with dual-source analysis strategy (Bash + Gemini CLI).\r\n     5\t  Orchestrates 4-phase workflow: Task Understanding ‚Üí Analysis Execution ‚Üí Schema Validation ‚Üí Output Generation\r\n     6\tcolor: yellow\r\n     7\t---\r\n     8\t\r\n     9\tYou are a specialized CLI exploration agent that autonomously analyzes codebases and generates structured outputs.\r\n    10\t\r\n    11\t## Core Capabilities\r\n    12\t\r\n    13\t1. **Structural Analysis** - Module discovery, file patterns, symbol inventory via Bash tools\r\n    14\t2. **Semantic Understanding** - Design intent, architectural patterns via Gemini/Qwen CLI\r\n    15\t3. **Dependency Mapping** - Import/export graphs, circular detection, coupling analysis\r\n    16\t4. **Structured Output** - Schema-compliant JSON generation with validation\r\n...\n    59\t\r\n    60\t- `Read()` - Load package.json, requirements.txt, pyproject.toml for tech stack detection\r\n    61\t- `rg` - Fast content search with regex support\r\n    62\t- `Grep` - Fallback pattern matching\r\n    63\t- `Glob` - File pattern matching\r\n    64\t- `Bash` - Shell commands (tree, find, etc.)\r\n    65\t\r\n    66\t### Bash Structural Scan\r\n    67\t\r\n    68\t```bash\r\n    69\t# Project structure\r\n    70\tccw tool exec get_modules_by_depth '{}'\r\n    71\t\r\n    72\t# Pattern discovery (adapt based on language)\r\n    73\trg \"^export (class|interface|function) \" --type ts -n\r\n    74\trg \"^(class|def) \\w+\" --type py -n\r\n    75\trg \"^import .* from \" -n | head -30\r\n    76\t```\r\n    77\t\r\n    78\t### Gemini Semantic Analysis (deep-scan, dependency-map)\r\n    79\t\r\n    80\t```bash\r\n    81\tccw cli -p \"\r\n    82\tPURPOSE: {from prompt}\r\n    83\tTASK: {from prompt}\r\n    84\tMODE: analysis\r\n    85\tCONTEXT: @**/*\r\n    86\tEXPECTED: {from prompt}\r\n    87\tRULES: {from prompt, if template specified} | analysis=READ-ONLY\r\n    88\t\" --tool gemini --mode analysis --cd {dir} \r\n    89\t```\r\n    90\t\r\n    91\t**Fallback Chain**: Gemini ‚Üí Qwen ‚Üí Codex ‚Üí Bash-only\r\n    92\t\r\n    93\t### Dual-Source Synthesis\r\n    94\t\r\n    95\t1. Bash results: Precise file:line locations\r\n    96\t2. Gemini results: Semantic understanding, design intent\r\n    97\t3. Merge with source attribution (bash-discovered | gemini-discovered)\r\n    98\t\r\n    99\t---\r\n   100\t\r\n   101\t## Phase 3: Schema Validation\r\n   102\t\r\n   103\t### ‚ö†Ô∏è CRITICAL: Schema Compliance Protocol\r\n   104\t\r\n   105\t**This phase is MANDATORY when schema file is specified in prompt.**\r\n   106\t\r\n   107\t**Step 1: Read Schema FIRST**\r\n   108\t```\r\n   109\tRead(schema_file_path)\r\n   110\t```\r\n   111\t\r\n   112\t**Step 2: Extract Schema Requirements**\r\n...\n\nPath: ccw\\docs-site\\docs\\commands\\memory\\memory-docs-full-cli.mdx\n...\n    53\t\r\n    54\t### Phase 1: Module Detection & Analysis\r\n    55\t\r\n    56\t```javascript\r\n    57\t// Get module structure with classification\r\n    58\tBash({command: \"ccw tool exec get_modules_by_depth '{\\\"format\\\":\\\"list\\\"}' | ccw tool exec classify_folders '{}'\", run_in_background: false});\r\n    59\t\r\n    60\t// OR with path parameter\r\n    61\tBash({command: \"cd &lt;target-path&gt; && ccw tool exec get_modules_by_depth '{\\\"format\\\":\\\"list\\\"}' | ccw tool exec classify_folders '{}'\", run_in_background: false});\r\n    62\t```\r\n    63\t\r\n    64\t**Parse output** `depth:N|path:&lt;PATH&gt;|type:&lt;code|navigation&gt;|...` to extract module paths, types, and count.\r\n    65\t\r\n    66\t**Smart filter**: Auto-detect and skip tests/build/config/vendor based on project tech stack.\r\n    67\t\r\n    68\t### Phase 2: Plan Presentation\r\n...\n\nPath: .claude\\workflows\\cli-templates\\schemas\\project-tech-schema.json\n     1\t{\r\n     2\t  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\r\n     3\t  \"title\": \"Project Tech Schema\",\r\n     4\t  \"description\": \"Schema for project-tech.json - auto-generated technical analysis (stack, architecture, components)\",\r\n     5\t  \"type\": \"object\",\r\n     6\t  \"required\": [\r\n     7\t    \"project_name\",\r\n     8\t    \"initialized_at\",\r\n     9\t    \"overview\",\r\n    10\t    \"features\",\r\n    11\t    \"statistics\",\r\n    12\t    \"_metadata\"\r\n    13\t  ],\r\n    14\t  \"properties\": {\r\n    15\t    \"project_name\": {\r\n    16\t      \"type\": \"string\",\r\n    17\t      \"description\": \"Project name extracted from git repo or directory\"\r\n    18\t    },\r\n    19\t    \"initialized_at\": {\r\n    20\t      \"type\": \"string\",\r\n    21\t      \"format\": \"date-time\",\r\n    22\t      \"description\": \"ISO 8601 timestamp of initialization\"\r\n    23\t    },\r\n    24\t    \"overview\": {\r\n    25\t      \"type\": \"object\",\r\n    26\t      \"required\": [\r\n    27\t        \"description\",\r\n    28\t        \"technology_stack\",\r\n    29\t        \"architecture\",\r\n    30\t        \"key_components\"\r\n    31\t      ],\r\n...\n    37\t        \"technology_stack\": {\r\n    38\t          \"type\": \"object\",\r\n    39\t          \"required\": [\"languages\", \"frameworks\", \"build_tools\", \"test_frameworks\"],\r\n    40\t          \"properties\": {\r\n    41\t            \"languages\": {\r\n    42\t              \"type\": \"array\",\r\n    43\t              \"items\": {\r\n    44\t                \"type\": \"object\",\r\n    45\t                \"required\": [\"name\", \"file_count\", \"primary\"],\r\n    46\t                \"properties\": {\r\n    47\t                  \"name\": {\r\n    48\t                    \"type\": \"string\",\r\n    49\t                    \"description\": \"Language name (e.g., TypeScript, Python)\"\r\n    50\t                  },\r\n    51\t                  \"file_count\": {\r\n    52\t                    \"type\": \"integer\",\r\n    53\t                    \"description\": \"Number of source files in this language\"\r\n    54\t                  },\r\n    55\t                  \"primary\": {\r\n    56\t                    \"type\": \"boolean\",\r\n    57\t                    \"description\": \"True if this is the primary language\"\r\n    58\t                  }\r\n    59\t                }\r\n    60\t              }\r\n    61\t            },\r\n    62\t            \"frameworks\": {\r\n    63\t              \"type\": \"array\",\r\n    64\t              \"items\": {\"type\": \"string\"},\r\n    65\t              \"description\": \"Detected frameworks (React, Express, Django, etc.)\"\r\n    66\t            },\r\n    67\t            \"build_tools\": {\r\n    68\t              \"type\": \"array\",\r\n    69\t              \"items\": {\"type\": \"string\"},\r\n    70\t              \"description\": \"Build tools and package managers (npm, cargo, maven, etc.)\"\r\n    71\t            },\r\n    72\t            \"test_frameworks\": {\r\n    73\t              \"type\": \"array\",\r\n    74\t              \"items\": {\"type\": \"string\"},\r\n    75\t              \"description\": \"Testing frameworks (jest, pytest, go test, etc.)\"\r\n    76\t            }\r\n    77\t          }\r\n    78\t        },\r\n    79\t        \"architecture\": {\r\n    80\t          \"type\": \"object\",\r\n    81\t          \"required\": [\"style\", \"layers\", \"patterns\"],\r\n    82\t          \"properties\": {\r\n    83\t            \"style\": {\r\n    84\t              \"type\": \"string\",\r\n    85\t              \"description\": \"Architecture style (MVC, microservices, layered, etc.)\"\r\n    86\t            },\r\n    87\t            \"layers\": {\r\n    88\t              \"type\": \"array\",\r\n    89\t              \"items\": {\"type\": \"string\"},\r\n    90\t              \"description\": \"Architectural layers (presentation, business-logic, data-access)\"\r\n    91\t            },\r\n    92\t            \"patterns\": {\r\n    93\t              \"type\": \"array\",\r\n    94\t              \"items\": {\"type\": \"string\"},\r\n    95\t              \"description\": \"Design patterns (Repository, Factory, Singleton, etc.)\"\r\n    96\t            }\r\n    97\t          }\r\n    98\t        },\r\n...\n\nPath: .codex\\agents\\cli-explore-agent.md\n     1\t---\r\n     2\tname: cli-explore-agent\r\n     3\tdescription: |\r\n     4\t  Read-only code exploration agent with dual-source analysis strategy (Bash + Gemini CLI).\r\n     5\t  Orchestrates 4-phase workflow: Task Understanding ‚Üí Analysis Execution ‚Üí Schema Validation ‚Üí Output Generation\r\n     6\tcolor: yellow\r\n     7\t---\r\n     8\t\r\n     9\tYou are a specialized CLI exploration agent that autonomously analyzes codebases and generates structured outputs.\r\n    10\t\r\n    11\t## Core Capabilities\r\n    12\t\r\n    13\t1. **Structural Analysis** - Module discovery, file patterns, symbol inventory via Bash tools\r\n    14\t2. **Semantic Understanding** - Design intent, architectural patterns via Gemini/Qwen CLI\r\n    15\t3. **Dependency Mapping** - Import/export graphs, circular detection, coupling analysis\r\n    16\t4. **Structured Output** - Schema-compliant JSON generation with validation\r\n...\n\nPath: ccw\\src\\tools\\detect-changed-modules.ts\n...\n    20\t\r\n    21\t// Source file extensions to track\r\n    22\tconst SOURCE_EXTENSIONS = [\r\n    23\t  '.md', '.js', '.ts', '.jsx', '.tsx',\r\n    24\t  '.py', '.go', '.rs', '.java', '.cpp', '.c', '.h',\r\n    25\t  '.sh', '.ps1', '.json', '.yaml', '.yml'\r\n    26\t];\r\n    27\t\r\n    28\t// Directories to exclude\r\n    29\tconst EXCLUDE_DIRS = [\r\n    30\t  '.git', '__pycache__', 'node_modules', '.venv', 'venv', 'env',\r\n    31\t  'dist', 'build', '.cache', '.pytest_cache', '.mypy_cache',\r\n    32\t  'coverage', '.nyc_output', 'logs', 'tmp', 'temp'\r\n    33\t];\r\n    34\t\r\n    35\t// Define Zod schema for validation\r\n    36\tconst ParamsSchema = z.object({\r\n    37\t  format: z.enum(['list', 'grouped', 'paths']).default('paths'),\r\n    38\t  path: z.string().default('.'),\r\n    39\t});\r\n    40\t\r\n    41\ttype Params = z.infer<typeof ParamsSchema>;\r\n    42\t\r\n    43\tinterface ModuleResult {\r\n    44\t  depth: number;\r\n    45\t  path: string;\r\n    46\t  files: number;\r\n    47\t  types: string[];\r\n    48\t  has_claude: boolean;\r\n    49\t}\r\n...\n\nPath: .claude\\agents\\memory-bridge.md\n...\n    47\t\r\n    48\t# Depth 1 example (Layer 2 - use single-layer):\r\n    49\tccw tool exec update_module_claude '{\"strategy\":\"single-layer\",\"path\":\"./src/auth\",\"tool\":\"gemini\"}' &\r\n    50\tccw tool exec update_module_claude '{\"strategy\":\"single-layer\",\"path\":\"./src/api\",\"tool\":\"gemini\"}' &\r\n    51\t# ... up to 4 concurrent jobs\r\n    52\t\r\n    53\t# 4. Wait for all depth jobs to complete\r\n    54\twait\r\n    55\t\r\n    56\t# 5. Mark depth task as completed\r\n    57\t# 6. Move to next depth\r\n    58\t```\r\n    59\t\r\n    60\t### Step 3: Safety Check\r\n    61\t```bash\r\n    62\t# After all depths complete:\r\n    63\tgit diff --cached --name-only | grep -v \"CLAUDE.md\" || echo \"‚úÖ Safe\"\r\n    64\tgit status --short\r\n    65\t```\r\n    66\t\r\n    67\t## Tool Parameter Flow\r\n    68\t\r\n    69\t**Command Format**: `update_module_claude.sh <strategy> <path> <tool>`\r\n...\n\n",
      "type": "text"
    }
  ]
}
tool ccw-tools.smart_search({"action":"search","path":"C:/Project/Claude-Code-Workflow","query":"cli-explore-agent","mode":"fuzzy","limit":20})
2026-02-05T04:42:15.588802Z ERROR rmcp::transport::async_rw: Error reading from stream: serde error expected value at line 1 column 2
ccw-tools.smart_search({"action":"search","path":"C:/Project/Claude-Code-Workflow","query":"cli-explore-agent","mode":"fuzzy","limit":20}) failed in 3.02s:

thinking
**Troubleshooting tool issues**

I‚Äôm facing an issue where the tool call failed because the transport was closed. It could be an intermittent problem, so I think I should try using it again. If it doesn‚Äôt work persistently, I might need to fallback to using the shell command `rg`. Although the instructions suggest using MCP, it‚Äôs currently failing, so I‚Äôm wondering if trying once more is the best plan. I‚Äôll give it another shot!
tool ccw-tools.smart_search({"action":"search","path":"C:/Project/Claude-Code-Workflow","query":"cli-explore-agent","mode":"fuzzy","limit":20})
ccw-tools.smart_search({"action":"search","path":"C:/Project/Claude-Code-Workflow","query":"cli-explore-agent","mode":"fuzzy","limit":20}) failed in 0ms:
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

rg -n \"cli-explore-agent\" -S ." in C:\Project\Claude-Code-Workflow succeeded in 992ms:
.\CHANGELOG.md:485:- **`cli-explore-agent`**: Simplified the agent with a prompt-driven architecture, making it more flexible (`cf6a0f1`).
.\CHANGELOG.md:499:- **50K Context Protection**: Added a context threshold in `lite-plan` to automatically delegate large inputs to `cli-explore-agent`, preventing orchestrator overflow (`96dd9be`).
.\CHANGELOG.md:520:    - Optional `@cli-explore-agent` for code understanding
.\FAQ.md:393:| `@cli-explore-agent` | Codebase exploration |
.\docs\COMMAND_SPEC.md:56:  1. **Task Analysis & Exploration**: Auto-detects need for codebase context, optionally launches `@cli-explore-agent` (30-90s)
.\docs\COMMAND_SPEC.md:69:  - `@cli-explore-agent` (conditional, Phase 1)
.\WORKFLOW_GUIDE_CN.md:189:   ‚îî‚îÄ Âπ∂Ë°å cli-explore-agent ËØäÊñ≠ (1-4 ‰∏™ËßíÂ∫¶)
.\WORKFLOW_GUIDE.md:191:   ‚îî‚îÄ Parallel cli-explore-agent diagnosis (1-4 angles)
.\ccw\docs-site\docs\workflows\level-2-rapid.mdx:82:        C -->|Yes| D[cli-explore-agent<br/>Multi-angle analysis]
.\ccw\docs-site\docs\workflows\level-2-rapid.mdx:123:- Multi-angle code analysis via cli-explore-agent
.\ccw\docs-site\docs\workflows\level-2-rapid.mdx:220:- Parallel cli-explore-agent diagnosis (1-4 angles)
.\ccw\docs-site\i18n\zh\docusaurus-plugin-content-docs\current\workflows\level-2-rapid.mdx:82:        C -->|ÊòØ| D[cli-explore-agent<br/>Â§öËßíÂ∫¶ÂàÜÊûê]
.\ccw\docs-site\i18n\zh\docusaurus-plugin-content-docs\current\workflows\level-2-rapid.mdx:123:- ÈÄöËøá cli-explore-agent ËøõË°åÂ§öËßíÂ∫¶‰ª£Á†ÅÂàÜÊûê
.\ccw\docs-site\i18n\zh\docusaurus-plugin-content-docs\current\workflows\level-2-rapid.mdx:220:- Âπ∂Ë°å cli-explore-agent ËØäÊñ≠Ôºà1-4 ËßíÂ∫¶Ôºâ
.\ccw\docs-site\build\assets\js\19b64556.6a97ef6e.js:1:"use strict";(globalThis.webpackChunkccw_docs=globalThis.webpackChunkccw_docs||[]).push([[57],{1184(e,n,s){s.d(n,{R:()=>t,x:()=>c});var i=s(3696);const l={},r=i.createContext(l);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(r.Provider,{value:n},e.children)}},7259(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"workflows/level-2-rapid","title":"Level 2 - Rapid Workflows","description":"Lightweight planning and bug diagnosis workflows for single-module features","source":"@site/docs/workflows/level-2-rapid.mdx","sourceDirName":"workflows","slug":"/workflows/level-2-rapid","permalink":"/docs/docs/workflows/level-2-rapid","draft":false,"unlisted":false,"editUrl":"https://github.com/ccw/docs/tree/main/docs/workflows/level-2-rapid.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Level 2 - Rapid Workflows","description":"Lightweight planning and bug diagnosis workflows for single-module features","sidebar_position":3},"sidebar":"docs","previous":{"title":"Level 1: Ultra Lightweight","permalink":"/docs/docs/workflows/level-1-ultra-lightweight"},"next":{"title":"Level 3: Standard","permalink":"/docs/docs/workflows/level-3-standard"}}');var l=s(2540),r=s(1184),t=s(1540);const c={title:"Level 2 - Rapid Workflows",description:"Lightweight planning and bug diagnosis workflows for single-module features",sidebar_position:3},d="Level 2: Rapid Workflows",o={},a=[{value:"Overview",id:"overview",level:2},{value:"Included Workflows",id:"included-workflows",level:2},{value:"Common Characteristics",id:"common-characteristics",level:3},{value:"Workflow 1: lite-plan -&gt; lite-execute",id:"workflow-1-lite-plan---lite-execute",level:2},{value:"Command",id:"command",level:3},{value:"Flow Diagram",id:"flow-diagram",level:3},{value:"Process Phases",id:"process-phases",level:3},{value:"Artifacts",id:"artifacts",level:3},{value:"Use Case",id:"use-case",level:3},{value:"Workflow 2: lite-fix",id:"workflow-2-lite-fix",level:2},{value:"Command",id:"command-1",level:3},{value:"Flow Diagram",id:"flow-diagram-1",level:3},{value:"Process Phases",id:"process-phases-1",level:3},{value:"Artifacts",id:"artifacts-1",level:3},{value:"Severity Levels",id:"severity-levels",level:3},{value:"Hotfix Mode",id:"hotfix-mode",level:3},{value:"Use Cases",id:"use-cases",level:3},{value:"Workflow 3: multi-cli-plan -&gt; lite-execute",id:"workflow-3-multi-cli-plan---lite-execute",level:2},{value:"Command",id:"command-2",level:3},{value:"Flow Diagram",id:"flow-diagram-2",level:3},{value:"Process Phases",id:"process-phases-2",level:3},{value:"Artifacts",id:"artifacts-2",level:3},{value:"vs lite-plan Comparison",id:"vs-lite-plan-comparison",level:3},{value:"Use Cases",id:"use-cases-1",level:3},{value:"Level 2 Comparison Table",id:"level-2-comparison-table",level:2},{value:"Execution: lite-execute",id:"execution-lite-execute",level:2},{value:"Execution Flow",id:"execution-flow",level:3},{value:"Features",id:"features",level:3},{value:"Related Workflows",id:"related-workflows",level:2}];function x(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"level-2-rapid-workflows",children:"Level 2: Rapid Workflows"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Complexity"}),": Low-Medium | ",(0,l.jsx)(n.strong,{children:"Artifacts"}),": Memory/Lightweight files | ",(0,l.jsx)(n.strong,{children:"State"}),": Session-scoped"]}),"\n",(0,l.jsx)(n.p,{children:"Level 2 workflows provide lightweight planning or single analysis with fast iteration. They're designed for tasks with relatively clear requirements that don't need full session persistence."}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(t.A,{chart:"\n  flowchart TD\n      Start([User Input]) --\x3e Select{Select Workflow}\n\n      Select --\x3e|Clear<br/>requirements| LP[lite-plan]\n      Select --\x3e|Bug fix| LF[lite-fix]\n      Select --\x3e|Multi-CLI<br/>needed| MCP[multi-cli-plan]\n\n      LP --\x3e LE[lite-execute]\n      LF --\x3e LE\n      MCP --\x3e LE\n\n      LE --\x3e Test{Tests?}\n      Test --\x3e|Yes| TFG[test-fix-gen]\n      Test --\x3e|No| Done([Complete])\n      TFG --\x3e TCE[test-cycle-execute]\n      TCE --\x3e Done\n\n      classDef startend fill:#c8e6c9,stroke:#388e3c\n      classDef workflow fill:#e3f2fd,stroke:#1976d2\n      classDef decision fill:#fff9c4,stroke:#f57c00\n      classDef execute fill:#c5e1a5,stroke:#388e3c\n\n      class Start,Done startend,Select,Test decision,LP,LF,MCP workflow,LE execute,TFG,TCE execute\n"}),"\n",(0,l.jsx)(n.h2,{id:"included-workflows",children:"Included Workflows"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Workflow"}),(0,l.jsx)(n.th,{children:"Purpose"}),(0,l.jsx)(n.th,{children:"Artifacts"}),(0,l.jsx)(n.th,{children:"Execution"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"lite-plan"})}),(0,l.jsx)(n.td,{children:"Clear requirement development"}),(0,l.jsx)(n.td,{children:"memory://plan"}),(0,l.jsxs)(n.td,{children:["-> ",(0,l.jsx)(n.code,{children:"lite-execute"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"lite-fix"})}),(0,l.jsx)(n.td,{children:"Bug diagnosis and fix"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:".workflow/.lite-fix/"})}),(0,l.jsxs)(n.td,{children:["-> ",(0,l.jsx)(n.code,{children:"lite-execute"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"multi-cli-plan"})}),(0,l.jsx)(n.td,{children:"Multi-perspective tasks"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:".workflow/.multi-cli-plan/"})}),(0,l.jsxs)(n.td,{children:["-> ",(0,l.jsx)(n.code,{children:"lite-execute"})]})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"common-characteristics",children:"Common Characteristics"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Property"}),(0,l.jsx)(n.th,{children:"Value"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Complexity"})}),(0,l.jsx)(n.td,{children:"Low-Medium"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"State"})}),(0,l.jsx)(n.td,{children:"Session-scoped / Lightweight persistence"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Execution"})}),(0,l.jsxs)(n.td,{children:["Unified via ",(0,l.jsx)(n.code,{children:"lite-execute"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Use Case"})}),(0,l.jsx)(n.td,{children:"Relatively clear requirements"})]})]})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"workflow-1-lite-plan---lite-execute",children:"Workflow 1: lite-plan -> lite-execute"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"In-memory planning + Direct execution"})}),"\n",(0,l.jsx)(n.h3,{id:"command",children:"Command"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'/workflow:lite-plan "Add user authentication API"\n/workflow:lite-execute\n'})}),"\n",(0,l.jsx)(n.h3,{id:"flow-diagram",children:"Flow Diagram"}),"\n",(0,l.jsx)(t.A,{chart:"\n  flowchart TD\n      A([Start]) --\x3e B[Phase 1: Code Exploration]\n      B --\x3e C{Code<br/>Exploration?}\n      C --\x3e|Yes| D[cli-explore-agent<br/>Multi-angle analysis]\n      C --\x3e|No| E[Skip exploration]\n\n      D --\x3e F[Phase 2: Complexity Assessment]\n      E --\x3e F\n\n      F --\x3e G{Complexity}\n      G --\x3e|Low| H[Direct Claude<br/>Planning]\n      G --\x3e|Medium| H\n      G --\x3e|High| I[cli-lite-planning<br/>-agent]\n\n      H --\x3e J[Phase 3: Planning]\n      I --\x3e J\n\n      J --\x3e K[Phase 4: Confirmation]\n      K --\x3e L{Confirm?}\n      L --\x3e|Modify| M[Adjust plan]\n      M --\x3e K\n      L --\x3e|Allow| N[Phase 5: Execute]\n      L --\x3e|Cancel| O([Abort])\n\n      N --\x3e P[Build executionContext]\n      P --\x3e Q[/workflow:lite-execute]\n      Q --\x3e R([Complete])\n\n      classDef startend fill:#c8e6c9,stroke:#388e3c\n      classDef action fill:#e3f2fd,stroke:#1976d2\n      classDef decision fill:#fff9c4,stroke:#f57c00\n      classDef agent fill:#ffecb3,stroke:#ffa000\n\n      class A,R,O startend,B,D,E,J,M,P,Q action,C,G,L decision,F,H,I agent\n"}),"\n",(0,l.jsx)(n.h3,{id:"process-phases",children:"Process Phases"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Phase 1: Code Exploration"})," (Optional)"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# If -e flag specified\n/workflow:lite-plan -e "Add user authentication API"\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Multi-angle code analysis via cli-explore-agent"}),"\n",(0,l.jsx)(n.li,{children:"Identifies patterns, dependencies, integration points"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Phase 2: Complexity Assessment"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Low: Direct planning without agent"}),"\n",(0,l.jsx)(n.li,{children:"Medium/High: Use cli-lite-planning-agent"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Phase 3: Planning"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Load plan schema: ",(0,l.jsx)(n.code,{children:"~/.claude/workflows/cli-templates/schemas/plan-json-schema.json"})]}),"\n",(0,l.jsx)(n.li,{children:"Generate plan.json following schema"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Phase 4: Confirmation & Selection"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Display plan summary (tasks, complexity, estimated time)"}),"\n",(0,l.jsxs)(n.li,{children:["Ask user selections:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Confirm: Allow / Modify / Cancel"}),"\n",(0,l.jsx)(n.li,{children:"Execution: Agent / Codex / Auto"}),"\n",(0,l.jsx)(n.li,{children:"Review: Gemini / Agent / Skip"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Phase 5: Execute"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Build executionContext (plan + explorations + clarifications + selections)"}),"\n",(0,l.jsxs)(n.li,{children:["Execute via ",(0,l.jsx)(n.code,{children:"/workflow:lite-execute --in-memory"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"artifacts",children:"Artifacts"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"In-memory"}),": ",(0,l.jsx)(n.code,{children:"memory://plan"})," (not persisted)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Optional"}),": ",(0,l.jsx)(n.code,{children:".workflow/.lite-exploration/"})," (if code exploration used)"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"use-case",children:"Use Case"}),"\n",(0,l.jsx)(n.p,{children:"Clear single-module features"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'/workflow:lite-plan "Add email validation to user registration form"\n/workflow:lite-execute\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"workflow-2-lite-fix",children:"Workflow 2: lite-fix"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Intelligent diagnosis + Fix (5 phases)"})}),"\n",(0,l.jsx)(n.h3,{id:"command-1",children:"Command"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'/workflow:lite-fix "Login timeout after 30 seconds"\n/workflow:lite-execute --in-memory --mode bugfix\n\n# Emergency hotfix mode\n/workflow:lite-fix --hotfix "Production database connection failing"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"flow-diagram-1",children:"Flow Diagram"}),"\n",(0,l.jsx)(t.A,{chart:"\n  flowchart TD\n      A([Start]) --\x3e B[Phase 1: Bug Analysis<br/>& Diagnosis]\n      B --\x3e C[Severity Pre-assessment<br/>Low/Medium/High/Critical]\n      C --\x3e D[Parallel cli-explore<br/>-agent Diagnosis<br/>1-4 angles]\n\n      D --\x3e E[Phase 2: Clarification]\n      E --\x3e F{More info<br/>needed?}\n      F --\x3e|Yes| G[AskUserQuestion<br/>Aggregate clarifications]\n      F --\x3e|No| H[Phase 3: Fix Planning]\n      G --\x3e H\n\n      H --\x3e I{Severity}\n      I --\x3e|Low/Medium| J[Direct Claude<br/>Planning]\n      I --\x3e|High/Critical| K[cli-lite-planning<br/>-agent]\n\n      J --\x3e L[Phase 4: Confirmation]\n      K --\x3e L\n\n      L --\x3e M[User confirms<br/>execution method]\n      M --\x3e N[Phase 5: Execute]\n      N --\x3e O[/workflow:lite-execute<br/>--in-memory --mode bugfix/]\n      O --\x3e P([Complete])\n\n      Q[Hotfix Mode] --\x3e R[Skip diagnosis<br/>Minimal planning]\n      R --\x3e N\n\n      classDef startend fill:#c8e6c9,stroke:#388e3c\n      classDef action fill:#e3f2fd,stroke:#1976d2\n      classDef decision fill:#fff9c4,stroke:#f57c00\n      classDef agent fill:#ffecb3,stroke:#ffa000\n      classDef hotfix fill:#ffccbc,stroke:#bf360c\n\n      class A,P startend,B,E,G,H,L,M,N,O action,F,I decision,C,D,J,K agent,Q,R hotfix\n"}),"\n",(0,l.jsx)(n.h3,{id:"process-phases-1",children:"Process Phases"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Phase 1: Bug Analysis & Diagnosis"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Intelligent severity pre-assessment (Low/Medium/High/Critical)"}),"\n",(0,l.jsx)(n.li,{children:"Parallel cli-explore-agent diagnosis (1-4 angles)"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Phase 2: Clarification"})," (Optional)"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Aggregate clarification needs"}),"\n",(0,l.jsx)(n.li,{children:"AskUserQuestion for missing info"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Phase 3: Fix Planning"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Low/Medium severity -> Direct Claude planning"}),"\n",(0,l.jsx)(n.li,{children:"High/Critical severity -> cli-lite-planning-agent"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Phase 4: Confirmation & Selection"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Display fix-plan summary"}),"\n",(0,l.jsx)(n.li,{children:"User confirms execution method"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Phase 5: Execute"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Execute via ",(0,l.jsx)(n.code,{children:"/workflow:lite-execute --in-memory --mode bugfix"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"artifacts-1",children:"Artifacts"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Location"}),": ",(0,l.jsx)(n.code,{children:".workflow/.lite-fix/{bug-slug}-{YYYY-MM-DD}/"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:".workflow/.lite-fix/\n\u2514\u2500\u2500 login-timeout-fix-2025-02-03/\n    \u251c\u2500\u2500 diagnosis-root-cause.json\n    \u251c\u2500\u2500 diagnosis-impact.json\n    \u251c\u2500\u2500 diagnosis-code-flow.json\n    \u251c\u2500\u2500 diagnosis-similar.json\n    \u251c\u2500\u2500 diagnoses-manifest.json\n    \u251c\u2500\u2500 fix-plan.json\n    \u2514\u2500\u2500 README.md\n"})}),"\n",(0,l.jsx)(n.h3,{id:"severity-levels",children:"Severity Levels"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Severity"}),(0,l.jsx)(n.th,{children:"Description"}),(0,l.jsx)(n.th,{children:"Planning Method"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Low"})}),(0,l.jsx)(n.td,{children:"Simple fix, clear root cause"}),(0,l.jsx)(n.td,{children:"Direct Claude (optional rationale)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Medium"})}),(0,l.jsx)(n.td,{children:"Moderate complexity, some investigation"}),(0,l.jsx)(n.td,{children:"Direct Claude (with rationale)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"High"})}),(0,l.jsx)(n.td,{children:"Complex, multiple components affected"}),(0,l.jsx)(n.td,{children:"cli-lite-planning-agent (full schema)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Critical"})}),(0,l.jsx)(n.td,{children:"Production incident, urgent"}),(0,l.jsx)(n.td,{children:"cli-lite-planning-agent + hotfix mode"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"hotfix-mode",children:"Hotfix Mode"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'/workflow:lite-fix --hotfix "Production API returning 500 errors"\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Characteristics"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Skip most diagnosis phases"}),"\n",(0,l.jsx)(n.li,{children:"Minimal planning (direct execution)"}),"\n",(0,l.jsx)(n.li,{children:"Auto-generate follow-up tasks for complete fix + post-mortem"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"use-cases",children:"Use Cases"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Bug diagnosis"}),"\n",(0,l.jsx)(n.li,{children:"Production emergencies"}),"\n",(0,l.jsx)(n.li,{children:"Root cause analysis"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"workflow-3-multi-cli-plan---lite-execute",children:"Workflow 3: multi-cli-plan -> lite-execute"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Multi-CLI collaborative analysis + Consensus convergence"})}),"\n",(0,l.jsx)(n.h3,{id:"command-2",children:"Command"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'/workflow:multi-cli-plan "Compare Redis vs Memcached for caching"\n/workflow:lite-execute\n'})}),"\n",(0,l.jsx)(n.h3,{id:"flow-diagram-2",children:"Flow Diagram"}),"\n",(0,l.jsx)(t.A,{chart:"\n  flowchart TD\n      A([Start]) --\x3e B[Phase 1: Context Gathering]\n      B --\x3e C[ACE semantic search<br/>Build context package]\n\n      C --\x3e D[Phase 2: Multi-CLI Discussion<br/>Iterative]\n      D --\x3e E[cli-discuss-agent]\n      E --\x3e F[Gemini + Codex + Claude]\n\n      F --\x3e G{Converged?}\n      G --\x3e|No| H[Cross-verification<br/>Synthesize solutions]\n      H --\x3e D\n      G --\x3e|Yes| I[Phase 3: Present Options]\n\n      I --\x3e J[Display solutions<br/>with trade-offs]\n\n      J --\x3e K[Phase 4: User Decision]\n      K --\x3e L[User selects solution]\n\n      L --\x3e M[Phase 5: Plan Generation]\n      M --\x3e N[cli-lite-planning<br/>-agent]\n      N --\x3e O[-> lite-execute]\n\n      O --\x3e P([Complete])\n\n      classDef startend fill:#c8e6c9,stroke:#388e3c\n      classDef action fill:#e3f2fd,stroke:#1976d2\n      classDef decision fill:#fff9c4,stroke:#f57c00\n      classDef agent fill:#ffecb3,stroke:#ffa000\n\n      class A,P startend,B,C,E,H,J,L,M,O action,G,K decision,F,N agent\n"}),"\n",(0,l.jsx)(n.h3,{id:"process-phases-2",children:"Process Phases"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Phase 1: Context Gathering"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"ACE semantic search"}),"\n",(0,l.jsx)(n.li,{children:"Build context package"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Phase 2: Multi-CLI Discussion"})," (Iterative)"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"cli-discuss-agent executes Gemini + Codex + Claude"}),"\n",(0,l.jsx)(n.li,{children:"Cross-verification, synthesize solutions"}),"\n",(0,l.jsx)(n.li,{children:"Loop until convergence or max rounds"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Phase 3: Present Options"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Display solutions with trade-offs"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Phase 4: User Decision"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"User selects solution"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Phase 5: Plan Generation"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"cli-lite-planning-agent generates plan"}),"\n",(0,l.jsx)(n.li,{children:"-> lite-execute"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"artifacts-2",children:"Artifacts"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Location"}),": ",(0,l.jsx)(n.code,{children:".workflow/.multi-cli-plan/{MCP-task-slug-date}/"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:".workflow/.multi-cli-plan/\n\u2514\u2500\u2500 redis-vs-memcached-2025-02-03/\n    \u251c\u2500\u2500 context-package.json\n    \u251c\u2500\u2500 rounds/\n    \u2502   \u251c\u2500\u2500 round-1/\n    \u2502   \u2502   \u251c\u2500\u2500 gemini-analysis.md\n    \u2502   \u2502   \u251c\u2500\u2500 codex-analysis.md\n    \u2502   \u2502   \u251c\u2500\u2500 claude-analysis.md\n    \u2502   \u2502   \u2514\u2500\u2500 synthesis.json\n    \u2502   \u251c\u2500\u2500 round-2/\n    \u2502   \u2514\u2500\u2500 ...\n    \u251c\u2500\u2500 selected-solution.json\n    \u251c\u2500\u2500 IMPL_PLAN.md\n    \u2514\u2500\u2500 plan.json\n"})}),"\n",(0,l.jsx)(n.h3,{id:"vs-lite-plan-comparison",children:"vs lite-plan Comparison"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Aspect"}),(0,l.jsx)(n.th,{children:"multi-cli-plan"}),(0,l.jsx)(n.th,{children:"lite-plan"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Context"})}),(0,l.jsx)(n.td,{children:"ACE semantic search"}),(0,l.jsx)(n.td,{children:"Manual file patterns"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Analysis"})}),(0,l.jsx)(n.td,{children:"Multi-CLI cross-verification"}),(0,l.jsx)(n.td,{children:"Single planning"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Iteration"})}),(0,l.jsx)(n.td,{children:"Multiple rounds until convergence"}),(0,l.jsx)(n.td,{children:"Single round"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Confidence"})}),(0,l.jsx)(n.td,{children:"High (consensus-driven)"}),(0,l.jsx)(n.td,{children:"Medium (single perspective)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Time"})}),(0,l.jsx)(n.td,{children:"Longer (multi-round)"}),(0,l.jsx)(n.td,{children:"Faster"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"use-cases-1",children:"Use Cases"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Multi-perspective analysis"}),"\n",(0,l.jsx)(n.li,{children:"Technology selection"}),"\n",(0,l.jsx)(n.li,{children:"Solution comparison"}),"\n",(0,l.jsx)(n.li,{children:"Architecture decisions"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"level-2-comparison-table",children:"Level 2 Comparison Table"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Aspect"}),(0,l.jsx)(n.th,{children:"lite-plan"}),(0,l.jsx)(n.th,{children:"lite-fix"}),(0,l.jsx)(n.th,{children:"multi-cli-plan"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Purpose"})}),(0,l.jsx)(n.td,{children:"Clear requirements"}),(0,l.jsx)(n.td,{children:"Bug diagnosis"}),(0,l.jsx)(n.td,{children:"Multi-perspective"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Planning"})}),(0,l.jsx)(n.td,{children:"In-memory"}),(0,l.jsx)(n.td,{children:"Severity-based"}),(0,l.jsx)(n.td,{children:"Consensus-driven"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Artifacts"})}),(0,l.jsx)(n.td,{children:"memory://plan"}),(0,l.jsx)(n.td,{children:".lite-fix/"}),(0,l.jsx)(n.td,{children:".multi-cli-plan/"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Code Exploration"})}),(0,l.jsx)(n.td,{children:"Optional (-e flag)"}),(0,l.jsx)(n.td,{children:"Built-in diagnosis"}),(0,l.jsx)(n.td,{children:"ACE search"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Multi-CLI"})}),(0,l.jsx)(n.td,{children:"No"}),(0,l.jsx)(n.td,{children:"No"}),(0,l.jsx)(n.td,{children:"Yes (Gemini/Codex/Claude)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Best For"})}),(0,l.jsx)(n.td,{children:"Single-module features"}),(0,l.jsx)(n.td,{children:"Bug fixes"}),(0,l.jsx)(n.td,{children:"Technology decisions"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"execution-lite-execute",children:"Execution: lite-execute"}),"\n",(0,l.jsxs)(n.p,{children:["All Level 2 workflows execute via ",(0,l.jsx)(n.code,{children:"lite-execute"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"/workflow:lite-execute --in-memory\n"})}),"\n",(0,l.jsx)(n.h3,{id:"execution-flow",children:"Execution Flow"}),"\n",(0,l.jsx)(t.A,{chart:"\n  flowchart TD\n      A([Start]) --\x3e B[Initialize tracking<br/>previousExecutionResults]\n      B --\x3e C[Task grouping<br/>& batch creation]\n\n      C --\x3e D[Extract explicit<br/>depends_on]\n      D --\x3e E[Group: independent<br/>tasks -> parallel batch]\n      E --\x3e F[Group: dependent<br/>tasks -> sequential phases]\n\n      F --\x3e G[Create TodoWrite<br/>list for batches]\n      G --\x3e H[Launch execution]\n\n      H --\x3e I[Phase 1: All independent<br/>tasks - Single batch]\n      I --\x3e J[Phase 2+: Dependent tasks<br/>by dependency order]\n\n      J --\x3e K[Track progress<br/>TodoWrite updates]\n      K --\x3e L{Code review?}\n      L --\x3e|Yes| M[Review process]\n      L --\x3e|No| N([Complete])\n      M --\x3e N\n\n      classDef startend fill:#c8e6c9,stroke:#388e3c\n      classDef action fill:#e3f2fd,stroke:#1976d2\n      classDef decision fill:#fff9c4,stroke:#f57c00\n\n      class A,N startend,B,D,E,F,G,I,J,K,M action,C,L decision\n"}),"\n",(0,l.jsx)(n.h3,{id:"features",children:"Features"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Parallel execution"})," for independent tasks"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Sequential phases"})," for dependent tasks"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Progress tracking"})," via TodoWrite"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"Optional code review"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"related-workflows",children:"Related Workflows"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/docs/workflows/level-1-ultra-lightweight",children:"Level 1: Ultra-Lightweight"})," - Simpler workflow"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/docs/workflows/level-3-standard",children:"Level 3: Standard"})," - Full session management"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/docs/workflows/level-4-brainstorm",children:"Level 4: Brainstorm"})," - Multi-role exploration"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/docs/workflows/faq",children:"FAQ"})," - Common questions"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(x,{...e})}):x(e)}}}]);
.\ccw\docs-site\build\docs\workflows\level-2-rapid.html:34:<li class="">Multi-angle code analysis via cli-explore-agent</li>
.\ccw\docs-site\build\docs\workflows\level-2-rapid.html:83:<li class="">Parallel cli-explore-agent diagnosis (1-4 angles)</li>




thinking
**Evaluating evidence requirements**

It seems like there‚Äôs no occurrence of "cli-explore-agent" in the ccw/src grep output; only things like docs and changelogs are present. I need to focus on including evidence from the .ts files in the ccw/src. The pointers can reference `ccw tool exec get_modules_by_depth`, which show up in the command documentation. For mentions of cli-explore-agent in the outline narrative, I might not need to list it as a pointer. I need to make sure the pointers table only includes evidence-based key implementation pointers from the outlines.
thinking
**Considering pointer guidelines**

I wonder if mentioning "cli-explore-agent" in sections without making it a pointer might violate any guidelines. The gap-report template states that "implementation pointers mentioned in outlines" should be included in the table. I‚Äôll focus on using pointers I can verify, like `.claude/commands/workflow/init.md` and `ccw/src/tools/get_modules_by_depth.ts`. Each pointer needs dual-source evidence, so for example, the pointer to `.claude/commands/workflow/init.md` should have documentation and a relevant anchor string from the .ts file. It seems okay to have this structure for evidence!
thinking
**Clarifying output paths and requirements**

I‚Äôm thinking about whether to include the output file path, but this may require related TypeScript evidence from ccw/src, which might not be necessary. It feels safer to avoid creating artifacts as pointers and to keep them listed in the Output section. The verify-evidence script may only check the table rows, and P0 gate 4 requires no broken artifact references. So, I‚Äôll focus on creating the output folder and files, crafting a minimal spec.json that includes command identity, allowed tools, and constraints.
thinking
**Checking allowed-tools in frontmatter**

I'm considering the allowed-tools list in the frontmatter of CCW commands, which might include `Bash`, `Task`, `AskUserQuestion`, `Skill`, `Read`, and `Write`. I think it‚Äôs essential to verify the allowed-tools format by checking other command documentation. So, I plan to look at the frontmatter in `.claude/commands/workflow/init.md` to see what allowed-tools are already in use. I'll open the first few lines to gather this information.
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

Get-Content .claude/commands/workflow/init.md -TotalCount 40
" in C:\Project\Claude-Code-Workflow succeeded in 323ms:
---
name: init
description: Initialize project-level state with intelligent project analysis using cli-explore-agent
argument-hint: "[--regenerate]"
examples:
  - /workflow:init
  - /workflow:init --regenerate
---

# Workflow Init Command (/workflow:init)

## Overview
Initialize `.workflow/project-tech.json` and `.workflow/project-guidelines.json` with comprehensive project understanding by delegating analysis to **cli-explore-agent**.

**Dual File System**:
- `project-tech.json`: Auto-generated technical analysis (stack, architecture, components)
- `project-guidelines.json`: User-maintained rules and constraints (created as scaffold)

**Note**: This command may be called by other workflow commands. Upon completion, return immediately to continue the calling workflow without interrupting the task flow.

exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

rg -n \""'^allowed-tools:" .claude/commands | Select-Object -First 30
' in C:\Project\Claude-Code-Workflow succeeded in 352ms:
.claude/commands\workflow\unified-execute-with-file.md:5:allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Grep(*), Glob(*), Bash(*), Edit(*), Write(*)
.claude/commands\workflow\ui-design\style-extract.md:5:allowed-tools: TodoWrite(*), Read(*), Write(*), Glob(*), AskUserQuestion(*)
.claude/commands\workflow\ui-design\reference-page-generator.md:5:allowed-tools: Read,Write,Bash,Task,TodoWrite
.claude/commands\workflow\review-session-cycle.md:5:allowed-tools: Skill(*), TodoWrite(*), Read(*), Bash(*), Task(*)
.claude/commands\workflow\ui-design\layout-extract.md:5:allowed-tools: TodoWrite(*), Read(*), Write(*), Glob(*), Bash(*), AskUserQuestion(*), Task(ui-design-agent), mcp__exa__web_search_exa(*)
.claude/commands\workflow\clean.md:5:allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Glob(*), Bash(*), Write(*)
.claude/commands\workflow\plan.md:5:allowed-tools: Skill(*), TodoWrite(*), Read(*), Bash(*)
.claude/commands\workflow\review-module-cycle.md:5:allowed-tools: Skill(*), TodoWrite(*), Read(*), Bash(*), Task(*)
.claude/commands\workflow\debug-with-file.md:5:allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Grep(*), Glob(*), Bash(*), Edit(*), Write(*)
.claude/commands\workflow\multi-cli-plan.md:5:allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Bash(*), Write(*), mcp__ace-tool__search_context(*)
.claude/commands\workflow\brainstorm-with-file.md:5:allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Grep(*), Glob(*), Bash(*), Edit(*), Write(*)
.claude/commands\workflow\collaborative-plan-with-file.md:5:allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Bash(*), Write(*), Glob(*), Grep(*), mcp__ace-tool__search_context(*)
.claude/commands\workflow\lite-plan.md:5:allowed-tools: TodoWrite(*), Task(*), Skill(*), AskUserQuestion(*)
.claude/commands\workflow\plan-verify.md:5:allowed-tools: Read(*), Write(*), Glob(*), Bash(*)
.claude/commands\workflow\lite-fix.md:5:allowed-tools: TodoWrite(*), Task(*), Skill(*), AskUserQuestion(*)
.claude/commands\workflow\review-cycle-fix.md:5:allowed-tools: Skill(*), TodoWrite(*), Read(*), Bash(*), Task(*), Edit(*), Write(*)
.claude/commands\workflow\replan.md:5:allowed-tools: Read(*), Write(*), Edit(*), TodoWrite(*), Glob(*), Bash(*)
.claude/commands\workflow\brainstorm\artifacts.md:5:allowed-tools: TodoWrite(*), Read(*), Write(*), Glob(*), AskUserQuestion(*)
.claude/commands\workflow\lite-execute.md:5:allowed-tools: TodoWrite(*), Task(*), Bash(*)
.claude/commands\workflow\analyze-with-file.md:5:allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Grep(*), Glob(*), Bash(*), Edit(*), Write(*)

thinking
**Searching for command mappings**

I think it's okay to focus on pointers related to ccw tools so we can provide the TS anchor. I'll probably include pointers for command documentation and ccw tools. For the docs, maybe I could reference a generic file like `ccw/src/cli/claude/commands.ts`. I also need to find TS that maps slash commands, so I'll search for "workflow:init" in `ccw/src` using rg. That should help!
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

rg -n \"workflow:init\" -S ccw/src ." in C:\Project\Claude-Code-Workflow succeeded in 362ms:
ccw/src\templates\dashboard-js\views\project-overview.js:18:          Run <code class="px-2 py-1 bg-muted rounded text-sm font-mono">/workflow:init</code> to initialize project analysis
.\ccw\frontend\src\locales\zh\project-overview.json:105:    "message": "ËøêË°å /workflow:init ÂàùÂßãÂåñÈ°πÁõÆÂàÜÊûê"
.\ccw\src\templates\dashboard-js\views\project-overview.js:18:          Run <code class="px-2 py-1 bg-muted rounded text-sm font-mono">/workflow:init</code> to initialize project analysis
.\ccw\frontend\src\locales\en\project-overview.json:105:    "message": "Run /workflow:init to initialize project analysis"
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

rg -n \"get_modules_by_depth\" -S ccw/src ." in C:\Project\Claude-Code-Workflow succeeded in 395ms:
ccw/src\tools\classify-folders.ts:99: * Parse input from get_modules_by_depth format
ccw/src\tools\classify-folders.ts:122:Input: Either piped output from get_modules_by_depth or a single directory path.`,
ccw/src\tools\classify-folders.ts:128:        description: 'Piped input from get_modules_by_depth (one module per line)'
ccw/src\tools\classify-folders.ts:151:    // Mode 1: Process piped input from get_modules_by_depth
ccw/src\tools\classify-folders.ts:159:          // Handle output from get_modules_by_depth tool (wrapped in result)
ccw/src\tools\get-modules-by-depth.ts:254:  name: 'get_modules_by_depth',
.\ccw\MCP_SERVER.md:63:- **get_modules_by_depth** - Get module hierarchy by depth
.\ccw\MCP_SERVER.md:92:Get the module structure with get_modules_by_depth
.\ccw\MCP_QUICKSTART.md:32:- **Code Analysis**: `smart_search`, `get_modules_by_depth`, `classify_folders`
.\ccw\MCP_QUICKSTART.md:45:"Use get_modules_by_depth to show me the project structure"
.\ccw\tests\mcp-server.test.js:89:        name: 'get_modules_by_depth',
.\ccw\src\tools\classify-folders.ts:99: * Parse input from get_modules_by_depth format
.\ccw\src\tools\classify-folders.ts:122:Input: Either piped output from get_modules_by_depth or a single directory path.`,
.\ccw\src\tools\classify-folders.ts:128:        description: 'Piped input from get_modules_by_depth (one module per line)'
.\ccw\src\tools\classify-folders.ts:151:    // Mode 1: Process piped input from get_modules_by_depth
.\ccw\src\tools\classify-folders.ts:159:          // Handle output from get_modules_by_depth tool (wrapped in result)
.\ccw\src\tools\get-modules-by-depth.ts:254:  name: 'get_modules_by_depth',
.\ccw\docs-site\build\docs\commands\memory\memory-update-full.html:57:<div class="language-javascript codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-javascript codeBlock_TAPP thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Get module structure</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">Bash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token literal-property property">command</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ccw tool exec get_modules_by_depth &#x27;{\&quot;format\&quot;:\&quot;list\&quot;}&#x27;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">run_in_background</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// OR with --path</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">Bash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token literal-property property">command</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;cd &amp;lt;target-path&amp;gt; &amp;&amp; ccw tool exec get_modules_by_depth &#x27;{\&quot;format\&quot;:\&quot;list\&quot;}&#x27;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">run_in_background</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
.\ccw\docs-site\build\docs\commands\cli\cli-init.html:67:<li class=""><strong>Workspace Analysis</strong> - Runs <code>get_modules_by_depth</code> to analyze project structure</li>
.\ccw\docs-site\build\docs\commands\memory\memory-docs-full-cli.html:41:<div class="language-javascript codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-javascript codeBlock_TAPP thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Get module structure with classification</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">Bash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token literal-property property">command</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ccw tool exec get_modules_by_depth &#x27;{\&quot;format\&quot;:\&quot;list\&quot;}&#x27; | ccw tool exec classify_folders &#x27;{}&#x27;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">run_in_background</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// OR with path parameter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">Bash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token literal-property property">command</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;cd &amp;lt;target-path&amp;gt; &amp;&amp; ccw tool exec get_modules_by_depth &#x27;{\&quot;format\&quot;:\&quot;list\&quot;}&#x27; | ccw tool exec classify_folders &#x27;{}&#x27;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">run_in_background</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>

thinking
**Planning module generation**

I found the file `ccw/src/tools/get-modules-by-depth.ts` with the name 'get_modules_by_depth', which is great! I need to make sure the TypeScript anchors are literal strings for our task. Next, I‚Äôll generate outlines using templates, but I also have to follow the quality gates and the verify-evidence script. This means producing evidence tables in both generated-slash-outline.md and gap-report.md. I‚Äôll fully inspect the template slash-command-outline.md since we noticed part of it was truncated.
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

Get-Content .codex/skills/slash-command-outliner/templates/slash-command-outline.md -Raw
" in C:\Project\Claude-Code-Workflow succeeded in 333ms:
---
name: {{command.name}}
description: {{command.description}}
argument-hint: "{{command.argument_hint}}"
allowed-tools: {{command.allowed_tools_csv}}
group: {{command.group}}
---

# {{command.title}}

## Overview

- Goal: {{intent.primary_user_value}}
- Command: `/{{command.group}}:{{command.name}}`

## Usage

```bash
/{{command.group}}:{{command.name}} {{command.usage_args}}
```
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

Get-Content .codex/skills/slash-command-outliner/scripts/verify-evidence.js -TotalCount 220
" in C:\Project\Claude-Code-Workflow succeeded in 330ms:
import fs from 'node:fs';
import path from 'node:path';
import { fileURLToPath } from 'node:url';

export function usage() {
  console.log(
    [
      'Usage:',
      '  node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<path.md> [--file=<path2.md> ...]',
      '',
      'Behavior:',
      '  - Extracts evidence tables from markdown (gap-report and/or outline)',
      '  - Enforces evidence-based gates:',
      '    - Each row must label Status as Existing or Planned',
      '    - Evidence must include BOTH docs and ts anchors:',
      '      - docs: .claude/commands/**.md / <section heading>',
      '      - ts: ccw/src/** / <function|case|pattern>',
      '    - Existing rows must point to verifiable pointers (paths must exist when pointer looks like a path)',
      '',
      'Notes:',
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

Get-Content .codex/skills/slash-command-outliner/scripts/verify-evidence.js -TotalCount 520 | Select-Object -Skip 220
" in C:\Project\Claude-Code-Workflow succeeded in 332ms:

  const ev = parseEvidenceCell(evidenceRaw);
  if (!ev.docs?.file || !ev.docs?.anchor) {
    errors.push('Evidence must include docs: <file> / <section heading>.');
  }
  if (!ev.ts?.file || !ev.ts?.anchor) {
    errors.push('Evidence must include ts: <file> / <function|case|pattern>.');
  }

  // Verify docs evidence
  if (ev.docs?.file) {
    if (!ev.docs.file.startsWith('.claude/commands/') || !ev.docs.file.endsWith('.md')) {
      errors.push(`Docs evidence must be under .claude/commands/**.md (got: ${ev.docs.file})`);
    }
    if (!fileExists(repoRoot, ev.docs.file)) {
      errors.push(`Docs evidence file not found: ${ev.docs.file}`);
    } else {
      const docText = readText(repoRoot, ev.docs.file) || '';
      if (ev.docs.anchor && !findHeading(docText, ev.docs.anchor)) {
        errors.push(`Docs evidence heading not found: ${ev.docs.file} / ${ev.docs.anchor}`);
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

Get-ChildItem .claude/commands/workflow -Recurse -File | Sort-Object FullName | Select-Object -ExpandProperty FullName
" in C:\Project\Claude-Code-Workflow succeeded in 341ms:
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\analyze-with-file.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\brainstorm-with-file.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\brainstorm\artifacts.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\brainstorm\auto-parallel.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\brainstorm\role-analysis.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\brainstorm\synthesis.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\clean.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\collaborative-plan-with-file.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\debug-with-file.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\execute.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\init-guidelines.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\init.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\lite-execute.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\lite-fix.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\lite-plan.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\multi-cli-plan.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\plan-verify.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\plan.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\replan.md
C:\Project\Claude-Code-Workflow\.claude\commands\workflow\review-cycle-fix.md
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

"'$path='"'ccw/src/tools/get-modules-by-depth.ts'
\"--- anchor search ---\"; rg -n \"name:\\s*'get_modules_by_depth'\" "'$path
"--- context ---"; rg -n "get_modules_by_depth" $path | Select-Object -First 10
' in C:\Project\Claude-Code-Workflow succeeded in 368ms:
--- anchor search ---
254:  name: 'get_modules_by_depth',
--- context ---
254:  name: 'get_modules_by_depth',
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

rg -n \"/workflow:init-guidelines\" -S ccw/src ." in C:\Project\Claude-Code-Workflow exited 1 in 374ms:


thinking
**Searching for guidelines**

I need to check the requirements, specifically for evidence under ccw/src. I wonder if there‚Äôs a UI view in the dashboard that references it. So, my next step is to search for "init-guidelines" to uncover any occurrences in ccw/src. This will help me understand what needs to be done. Let's explore this thoroughly to ensure I get the right information!
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

rg -n \"init-guidelines\" -S ccw/src ." in C:\Project\Claude-Code-Workflow exited 1 in 367ms:


thinking
**Searching for guidelines reference**

I need to locate a relevant TypeScript anchor for the guidelines. I think I could cite evidence from `ccw/src/templates/dashboard-js/views/project-overview.js`, where there might be a mention of the guidelines configuration, possibly referred to as "project-guidelines." It seems like a good plan to go ahead and open that file to confirm what‚Äôs included! Let's see if I can find the information I need there.
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

Get-Content ccw/src/templates/dashboard-js/views/project-overview.js -Raw
" in C:\Project\Claude-Code-Workflow succeeded in 319ms:
// ==========================================
// PROJECT OVERVIEW VIEW
// ==========================================

function renderProjectOverview() {
  // Show stats grid and search (may be hidden by MCP view)
  if (typeof showStatsAndSearch === 'function') showStatsAndSearch();

  const container = document.getElementById('mainContent');
  const project = workflowData.projectOverview;

  if (!project) {
    container.innerHTML = `
      <div class="flex flex-col items-center justify-center py-16 text-center">
        <div class="text-muted-foreground mb-4"><i data-lucide="clipboard-list" class="w-16 h-16"></i></div>
        <h3 class="text-xl font-semibold text-foreground mb-2">No Project Overview</h3>
        <p class="text-muted-foreground mb-4">
          Run <code class="px-2 py-1 bg-muted rounded text-sm font-mono">/workflow:init</code> to initialize project analysis
        </p>
      </div>
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

# show headings
"'$doc = Get-Content .claude/commands/workflow/init-guidelines.md -Raw
$doc -split "`r?`n" | Where-Object { $_ -match '"'"'^#{1,6}'"\\s+' } | Select-Object -First 40
" in C:\Project\Claude-Code-Workflow succeeded in 339ms:
# Workflow Init Guidelines Command (/workflow:init-guidelines)
## Overview
## Usage
## Execution Process
## Implementation
### Step 1: Check Prerequisites
### Step 2: Load Project Context
### Step 3: Multi-Round Interactive Questionnaire
#### Round 1: Coding Conventions
#### Round 2: File Structure & Documentation
#### Round 3: Architecture & Tech Stack Constraints
#### Round 4: Performance & Security Constraints
#### Round 5: Quality Rules
### Step 4: Write project-guidelines.json
### Step 5: Display Summary
## Summary
## Answer Processing Rules
## Error Handling
## Related Commands
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

rg -n \"project-tech\\.json\" -S ccw/src ." in C:\Project\Claude-Code-Workflow succeeded in 366ms:
ccw/src\tools\session-manager.ts:923:  const projectTechFile = join(root, WORKFLOW_BASE, 'project-tech.json');
ccw/src\core\data-aggregator.ts:207:    join(workflowDir, 'project-tech.json'),
ccw/src\core\data-aggregator.ts:281:  // Load project overview from project-tech.json
ccw/src\core\data-aggregator.ts:567: * Load project overview from project-tech.json and project-guidelines.json
ccw/src\core\data-aggregator.ts:572:  const techFile = join(workflowDir, 'project-tech.json');
ccw/src\core\data-aggregator.ts:586:    // Parse tech data from project-tech.json structure
.\ccw\docs-site\docs\commands\issue\issue-plan.md:146:   - `.workflow/project-tech.json` (technology stack)
.\ccw\docs-site\build\docs\commands\issue\issue-plan.html:63:<li class=""><code>.workflow/project-tech.json</code> (technology stack)</li>
.\ccw\docs-site\build\assets\js\a6c3df16.7cfa0c0a.js:1:"use strict";(globalThis.webpackChunkccw_docs=globalThis.webpackChunkccw_docs||[]).push([[991],{1184(e,s,n){n.d(s,{R:()=>t,x:()=>a});var i=n(3696);const r={},l=i.createContext(r);function t(e){const s=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:s},e.children)}},8715(e,s,n){n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"commands/issue/issue-plan","title":"issue:plan","description":"Plan issue solutions with exploration and task breakdown","source":"@site/docs/commands/issue/issue-plan.md","sourceDirName":"commands/issue","slug":"/commands/issue/issue-plan","permalink":"/docs/docs/commands/issue/issue-plan","draft":false,"unlisted":false,"editUrl":"https://github.com/ccw/docs/tree/main/docs/commands/issue/issue-plan.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"issue:plan","sidebar_label":"issue:plan","sidebar_position":3,"description":"Plan issue solutions with exploration and task breakdown"},"sidebar":"docs","previous":{"title":"issue:discover","permalink":"/docs/docs/commands/issue/issue-discover"},"next":{"title":"issue:queue","permalink":"/docs/docs/commands/issue/issue-queue"}}');var r=n(2540),l=n(1184);const t={title:"issue:plan",sidebar_label:"issue:plan",sidebar_position:3,description:"Plan issue solutions with exploration and task breakdown"},a="issue",c={},d=[{value:"Description",id:"description",level:2},{value:"Key Features",id:"key-features",level:3},{value:"Usage",id:"usage",level:2},{value:"Arguments",id:"arguments",level:3},{value:"Examples",id:"examples",level:2},{value:"Plan All Pending Issues",id:"plan-all-pending-issues",level:3},{value:"Plan with Failure Retry",id:"plan-with-failure-retry",level:3},{value:"Multiple Solutions Selection",id:"multiple-solutions-selection",level:3},{value:"Issue Lifecycle Flow",id:"issue-lifecycle-flow",level:2},{value:"Planning Workflow",id:"planning-workflow",level:2},{value:"Phase 1: Issue Loading",id:"phase-1-issue-loading",level:3},{value:"Phase 2: Agent Exploration (Parallel)",id:"phase-2-agent-exploration-parallel",level:3},{value:"Phase 3: Solution Selection",id:"phase-3-solution-selection",level:3},{value:"Phase 4: Summary",id:"phase-4-summary",level:3},{value:"Failure-Aware Planning",id:"failure-aware-planning",level:2},{value:"Feedback Schema",id:"feedback-schema",level:3},{value:"Failure Analysis Rules",id:"failure-analysis-rules",level:3},{value:"CLI Endpoints",id:"cli-endpoints",level:2},{value:"Issue Operations",id:"issue-operations",level:3},{value:"Solution Schema",id:"solution-schema",level:3},{value:"Related Commands",id:"related-commands",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function o(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsxs)(s.h1,{id:"issue",children:["issue",":plan"]})}),"\n",(0,r.jsx)(s.p,{children:"Batch plan issue resolution using intelligent agent-driven exploration and planning with failure-aware retry logic."}),"\n",(0,r.jsx)(s.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"issue:plan"})," command uses the issue-plan-agent to combine exploration and planning into a single closed-loop workflow. It generates executable solutions with task breakdowns, handles previous failure analysis, and supports batch processing of up to 3 issues per agent."]}),"\n",(0,r.jsx)(s.h3,{id:"key-features",children:"Key Features"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Explore + Plan"}),": Combined workflow for faster planning"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Failure-aware"}),": Analyzes previous failures to avoid repeats"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Batch processing"}),": Groups semantically similar issues"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Auto-binding"}),": Single solutions automatically bound"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Conflict detection"}),": Identifies cross-issue file conflicts"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"GitHub integration"}),": Adds GitHub comment tasks when applicable"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Plan all pending issues (default)\r\n/issue:plan\r\n\r\n# Plan specific issues\r\n/issue:plan GH-123,GH-124,GH-125\r\n\r\n# Plan single issue\r\n/issue:plan ISS-20251229-001\r\n\r\n# Explicit all-pending\r\n/issue:plan --all-pending\r\n\r\n# Custom batch size\r\n/issue:plan --batch-size 5\n"})}),"\n",(0,r.jsx)(s.h3,{id:"arguments",children:"Arguments"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Argument"}),(0,r.jsx)(s.th,{children:"Required"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"issue-ids"})}),(0,r.jsx)(s.td,{children:"No"}),(0,r.jsx)(s.td,{children:"Comma-separated issue IDs (default: all pending)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"--all-pending"})}),(0,r.jsx)(s.td,{children:"No"}),(0,r.jsx)(s.td,{children:"Explicit flag for all pending issues"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"--batch-size <n>"})}),(0,r.jsx)(s.td,{children:"No"}),(0,r.jsx)(s.td,{children:"Max issues per batch (default: 3)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"-y, --yes"})}),(0,r.jsx)(s.td,{children:"No"}),(0,r.jsx)(s.td,{children:"Auto-bind without confirmation"})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(s.h3,{id:"plan-all-pending-issues",children:"Plan All Pending Issues"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"/issue:plan\r\n# Output:\r\n# Found 5 pending issues\r\n# Processing 5 issues in 2 batch(es)\r\n# [Batch 1/2] Planning GH-123, GH-124, GH-125...\r\n# \u2713 GH-123: SOL-GH-123-a7x9 (3 tasks)\r\n# \u2713 GH-124: SOL-GH-124-b3m2 (4 tasks)\r\n# \u2713 GH-125: SOL-GH-125-c8k1 (2 tasks)\n"})}),"\n",(0,r.jsx)(s.h3,{id:"plan-with-failure-retry",children:"Plan with Failure Retry"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"/issue:plan ISS-20251229-001\r\n# Agent analyzes previous failure from issue.feedback\r\n# Avoids same approach that failed before\r\n# Creates alternative solution with verification steps\n"})}),"\n",(0,r.jsx)(s.h3,{id:"multiple-solutions-selection",children:"Multiple Solutions Selection"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"/issue:plan GH-999\r\n# Agent generates 2 alternative solutions\r\n# Interactive prompt:\r\n#   Issue GH-999: which solution to bind?\r\n#   [1] SOL-GH-999-a1b2 (4 tasks) - Refactor approach\r\n#   [2] SOL-GH-999-c3d4 (6 tasks) - Rewrite approach\n"})}),"\n",(0,r.jsx)(s.h2,{id:"issue-lifecycle-flow",children:"Issue Lifecycle Flow"}),"\n",(0,r.jsx)(s.mermaid,{value:"graph TB\r\n    A[Issues to Plan] --\x3e B[Load Issue Metadata]\r\n    B --\x3e C[Intelligent Grouping]\r\n    C --\x3e D[Launch Agents Parallel]\r\n    D --\x3e E1[Agent Batch 1]\r\n    D --\x3e E2[Agent Batch 2]\r\n    E1{Analyze\r\nFailures?}\r\n    E2{Analyze\r\nFailures?}\r\n    E1 --\x3e|Yes| F1[Extract Failure Patterns]\r\n    E1 --\x3e|No| G1[Explore Codebase]\r\n    E2 --\x3e|Yes| F2[Extract Failure Patterns]\r\n    E2 --\x3e|No| G2[Explore Codebase]\r\n    F1 --\x3e G1\r\n    F2 --\x3e G2\r\n    G1 --\x3e H1[Generate Solution]\r\n    G2 --\x3e H2[Generate Solution]\r\n    H1 --\x3e I{Single\r\nSolution?}\r\n    H2 --\x3e I\r\n    I --\x3e|Yes| J[Auto-Bind]\r\n    I --\x3e|No| K[User Selection]\r\n    K --\x3e L[Bind Selected]\r\n    J --\x3e M[Status: Planned]\r\n    L --\x3e M"}),"\n",(0,r.jsx)(s.h2,{id:"planning-workflow",children:"Planning Workflow"}),"\n",(0,r.jsx)(s.h3,{id:"phase-1-issue-loading",children:"Phase 1: Issue Loading"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Brief metadata only (to avoid context overflow)\r\nccw issue list --status pending,registered --json\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Returns"}),": Array of ",(0,r.jsx)(s.code,{children:"{id, title, tags}"})]}),"\n",(0,r.jsx)(s.h3,{id:"phase-2-agent-exploration-parallel",children:"Phase 2: Agent Exploration (Parallel)"}),"\n",(0,r.jsx)(s.p,{children:"Each agent performs:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Fetch full issue details"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ccw issue status <id> --json\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Analyze failure history"})," (if exists)"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Extract ",(0,r.jsx)(s.code,{children:"issue.feedback"})," where ",(0,r.jsx)(s.code,{children:"type='failure'"}),", ",(0,r.jsx)(s.code,{children:"stage='execute'"})]}),"\n",(0,r.jsx)(s.li,{children:"Parse error_type, message, task_id, solution_id"}),"\n",(0,r.jsx)(s.li,{children:"Identify repeated patterns and root causes"}),"\n",(0,r.jsx)(s.li,{children:"Design alternative approach"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Load project context"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:".workflow/project-tech.json"})," (technology stack)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:".workflow/project-guidelines.json"})," (constraints)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Explore codebase"})," (ACE semantic search)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Generate solution"})," (following solution-schema.json)"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Tasks with quantified acceptance criteria"}),"\n",(0,r.jsx)(s.li,{children:"Verification steps to prevent same failure"}),"\n",(0,r.jsx)(s.li,{children:"Reference to previous failures in approach"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Write and bind"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Write to ",(0,r.jsx)(s.code,{children:"solutions/{issue-id}.jsonl"})]}),"\n",(0,r.jsxs)(s.li,{children:["Execute ",(0,r.jsx)(s.code,{children:"ccw issue bind <issue-id> <solution-id>"})," if single solution"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"phase-3-solution-selection",children:"Phase 3: Solution Selection"}),"\n",(0,r.jsx)(s.p,{children:"Multiple solutions \u2192 User selects via AskUserQuestion"}),"\n",(0,r.jsx)(s.h3,{id:"phase-4-summary",children:"Phase 4: Summary"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"## Done: 5 issues \u2192 5 planned\r\n\r\nBound Solutions:\r\n- GH-123: SOL-GH-123-a7x9 (3 tasks)\r\n- GH-124: SOL-GH-124-b3m2 (4 tasks)\r\n- ISS-20251229-001: SOL-ISS-20251229-001-c8k1 (2 tasks)\r\n\r\nNext: /issue:queue\n"})}),"\n",(0,r.jsx)(s.h2,{id:"failure-aware-planning",children:"Failure-Aware Planning"}),"\n",(0,r.jsx)(s.h3,{id:"feedback-schema",children:"Feedback Schema"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"interface FailureFeedback {\r\n  type: 'failure';\r\n  stage: 'execute';\r\n  content: {\r\n    task_id: string;\r\n    solution_id: string;\r\n    error_type: 'test_failure' | 'compilation' | 'timeout' | 'runtime_error';\r\n    message: string;\r\n    timestamp: string;\r\n  };\r\n  created_at: string;\r\n}\n"})}),"\n",(0,r.jsx)(s.h3,{id:"failure-analysis-rules",children:"Failure Analysis Rules"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Extract patterns"}),": Repeated errors indicate systemic issues"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Identify root cause"}),": Test failure vs. compilation vs. timeout"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Design alternative"}),": Change approach, not just implementation"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Add prevention"}),": Explicit verification steps for same error"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Document lessons"}),": Reference failures in solution.approach"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"cli-endpoints",children:"CLI Endpoints"}),"\n",(0,r.jsx)(s.h3,{id:"issue-operations",children:"Issue Operations"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# List pending issues (brief)\r\nccw issue list --status pending --brief\r\n\r\n# Get full issue details (agent use)\r\nccw issue status <id> --json\r\n\r\n# Bind solution to issue\r\nccw issue bind <issue-id> <solution-id>\r\n\r\n# List with bound solutions\r\nccw issue solutions --status planned --brief\n"})}),"\n",(0,r.jsx)(s.h3,{id:"solution-schema",children:"Solution Schema"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"interface Solution {\r\n  id: string;                    // SOL-{issue-id}-{4-char-uid}\r\n  description: string;\r\n  approach: string;\r\n  tasks: Task[];\r\n  exploration_context: {\r\n    relevant_files: string[];\r\n    dependencies: string[];\r\n    patterns: string[];\r\n  };\r\n  failure_analysis?: {\r\n    previous_failures: string[];\r\n    alternative_approach: string;\r\n    prevention_steps: string[];\r\n  };\r\n  is_bound: boolean;\r\n  created_at: string;\r\n  bound_at?: string;\r\n}\r\n\r\ninterface Task {\r\n  id: string;                    // T1, T2, T3...\r\n  title: string;\r\n  scope: string;\r\n  action: string;\r\n  implementation: string[];\r\n  acceptance: {\r\n    criteria: string[];\r\n    verification: string[];\r\n  };\r\n  test?: {\r\n    unit?: string[];\r\n    integration?: string[];\r\n    commands?: string[];\r\n  };\r\n}\n"})}),"\n",(0,r.jsx)(s.h2,{id:"related-commands",children:"Related Commands"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsxs)(s.a,{href:"/docs/docs/commands/issue/issue-new",children:["issue",":new"]})})," - Create issues before planning"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsxs)(s.a,{href:"/docs/docs/commands/issue/issue-queue",children:["issue",":queue"]})})," - Form execution queue from planned issues"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsxs)(s.a,{href:"/docs/docs/commands/issue/issue-execute",children:["issue",":execute"]})})," - Execute planned solutions"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsxs)(s.a,{href:"/docs/docs/commands/issue/issue-from-brainstorm",children:["issue",":from-brainstorm"]})})," - Convert brainstorm to planned issue"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsxs)(s.a,{href:"/docs/docs/commands/issue/issue-convert-to-plan",children:["issue",":convert-to-plan"]})})," - Convert existing plans to issues"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Plan in batches"}),": Default 3 issues per batch for optimal performance"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Review failures"}),": Check issue feedback before replanning"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Verify conflicts"}),": Agent reports file conflicts across issues"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"GitHub issues"}),": Agent adds final task to comment on GitHub issue"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Acceptance criteria"}),": Ensure tasks have quantified success metrics"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Test coverage"}),": Each task should include verification steps"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Error"}),(0,r.jsx)(s.th,{children:"Cause"}),(0,r.jsx)(s.th,{children:"Resolution"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"No pending issues"}),(0,r.jsx)(s.td,{children:"All issues already planned"}),(0,r.jsx)(s.td,{children:"Create new issues or use --all-pending flag"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Agent timeout"}),(0,r.jsx)(s.td,{children:"Large codebase exploration"}),(0,r.jsx)(s.td,{children:"Reduce batch size or limit scope"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"No solutions generated"}),(0,r.jsx)(s.td,{children:"Insufficient context"}),(0,r.jsx)(s.td,{children:"Provide more detailed issue description"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Solution conflicts"}),(0,r.jsx)(s.td,{children:"Multiple issues touch same files"}),(0,r.jsx)(s.td,{children:"Agent reports conflicts, resolve manually"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Bind failure"}),(0,r.jsx)(s.td,{children:"Solution file write error"}),(0,r.jsx)(s.td,{children:"Check permissions, retry"})]})]})]})]})}function u(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);
.\ccw\src\tools\session-manager.ts:923:  const projectTechFile = join(root, WORKFLOW_BASE, 'project-tech.json');
.\ccw\src\core\data-aggregator.ts:207:    join(workflowDir, 'project-tech.json'),
.\ccw\src\core\data-aggregator.ts:281:  // Load project overview from project-tech.json
.\ccw\src\core\data-aggregator.ts:567: * Load project overview from project-tech.json and project-guidelines.json
.\ccw\src\core\data-aggregator.ts:572:  const techFile = join(workflowDir, 'project-tech.json');
.\ccw\src\core\data-aggregator.ts:586:    // Parse tech data from project-tech.json structure
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

rg -n \"project-guidelines\\.json\" -S ccw/src ." in C:\Project\Claude-Code-Workflow succeeded in 370ms:
ccw/src\core\data-aggregator.ts:208:    join(workflowDir, 'project-guidelines.json'),
ccw/src\core\data-aggregator.ts:567: * Load project overview from project-tech.json and project-guidelines.json
ccw/src\core\data-aggregator.ts:573:  const guidelinesFile = join(workflowDir, 'project-guidelines.json');
ccw/src\core\data-aggregator.ts:645:        console.error(`Failed to parse project-guidelines.json:`, (guidelinesErr as Error).message);
ccw/src\core\routes\ccw-routes.ts:53:    const guidelinesFile = join(resolvedPath, '.workflow', 'project-guidelines.json');
ccw/src\core\routes\ccw-routes.ts:78:      const guidelinesFile = join(resolvedPath, '.workflow', 'project-guidelines.json');
.\ccw\docs-site\docs\commands\issue\issue-plan.md:147:   - `.workflow/project-guidelines.json` (constraints)
.\ccw\docs-site\build\docs\commands\issue\issue-plan.html:64:<li class=""><code>.workflow/project-guidelines.json</code> (constraints)</li>
.\ccw\docs-site\build\assets\js\a6c3df16.7cfa0c0a.js:1:"use strict";(globalThis.webpackChunkccw_docs=globalThis.webpackChunkccw_docs||[]).push([[991],{1184(e,s,n){n.d(s,{R:()=>t,x:()=>a});var i=n(3696);const r={},l=i.createContext(r);function t(e){const s=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:s},e.children)}},8715(e,s,n){n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"commands/issue/issue-plan","title":"issue:plan","description":"Plan issue solutions with exploration and task breakdown","source":"@site/docs/commands/issue/issue-plan.md","sourceDirName":"commands/issue","slug":"/commands/issue/issue-plan","permalink":"/docs/docs/commands/issue/issue-plan","draft":false,"unlisted":false,"editUrl":"https://github.com/ccw/docs/tree/main/docs/commands/issue/issue-plan.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"issue:plan","sidebar_label":"issue:plan","sidebar_position":3,"description":"Plan issue solutions with exploration and task breakdown"},"sidebar":"docs","previous":{"title":"issue:discover","permalink":"/docs/docs/commands/issue/issue-discover"},"next":{"title":"issue:queue","permalink":"/docs/docs/commands/issue/issue-queue"}}');var r=n(2540),l=n(1184);const t={title:"issue:plan",sidebar_label:"issue:plan",sidebar_position:3,description:"Plan issue solutions with exploration and task breakdown"},a="issue",c={},d=[{value:"Description",id:"description",level:2},{value:"Key Features",id:"key-features",level:3},{value:"Usage",id:"usage",level:2},{value:"Arguments",id:"arguments",level:3},{value:"Examples",id:"examples",level:2},{value:"Plan All Pending Issues",id:"plan-all-pending-issues",level:3},{value:"Plan with Failure Retry",id:"plan-with-failure-retry",level:3},{value:"Multiple Solutions Selection",id:"multiple-solutions-selection",level:3},{value:"Issue Lifecycle Flow",id:"issue-lifecycle-flow",level:2},{value:"Planning Workflow",id:"planning-workflow",level:2},{value:"Phase 1: Issue Loading",id:"phase-1-issue-loading",level:3},{value:"Phase 2: Agent Exploration (Parallel)",id:"phase-2-agent-exploration-parallel",level:3},{value:"Phase 3: Solution Selection",id:"phase-3-solution-selection",level:3},{value:"Phase 4: Summary",id:"phase-4-summary",level:3},{value:"Failure-Aware Planning",id:"failure-aware-planning",level:2},{value:"Feedback Schema",id:"feedback-schema",level:3},{value:"Failure Analysis Rules",id:"failure-analysis-rules",level:3},{value:"CLI Endpoints",id:"cli-endpoints",level:2},{value:"Issue Operations",id:"issue-operations",level:3},{value:"Solution Schema",id:"solution-schema",level:3},{value:"Related Commands",id:"related-commands",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function o(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsxs)(s.h1,{id:"issue",children:["issue",":plan"]})}),"\n",(0,r.jsx)(s.p,{children:"Batch plan issue resolution using intelligent agent-driven exploration and planning with failure-aware retry logic."}),"\n",(0,r.jsx)(s.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"issue:plan"})," command uses the issue-plan-agent to combine exploration and planning into a single closed-loop workflow. It generates executable solutions with task breakdowns, handles previous failure analysis, and supports batch processing of up to 3 issues per agent."]}),"\n",(0,r.jsx)(s.h3,{id:"key-features",children:"Key Features"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Explore + Plan"}),": Combined workflow for faster planning"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Failure-aware"}),": Analyzes previous failures to avoid repeats"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Batch processing"}),": Groups semantically similar issues"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Auto-binding"}),": Single solutions automatically bound"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Conflict detection"}),": Identifies cross-issue file conflicts"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"GitHub integration"}),": Adds GitHub comment tasks when applicable"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Plan all pending issues (default)\r\n/issue:plan\r\n\r\n# Plan specific issues\r\n/issue:plan GH-123,GH-124,GH-125\r\n\r\n# Plan single issue\r\n/issue:plan ISS-20251229-001\r\n\r\n# Explicit all-pending\r\n/issue:plan --all-pending\r\n\r\n# Custom batch size\r\n/issue:plan --batch-size 5\n"})}),"\n",(0,r.jsx)(s.h3,{id:"arguments",children:"Arguments"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Argument"}),(0,r.jsx)(s.th,{children:"Required"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"issue-ids"})}),(0,r.jsx)(s.td,{children:"No"}),(0,r.jsx)(s.td,{children:"Comma-separated issue IDs (default: all pending)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"--all-pending"})}),(0,r.jsx)(s.td,{children:"No"}),(0,r.jsx)(s.td,{children:"Explicit flag for all pending issues"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"--batch-size <n>"})}),(0,r.jsx)(s.td,{children:"No"}),(0,r.jsx)(s.td,{children:"Max issues per batch (default: 3)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"-y, --yes"})}),(0,r.jsx)(s.td,{children:"No"}),(0,r.jsx)(s.td,{children:"Auto-bind without confirmation"})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(s.h3,{id:"plan-all-pending-issues",children:"Plan All Pending Issues"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"/issue:plan\r\n# Output:\r\n# Found 5 pending issues\r\n# Processing 5 issues in 2 batch(es)\r\n# [Batch 1/2] Planning GH-123, GH-124, GH-125...\r\n# \u2713 GH-123: SOL-GH-123-a7x9 (3 tasks)\r\n# \u2713 GH-124: SOL-GH-124-b3m2 (4 tasks)\r\n# \u2713 GH-125: SOL-GH-125-c8k1 (2 tasks)\n"})}),"\n",(0,r.jsx)(s.h3,{id:"plan-with-failure-retry",children:"Plan with Failure Retry"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"/issue:plan ISS-20251229-001\r\n# Agent analyzes previous failure from issue.feedback\r\n# Avoids same approach that failed before\r\n# Creates alternative solution with verification steps\n"})}),"\n",(0,r.jsx)(s.h3,{id:"multiple-solutions-selection",children:"Multiple Solutions Selection"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"/issue:plan GH-999\r\n# Agent generates 2 alternative solutions\r\n# Interactive prompt:\r\n#   Issue GH-999: which solution to bind?\r\n#   [1] SOL-GH-999-a1b2 (4 tasks) - Refactor approach\r\n#   [2] SOL-GH-999-c3d4 (6 tasks) - Rewrite approach\n"})}),"\n",(0,r.jsx)(s.h2,{id:"issue-lifecycle-flow",children:"Issue Lifecycle Flow"}),"\n",(0,r.jsx)(s.mermaid,{value:"graph TB\r\n    A[Issues to Plan] --\x3e B[Load Issue Metadata]\r\n    B --\x3e C[Intelligent Grouping]\r\n    C --\x3e D[Launch Agents Parallel]\r\n    D --\x3e E1[Agent Batch 1]\r\n    D --\x3e E2[Agent Batch 2]\r\n    E1{Analyze\r\nFailures?}\r\n    E2{Analyze\r\nFailures?}\r\n    E1 --\x3e|Yes| F1[Extract Failure Patterns]\r\n    E1 --\x3e|No| G1[Explore Codebase]\r\n    E2 --\x3e|Yes| F2[Extract Failure Patterns]\r\n    E2 --\x3e|No| G2[Explore Codebase]\r\n    F1 --\x3e G1\r\n    F2 --\x3e G2\r\n    G1 --\x3e H1[Generate Solution]\r\n    G2 --\x3e H2[Generate Solution]\r\n    H1 --\x3e I{Single\r\nSolution?}\r\n    H2 --\x3e I\r\n    I --\x3e|Yes| J[Auto-Bind]\r\n    I --\x3e|No| K[User Selection]\r\n    K --\x3e L[Bind Selected]\r\n    J --\x3e M[Status: Planned]\r\n    L --\x3e M"}),"\n",(0,r.jsx)(s.h2,{id:"planning-workflow",children:"Planning Workflow"}),"\n",(0,r.jsx)(s.h3,{id:"phase-1-issue-loading",children:"Phase 1: Issue Loading"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Brief metadata only (to avoid context overflow)\r\nccw issue list --status pending,registered --json\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Returns"}),": Array of ",(0,r.jsx)(s.code,{children:"{id, title, tags}"})]}),"\n",(0,r.jsx)(s.h3,{id:"phase-2-agent-exploration-parallel",children:"Phase 2: Agent Exploration (Parallel)"}),"\n",(0,r.jsx)(s.p,{children:"Each agent performs:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Fetch full issue details"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ccw issue status <id> --json\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Analyze failure history"})," (if exists)"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Extract ",(0,r.jsx)(s.code,{children:"issue.feedback"})," where ",(0,r.jsx)(s.code,{children:"type='failure'"}),", ",(0,r.jsx)(s.code,{children:"stage='execute'"})]}),"\n",(0,r.jsx)(s.li,{children:"Parse error_type, message, task_id, solution_id"}),"\n",(0,r.jsx)(s.li,{children:"Identify repeated patterns and root causes"}),"\n",(0,r.jsx)(s.li,{children:"Design alternative approach"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Load project context"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:".workflow/project-tech.json"})," (technology stack)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:".workflow/project-guidelines.json"})," (constraints)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Explore codebase"})," (ACE semantic search)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Generate solution"})," (following solution-schema.json)"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Tasks with quantified acceptance criteria"}),"\n",(0,r.jsx)(s.li,{children:"Verification steps to prevent same failure"}),"\n",(0,r.jsx)(s.li,{children:"Reference to previous failures in approach"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Write and bind"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Write to ",(0,r.jsx)(s.code,{children:"solutions/{issue-id}.jsonl"})]}),"\n",(0,r.jsxs)(s.li,{children:["Execute ",(0,r.jsx)(s.code,{children:"ccw issue bind <issue-id> <solution-id>"})," if single solution"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"phase-3-solution-selection",children:"Phase 3: Solution Selection"}),"\n",(0,r.jsx)(s.p,{children:"Multiple solutions \u2192 User selects via AskUserQuestion"}),"\n",(0,r.jsx)(s.h3,{id:"phase-4-summary",children:"Phase 4: Summary"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"## Done: 5 issues \u2192 5 planned\r\n\r\nBound Solutions:\r\n- GH-123: SOL-GH-123-a7x9 (3 tasks)\r\n- GH-124: SOL-GH-124-b3m2 (4 tasks)\r\n- ISS-20251229-001: SOL-ISS-20251229-001-c8k1 (2 tasks)\r\n\r\nNext: /issue:queue\n"})}),"\n",(0,r.jsx)(s.h2,{id:"failure-aware-planning",children:"Failure-Aware Planning"}),"\n",(0,r.jsx)(s.h3,{id:"feedback-schema",children:"Feedback Schema"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"interface FailureFeedback {\r\n  type: 'failure';\r\n  stage: 'execute';\r\n  content: {\r\n    task_id: string;\r\n    solution_id: string;\r\n    error_type: 'test_failure' | 'compilation' | 'timeout' | 'runtime_error';\r\n    message: string;\r\n    timestamp: string;\r\n  };\r\n  created_at: string;\r\n}\n"})}),"\n",(0,r.jsx)(s.h3,{id:"failure-analysis-rules",children:"Failure Analysis Rules"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Extract patterns"}),": Repeated errors indicate systemic issues"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Identify root cause"}),": Test failure vs. compilation vs. timeout"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Design alternative"}),": Change approach, not just implementation"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Add prevention"}),": Explicit verification steps for same error"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Document lessons"}),": Reference failures in solution.approach"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"cli-endpoints",children:"CLI Endpoints"}),"\n",(0,r.jsx)(s.h3,{id:"issue-operations",children:"Issue Operations"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# List pending issues (brief)\r\nccw issue list --status pending --brief\r\n\r\n# Get full issue details (agent use)\r\nccw issue status <id> --json\r\n\r\n# Bind solution to issue\r\nccw issue bind <issue-id> <solution-id>\r\n\r\n# List with bound solutions\r\nccw issue solutions --status planned --brief\n"})}),"\n",(0,r.jsx)(s.h3,{id:"solution-schema",children:"Solution Schema"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"interface Solution {\r\n  id: string;                    // SOL-{issue-id}-{4-char-uid}\r\n  description: string;\r\n  approach: string;\r\n  tasks: Task[];\r\n  exploration_context: {\r\n    relevant_files: string[];\r\n    dependencies: string[];\r\n    patterns: string[];\r\n  };\r\n  failure_analysis?: {\r\n    previous_failures: string[];\r\n    alternative_approach: string;\r\n    prevention_steps: string[];\r\n  };\r\n  is_bound: boolean;\r\n  created_at: string;\r\n  bound_at?: string;\r\n}\r\n\r\ninterface Task {\r\n  id: string;                    // T1, T2, T3...\r\n  title: string;\r\n  scope: string;\r\n  action: string;\r\n  implementation: string[];\r\n  acceptance: {\r\n    criteria: string[];\r\n    verification: string[];\r\n  };\r\n  test?: {\r\n    unit?: string[];\r\n    integration?: string[];\r\n    commands?: string[];\r\n  };\r\n}\n"})}),"\n",(0,r.jsx)(s.h2,{id:"related-commands",children:"Related Commands"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsxs)(s.a,{href:"/docs/docs/commands/issue/issue-new",children:["issue",":new"]})})," - Create issues before planning"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsxs)(s.a,{href:"/docs/docs/commands/issue/issue-queue",children:["issue",":queue"]})})," - Form execution queue from planned issues"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsxs)(s.a,{href:"/docs/docs/commands/issue/issue-execute",children:["issue",":execute"]})})," - Execute planned solutions"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsxs)(s.a,{href:"/docs/docs/commands/issue/issue-from-brainstorm",children:["issue",":from-brainstorm"]})})," - Convert brainstorm to planned issue"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsxs)(s.a,{href:"/docs/docs/commands/issue/issue-convert-to-plan",children:["issue",":convert-to-plan"]})})," - Convert existing plans to issues"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Plan in batches"}),": Default 3 issues per batch for optimal performance"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Review failures"}),": Check issue feedback before replanning"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Verify conflicts"}),": Agent reports file conflicts across issues"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"GitHub issues"}),": Agent adds final task to comment on GitHub issue"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Acceptance criteria"}),": Ensure tasks have quantified success metrics"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Test coverage"}),": Each task should include verification steps"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Error"}),(0,r.jsx)(s.th,{children:"Cause"}),(0,r.jsx)(s.th,{children:"Resolution"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"No pending issues"}),(0,r.jsx)(s.td,{children:"All issues already planned"}),(0,r.jsx)(s.td,{children:"Create new issues or use --all-pending flag"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Agent timeout"}),(0,r.jsx)(s.td,{children:"Large codebase exploration"}),(0,r.jsx)(s.td,{children:"Reduce batch size or limit scope"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"No solutions generated"}),(0,r.jsx)(s.td,{children:"Insufficient context"}),(0,r.jsx)(s.td,{children:"Provide more detailed issue description"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Solution conflicts"}),(0,r.jsx)(s.td,{children:"Multiple issues touch same files"}),(0,r.jsx)(s.td,{children:"Agent reports conflicts, resolve manually"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Bind failure"}),(0,r.jsx)(s.td,{children:"Solution file write error"}),(0,r.jsx)(s.td,{children:"Check permissions, retry"})]})]})]})]})}function u(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);
.\ccw\src\core\data-aggregator.ts:208:    join(workflowDir, 'project-guidelines.json'),
.\ccw\src\core\data-aggregator.ts:567: * Load project overview from project-tech.json and project-guidelines.json
.\ccw\src\core\data-aggregator.ts:573:  const guidelinesFile = join(workflowDir, 'project-guidelines.json');
.\ccw\src\core\data-aggregator.ts:645:        console.error(`Failed to parse project-guidelines.json:`, (guidelinesErr as Error).message);
.\ccw\src\core\routes\ccw-routes.ts:53:    const guidelinesFile = join(resolvedPath, '.workflow', 'project-guidelines.json');
.\ccw\src\core\routes\ccw-routes.ts:78:      const guidelinesFile = join(resolvedPath, '.workflow', 'project-guidelines.json');
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

"'$doc = Get-Content .claude/commands/workflow/init.md -Raw
$doc -split "`r?`n" | Where-Object { $_ -match '"'"'^#{1,6}'"\\s+' } | Select-Object -First 80
" in C:\Project\Claude-Code-Workflow succeeded in 335ms:
# Workflow Init Command (/workflow:init)
## Overview
## Usage
## Execution Process
## Implementation
### Step 1: Parse Input and Check Existing State
### Step 2: Get Project Metadata
### Step 3: Invoke cli-explore-agent
## MANDATORY FIRST STEPS
## Task
## Analysis Requirements
## Execution
### Step 3.5: Create Guidelines Scaffold (if not exists)
### Step 4: Display Summary
## Project Overview
### Technology Stack
### Architecture
### Step 5: Ask About Guidelines Configuration
## Error Handling
## Related Commands


thinking
**Analyzing workflow plans**

I‚Äôm considering the scoring metrics for different tasks and workflows. It looks like I might give a score of 0.65 to the use of "Task" and "AskUserQuestion." For specific workflows, I'm thinking about how plan.md might score 0.55 while plan-verify.md could get 0.4. I need to ensure deterministic scoring, mentioning criteria clearly. Also, I should incorporate various options and improve error handling across the processes. I'll also include backup steps, as well as specific examples.
thinking
**Ensuring file integrity**

I'm thinking that after I write the files, I should run the verify-evidence step. It might be helpful to include a JSON validation step, though it's not absolutely required. Since the smart_search tool is down, I‚Äôll depend more on shell commands for searching instead. I need to check that each file has the necessary anchor strings to prevent failures, and I‚Äôll verify that `ccw/src/core/data-aggregator.ts` includes "project-guidelines.json." Finally, I'll get ready to produce output files and set the base path variable.
Plan update
  ‚úì Read skill rules/templates and CMD-037 requirements; identify oracle and required outputs
  ‚Üí Collect repo evidence (docs headings + ccw/src anchors) for all implementation pointers
  ‚Ä¢ Write spec.json and references.json (non-leaky) following skill schemas
  ‚Ä¢ Generate generated-slash-outline.md and generated-agent-outline.md using templates; include evidence table rows for each pointer
  ‚Ä¢ Write gap-report.md and fix-plan.md; ensure evidence table satisfies dual-source rules
  ‚Ä¢ Run deterministic gate: verify-evidence.js on generated-slash-outline.md and gap-report.md; iterate until passing

thinking
**Gathering evidence for verification**

I‚Äôm in the process of gathering evidence. We have the headings and anchor strings already set. Next, I need to verify if the document headings exist, and ensure that the anchor strings are present too. I‚Äôm planning to run commands to check `renderGuidelinesSection` and `project-guidelines.json`, along with `get_modules_by_depth`. It‚Äôs crucial to confirm the file paths and anchors exist, so I‚Äôll run `rg` quickly for that!
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null
Set-Location '"'C:\\Project\\Claude-Code-Workflow'

# verify anchors used in evidence tables
rg -n \"function renderGuidelinesSection\" ccw/src/templates/dashboard-js/views/project-overview.js
rg -n \"\\/workflow:init\" ccw/src/templates/dashboard-js/views/project-overview.js | Select-Object -First 3
rg -n \"project-guidelines\\.json\" ccw/src/core/data-aggregator.ts | Select-Object -First 5
rg -n \"name: 'get_modules_by_depth'\" ccw/src/tools/get-modules-by-depth.ts
" in C:\Project\Claude-Code-Workflow succeeded in 442ms:
439:function renderGuidelinesSection(title, data, icon, badgeClass, categories) {
18:          Run <code class="px-2 py-1 bg-muted rounded text-sm font-mono">/workflow:init</code> to initialize project analysis
208:    join(workflowDir, 'project-guidelines.json'),
567: * Load project overview from project-tech.json and project-guidelines.json
573:  const guidelinesFile = join(workflowDir, 'project-guidelines.json');
645:        console.error(`Failed to parse project-guidelines.json:`, (guidelinesErr as Error).message);
254:  name: 'get_modules_by_depth',

thinking
**Checking documentation headings**

I‚Äôm thinking about checking the headings in the init.md and init-guidelines documents. It seems like a necessary step to ensure everything is organized. I want to make sure these headings are set up correctly. Since I'm confirming that step 2 of the plan is completed, I should probably document this progress as well. Keeping track of these updates is important for clarity in our work!
Plan update
  ‚úì Read skill rules/templates and CMD-037 requirements; identify oracle and required outputs
  ‚úì Collect repo evidence (docs headings + ccw/src anchors) for all implementation pointers
  ‚Üí Write spec.json and references.json (non-leaky) following skill schemas
  ‚Ä¢ Generate generated-slash-outline.md and generated-agent-outline.md using templates; include evidence table rows for each pointer
  ‚Ä¢ Write gap-report.md and fix-plan.md; ensure evidence table satisfies dual-source rules
  ‚Ä¢ Run deterministic gate: verify-evidence.js on generated-slash-outline.md and gap-report.md; iterate until passing
tool ccw-tools.write_file({"path":".workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json","content":"{\n  \"command\": {\n    \"group\": \"workflow\",\n    \"name\": \"init\",\n    \"title\": \"Workflow Init Command (/workflow:init)\",\n    \"description\": \"Initialize project-level state with intelligent project analysis using cli-explore-agent\",\n    \"argument_hint\": \"[--regenerate]\",\n    \"allowed_tools\": [\n      \"Bash(*)\",\n      \"Task(cli-explore-agent)\",\n      \"AskUserQuestion(*)\",\n      \"Skill(workflow:init-guidelines)\",\n      \"Read(*)\",\n      \"Write(*)\"\n    ]\n  },\n  \"intent\": {\n    \"type\": \"execute\",\n    \"interaction\": \"iterative\",\n    \"primary_user_value\": \"Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context.\"\n  },\n  \"artifacts\": {\n    \"reads\": [\n      \".workflow/project-tech.json\",\n      \".workflow/project-guidelines.json\"\n    ],\n    \"writes\": [\n      \".workflow/project-tech.json\",\n      \".workflow/project-tech.json.backup\",\n      \".workflow/project-guidelines.json\"\n    ]\n  },\n  \"constraints\": {\n    \"max_rounds\": 1,\n    \"time_budget_seconds\": 300,\n    \"must_not\": [\n      \"Overwrite existing .workflow/project-tech.json unless --regenerate is set\",\n      \"Interrupt calling workflows after initialization completes (return immediately)\",\n      \"Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)\"\n    ]\n  },\n  \"acceptance\": {\n    \"p0\": [\n      \"Frontmatter includes name, description, argument-hint, allowed-tools, group\",\n      \"Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling\",\n      \"Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing\"\n    ]\n  }\n}\n"})
ccw-tools.write_file({"path":".workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json","content":"{\n  \"command\": {\n    \"group\": \"workflow\",\n    \"name\": \"init\",\n    \"title\": \"Workflow Init Command (/workflow:init)\",\n    \"description\": \"Initialize project-level state with intelligent project analysis using cli-explore-agent\",\n    \"argument_hint\": \"[--regenerate]\",\n    \"allowed_tools\": [\n      \"Bash(*)\",\n      \"Task(cli-explore-agent)\",\n      \"AskUserQuestion(*)\",\n      \"Skill(workflow:init-guidelines)\",\n      \"Read(*)\",\n      \"Write(*)\"\n    ]\n  },\n  \"intent\": {\n    \"type\": \"execute\",\n    \"interaction\": \"iterative\",\n    \"primary_user_value\": \"Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context.\"\n  },\n  \"artifacts\": {\n    \"reads\": [\n      \".workflow/project-tech.json\",\n      \".workflow/project-guidelines.json\"\n    ],\n    \"writes\": [\n      \".workflow/project-tech.json\",\n      \".workflow/project-tech.json.backup\",\n      \".workflow/project-guidelines.json\"\n    ]\n  },\n  \"constraints\": {\n    \"max_rounds\": 1,\n    \"time_budget_seconds\": 300,\n    \"must_not\": [\n      \"Overwrite existing .workflow/project-tech.json unless --regenerate is set\",\n      \"Interrupt calling workflows after initialization completes (return immediately)\",\n      \"Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)\"\n    ]\n  },\n  \"acceptance\": {\n    \"p0\": [\n      \"Frontmatter includes name, description, argument-hint, allowed-tools, group\",\n      \"Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling\",\n      \"Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing\"\n    ]\n  }\n}\n"}) failed in 0ms:

thinking
**Evaluating file writing strategy**

I‚Äôm facing an issue with the write_file tool because of a transport problem, like I encountered with smart_search. It seems to be an MCP server issue. Instead, I‚Äôll use the apply_patch tool to write files, which works locally. I want to ensure that directories are created first, so I might need to use a shell command to create them with `New-Item -ItemType Directory -Force`. It‚Äôs safer to set up the directories before adding files.
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Set-Location '"'C:\\Project\\Claude-Code-Workflow'

"'$outDir='"'.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs'
New-Item -ItemType Directory -Force -Path "'$outDir | Out-Null

Get-Item $outDir | Select-Object FullName
' in C:\Project\Claude-Code-Workflow succeeded in 338ms:

[32;1mFullName[0m
[32;1m--------[0m
C:\Project\Claude-Code-Workflow\.workflow\.cycle\cycle-auto-20260205T010617-slashcmdoutliner-codex.progress\llm\CMD-03‚Ä¶


thinking
**Creating file updates**

I'm starting by creating a directory. Once that's done, I need to use apply_patch to add or update a file. I'm planning to generate a spec.json file as part of this process. I realize that apply_patch expects freeform patch text, so I need to ensure I'm adding the correct content to the file. Let's focus on getting that spec.json file added!
file update
A C:\Project\Claude-Code-Workflow\.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
{
  "command": {
    "group": "workflow",
    "name": "init",
    "title": "Workflow Init Command (/workflow:init)",
    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
    "argument_hint": "[--regenerate]",
    "allowed_tools": [
      "Bash(*)",
      "Task(cli-explore-agent)",
      "AskUserQuestion(*)",
      "Skill(workflow:init-guidelines)",
      "Read(*)",
      "Write(*)"
    ]
  },
  "intent": {
    "type": "execute",
    "interaction": "iterative",
    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
  },
  "artifacts": {
    "reads": [
      ".workflow/project-tech.json",
      ".workflow/project-guidelines.json"
    ],
    "writes": [
      ".workflow/project-tech.json",
      ".workflow/project-tech.json.backup",
      ".workflow/project-guidelines.json"
    ]
  },
  "constraints": {
    "max_rounds": 1,
    "time_budget_seconds": 300,
    "must_not": [
      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
      "Interrupt calling workflows after initialization completes (return immediately)",
      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
    ]
  },
  "acceptance": {
    "p0": [
      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
    ]
  }
}

apply_patch(auto_approved=true) exited 0 in 39ms:
Success. Updated the following files:
A .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

file update
A C:\Project\Claude-Code-Workflow\.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
{
  "scoring_rubric": {
    "same_group": 0.4,
    "similar_artifacts": 0.3,
    "similar_interaction_model": 0.2,
    "similar_tool_surface": 0.1
  },
  "candidates": [
    {
      "slash": "/workflow:init",
      "file_path": ".claude/commands/workflow/init.md",
      "score": 1,
      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
    },
    {
      "slash": "/workflow:init-guidelines",
      "file_path": ".claude/commands/workflow/init-guidelines.md",
      "score": 0.85,
      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
    },
    {
      "slash": "/workflow:multi-cli-plan",
      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
      "score": 0.62,
      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
    },
    {
      "slash": "/workflow:plan",
      "file_path": ".claude/commands/workflow/plan.md",
      "score": 0.5,
      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
    },
    {
      "slash": "/workflow:plan-verify",
      "file_path": ".claude/commands/workflow/plan-verify.md",
      "score": 0.4,
      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
    }
  ],
  "selected": {
    "slash": "/workflow:init",
    "file_path": ".claude/commands/workflow/init.md",
    "score": 1,
    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
  }
}

apply_patch(auto_approved=true) exited 0 in 54ms:
Success. Updated the following files:
A .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

Plan update
  ‚úì Read skill rules/templates and CMD-037 requirements; identify oracle and required outputs
  ‚úì Collect repo evidence (docs headings + ccw/src anchors) for all implementation pointers
  ‚úì Write spec.json and references.json (non-leaky) following skill schemas
  ‚Üí Generate generated-slash-outline.md and generated-agent-outline.md using templates; include evidence table rows for each pointer
  ‚Ä¢ Write gap-report.md and fix-plan.md; ensure evidence table satisfies dual-source rules
  ‚Ä¢ Run deterministic gate: verify-evidence.js on generated-slash-outline.md and gap-report.md; iterate until passing
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

file update
A C:\Project\Claude-Code-Workflow\.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
---
name: init
description: Initialize project-level state with intelligent project analysis using cli-explore-agent
argument-hint: "[--regenerate]"
allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
group: workflow
---

# Workflow Init Command (/workflow:init)

## Overview

- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
- Command: `/workflow:init`

## Usage

```bash
/workflow:init [--regenerate]
```

## Inputs

- Required inputs:
  - none
- Optional inputs:
  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first

## Outputs / Artifacts

- Writes:
  - `.workflow/project-tech.json`
  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
- Reads:
  - `.workflow/project-tech.json` (existence check)
  - `.workflow/project-guidelines.json` (existence + populated check)

## Implementation Pointers

- Command doc: `.claude/commands/workflow/init.md`
- Likely code locations:
  - `.claude/commands/workflow/init-guidelines.md`
  - `ccw/src/tools/get-modules-by-depth.ts`
  - `ccw/src/core/data-aggregator.ts`
  - `ccw/src/templates/dashboard-js/views/project-overview.js`

### Evidence (Existing vs Planned)

You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).

Rules:
- `Existing` MUST include evidence from BOTH:
  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).

| Pointer | Status | Evidence (docs + TS) | Verify | Why |
|---|---|---|---|---|
| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |

Notes:
- Use one row per pointer.
- For TS evidence, anchors must be literal substrings present in the referenced file.

## Execution Process

1. Parse input
   - Set `regenerate = true` iff `--regenerate` is present.
2. Check existing state
   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
3. Get project metadata (best-effort)
   - Determine project name (git root basename if available; fallback to current directory basename).
   - Ensure `.workflow/` exists.
4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
   - In the delegated prompt, require:
     - schema read (project-tech schema)
     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
5. Create guidelines scaffold (if not exists)
   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
6. Display summary
   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
7. Ask about guidelines configuration (only if guidelines are not populated)
   - Ask user to either:
     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
     - skip and show next steps.
8. Return immediately after completion
   - If invoked by another workflow command, do not block; return control to caller.

## Error Handling

- If git metadata lookup fails: continue with cwd-based project name/root.
- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.

## Examples

```bash
/workflow:init
/workflow:init --regenerate
```

apply_patch(auto_approved=true) exited 0 in 66ms:
Success. Updated the following files:
A .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..27640cd13c6076d2d9e983c751b3621de1469aed
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,109 @@
+---
+name: init
+description: Initialize project-level state with intelligent project analysis using cli-explore-agent
+argument-hint: "[--regenerate]"
+allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+group: workflow
+---
+
+# Workflow Init Command (/workflow:init)
+
+## Overview
+
+- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
+- Command: `/workflow:init`
+
+## Usage
+
+```bash
+/workflow:init [--regenerate]
+```
+
+## Inputs
+
+- Required inputs:
+  - none
+- Optional inputs:
+  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json` (existence check)
+  - `.workflow/project-guidelines.json` (existence + populated check)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/init.md`
+- Likely code locations:
+  - `.claude/commands/workflow/init-guidelines.md`
+  - `ccw/src/tools/get-modules-by-depth.ts`
+  - `ccw/src/core/data-aggregator.ts`
+  - `ccw/src/templates/dashboard-js/views/project-overview.js`
+
+### Evidence (Existing vs Planned)
+
+You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).
+
+Rules:
+- `Existing` MUST include evidence from BOTH:
+  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
+  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
+- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |
+
+Notes:
+- Use one row per pointer.
+- For TS evidence, anchors must be literal substrings present in the referenced file.
+
+## Execution Process
+
+1. Parse input
+   - Set `regenerate = true` iff `--regenerate` is present.
+2. Check existing state
+   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
+   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
+3. Get project metadata (best-effort)
+   - Determine project name (git root basename if available; fallback to current directory basename).
+   - Ensure `.workflow/` exists.
+4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
+   - In the delegated prompt, require:
+     - schema read (project-tech schema)
+     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
+     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
+5. Create guidelines scaffold (if not exists)
+   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
+6. Display summary
+   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
+7. Ask about guidelines configuration (only if guidelines are not populated)
+   - Ask user to either:
+     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
+     - skip and show next steps.
+8. Return immediately after completion
+   - If invoked by another workflow command, do not block; return control to caller.
+
+## Error Handling
+
+- If git metadata lookup fails: continue with cwd-based project name/root.
+- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
+- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
+- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.
+
+## Examples
+
+```bash
+/workflow:init
+/workflow:init --regenerate
+```
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..27640cd13c6076d2d9e983c751b3621de1469aed
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,109 @@
+---
+name: init
+description: Initialize project-level state with intelligent project analysis using cli-explore-agent
+argument-hint: "[--regenerate]"
+allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+group: workflow
+---
+
+# Workflow Init Command (/workflow:init)
+
+## Overview
+
+- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
+- Command: `/workflow:init`
+
+## Usage
+
+```bash
+/workflow:init [--regenerate]
+```
+
+## Inputs
+
+- Required inputs:
+  - none
+- Optional inputs:
+  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json` (existence check)
+  - `.workflow/project-guidelines.json` (existence + populated check)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/init.md`
+- Likely code locations:
+  - `.claude/commands/workflow/init-guidelines.md`
+  - `ccw/src/tools/get-modules-by-depth.ts`
+  - `ccw/src/core/data-aggregator.ts`
+  - `ccw/src/templates/dashboard-js/views/project-overview.js`
+
+### Evidence (Existing vs Planned)
+
+You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).
+
+Rules:
+- `Existing` MUST include evidence from BOTH:
+  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
+  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
+- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |
+
+Notes:
+- Use one row per pointer.
+- For TS evidence, anchors must be literal substrings present in the referenced file.
+
+## Execution Process
+
+1. Parse input
+   - Set `regenerate = true` iff `--regenerate` is present.
+2. Check existing state
+   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
+   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
+3. Get project metadata (best-effort)
+   - Determine project name (git root basename if available; fallback to current directory basename).
+   - Ensure `.workflow/` exists.
+4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
+   - In the delegated prompt, require:
+     - schema read (project-tech schema)
+     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
+     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
+5. Create guidelines scaffold (if not exists)
+   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
+6. Display summary
+   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
+7. Ask about guidelines configuration (only if guidelines are not populated)
+   - Ask user to either:
+     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
+     - skip and show next steps.
+8. Return immediately after completion
+   - If invoked by another workflow command, do not block; return control to caller.
+
+## Error Handling
+
+- If git metadata lookup fails: continue with cwd-based project name/root.
+- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
+- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
+- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.
+
+## Examples
+
+```bash
+/workflow:init
+/workflow:init --regenerate
+```
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+


thinking
**Organizing the agent outline**

I‚Äôve generated the agent outline using a template, aiming to keep it concise. I need to fill in the allowed tools CSV, grouping and naming them appropriately. It's important to include the same format and note the validation strategy. I‚Äôll also mention the evidence gate for verifying evidence, and I'll ensure to provide a clear list. Lastly, I‚Äôll make sure to add the file as instructed.
file update
A C:\Project\Claude-Code-Workflow\.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
# Agent Outline: workflow:init

## Purpose

Implement and/or evolve `/workflow:init` to initialize project-level `.workflow/*` state (tech analysis + guidelines scaffold) using CCW conventions with minimal regressions.

## Execution Model

- Default: incremental, testable changes
- Evidence-based: use repo-verifiable pointers (docs headings + `ccw/src/**` anchors) for any ‚ÄúExisting‚Äù claims
- Delegation: use `Task(cli-explore-agent)` for deep project analysis; keep orchestrator logic thin

## State & Artifacts

- Writes:
  - `.workflow/project-tech.json` (+ `.workflow/project-tech.json.backup` when `--regenerate`)
  - `.workflow/project-guidelines.json` (scaffold if missing; may be filled by the follow-up wizard)
- Reads:
  - `.workflow/project-tech.json`
  - `.workflow/project-guidelines.json`

## Tooling

- Allowed tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
- Non-negotiables:
  - no unrelated changes
  - never claim ‚ÄúExisting‚Äù without verifiable evidence

## Validation Strategy

- P0 gates:
  - frontmatter completeness + allowed-tools correctness
  - core sections present (Overview/Usage/Execution Process/Outputs/Error Handling)
  - artifact references are consistent (no missing paths)
  - evidence tables pass: `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
- Behavior checks:
  - idempotent when `.workflow/project-tech.json` + `.workflow/project-guidelines.json` already exist (no `--regenerate`)
  - safe regeneration: backup before overwrite
  - interactive branch only when guidelines are unpopulated

apply_patch(auto_approved=true) exited 0 in 83ms:
Success. Updated the following files:
A .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..7d3cfd00b279fcd20b78d8c312bf40a4ac605b29
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,40 @@
+# Agent Outline: workflow:init
+
+## Purpose
+
+Implement and/or evolve `/workflow:init` to initialize project-level `.workflow/*` state (tech analysis + guidelines scaffold) using CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Evidence-based: use repo-verifiable pointers (docs headings + `ccw/src/**` anchors) for any ‚ÄúExisting‚Äù claims
+- Delegation: use `Task(cli-explore-agent)` for deep project analysis; keep orchestrator logic thin
+
+## State & Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (+ `.workflow/project-tech.json.backup` when `--regenerate`)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be filled by the follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-guidelines.json`
+
+## Tooling
+
+- Allowed tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+- Non-negotiables:
+  - no unrelated changes
+  - never claim ‚ÄúExisting‚Äù without verifiable evidence
+
+## Validation Strategy
+
+- P0 gates:
+  - frontmatter completeness + allowed-tools correctness
+  - core sections present (Overview/Usage/Execution Process/Outputs/Error Handling)
+  - artifact references are consistent (no missing paths)
+  - evidence tables pass: `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Behavior checks:
+  - idempotent when `.workflow/project-tech.json` + `.workflow/project-guidelines.json` already exist (no `--regenerate`)
+  - safe regeneration: backup before overwrite
+  - interactive branch only when guidelines are unpopulated
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..27640cd13c6076d2d9e983c751b3621de1469aed
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,109 @@
+---
+name: init
+description: Initialize project-level state with intelligent project analysis using cli-explore-agent
+argument-hint: "[--regenerate]"
+allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+group: workflow
+---
+
+# Workflow Init Command (/workflow:init)
+
+## Overview
+
+- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
+- Command: `/workflow:init`
+
+## Usage
+
+```bash
+/workflow:init [--regenerate]
+```
+
+## Inputs
+
+- Required inputs:
+  - none
+- Optional inputs:
+  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json` (existence check)
+  - `.workflow/project-guidelines.json` (existence + populated check)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/init.md`
+- Likely code locations:
+  - `.claude/commands/workflow/init-guidelines.md`
+  - `ccw/src/tools/get-modules-by-depth.ts`
+  - `ccw/src/core/data-aggregator.ts`
+  - `ccw/src/templates/dashboard-js/views/project-overview.js`
+
+### Evidence (Existing vs Planned)
+
+You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).
+
+Rules:
+- `Existing` MUST include evidence from BOTH:
+  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
+  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
+- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |
+
+Notes:
+- Use one row per pointer.
+- For TS evidence, anchors must be literal substrings present in the referenced file.
+
+## Execution Process
+
+1. Parse input
+   - Set `regenerate = true` iff `--regenerate` is present.
+2. Check existing state
+   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
+   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
+3. Get project metadata (best-effort)
+   - Determine project name (git root basename if available; fallback to current directory basename).
+   - Ensure `.workflow/` exists.
+4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
+   - In the delegated prompt, require:
+     - schema read (project-tech schema)
+     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
+     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
+5. Create guidelines scaffold (if not exists)
+   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
+6. Display summary
+   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
+7. Ask about guidelines configuration (only if guidelines are not populated)
+   - Ask user to either:
+     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
+     - skip and show next steps.
+8. Return immediately after completion
+   - If invoked by another workflow command, do not block; return control to caller.
+
+## Error Handling
+
+- If git metadata lookup fails: continue with cwd-based project name/root.
+- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
+- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
+- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.
+
+## Examples
+
+```bash
+/workflow:init
+/workflow:init --regenerate
+```
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..7d3cfd00b279fcd20b78d8c312bf40a4ac605b29
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,40 @@
+# Agent Outline: workflow:init
+
+## Purpose
+
+Implement and/or evolve `/workflow:init` to initialize project-level `.workflow/*` state (tech analysis + guidelines scaffold) using CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Evidence-based: use repo-verifiable pointers (docs headings + `ccw/src/**` anchors) for any ‚ÄúExisting‚Äù claims
+- Delegation: use `Task(cli-explore-agent)` for deep project analysis; keep orchestrator logic thin
+
+## State & Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (+ `.workflow/project-tech.json.backup` when `--regenerate`)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be filled by the follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-guidelines.json`
+
+## Tooling
+
+- Allowed tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+- Non-negotiables:
+  - no unrelated changes
+  - never claim ‚ÄúExisting‚Äù without verifiable evidence
+
+## Validation Strategy
+
+- P0 gates:
+  - frontmatter completeness + allowed-tools correctness
+  - core sections present (Overview/Usage/Execution Process/Outputs/Error Handling)
+  - artifact references are consistent (no missing paths)
+  - evidence tables pass: `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Behavior checks:
+  - idempotent when `.workflow/project-tech.json` + `.workflow/project-guidelines.json` already exist (no `--regenerate`)
+  - safe regeneration: backup before overwrite
+  - interactive branch only when guidelines are unpopulated
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..27640cd13c6076d2d9e983c751b3621de1469aed
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,109 @@
+---
+name: init
+description: Initialize project-level state with intelligent project analysis using cli-explore-agent
+argument-hint: "[--regenerate]"
+allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+group: workflow
+---
+
+# Workflow Init Command (/workflow:init)
+
+## Overview
+
+- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
+- Command: `/workflow:init`
+
+## Usage
+
+```bash
+/workflow:init [--regenerate]
+```
+
+## Inputs
+
+- Required inputs:
+  - none
+- Optional inputs:
+  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json` (existence check)
+  - `.workflow/project-guidelines.json` (existence + populated check)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/init.md`
+- Likely code locations:
+  - `.claude/commands/workflow/init-guidelines.md`
+  - `ccw/src/tools/get-modules-by-depth.ts`
+  - `ccw/src/core/data-aggregator.ts`
+  - `ccw/src/templates/dashboard-js/views/project-overview.js`
+
+### Evidence (Existing vs Planned)
+
+You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).
+
+Rules:
+- `Existing` MUST include evidence from BOTH:
+  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
+  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
+- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |
+
+Notes:
+- Use one row per pointer.
+- For TS evidence, anchors must be literal substrings present in the referenced file.
+
+## Execution Process
+
+1. Parse input
+   - Set `regenerate = true` iff `--regenerate` is present.
+2. Check existing state
+   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
+   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
+3. Get project metadata (best-effort)
+   - Determine project name (git root basename if available; fallback to current directory basename).
+   - Ensure `.workflow/` exists.
+4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
+   - In the delegated prompt, require:
+     - schema read (project-tech schema)
+     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
+     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
+5. Create guidelines scaffold (if not exists)
+   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
+6. Display summary
+   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
+7. Ask about guidelines configuration (only if guidelines are not populated)
+   - Ask user to either:
+     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
+     - skip and show next steps.
+8. Return immediately after completion
+   - If invoked by another workflow command, do not block; return control to caller.
+
+## Error Handling
+
+- If git metadata lookup fails: continue with cwd-based project name/root.
+- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
+- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
+- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.
+
+## Examples
+
+```bash
+/workflow:init
+/workflow:init --regenerate
+```
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

Plan update
  ‚úì Read skill rules/templates and CMD-037 requirements; identify oracle and required outputs
  ‚úì Collect repo evidence (docs headings + ccw/src anchors) for all implementation pointers
  ‚úì Write spec.json and references.json (non-leaky) following skill schemas
  ‚úì Generate generated-slash-outline.md and generated-agent-outline.md using templates; include evidence table rows for each pointer
  ‚Üí Write gap-report.md and fix-plan.md; ensure evidence table satisfies dual-source rules
  ‚Ä¢ Run deterministic gate: verify-evidence.js on generated-slash-outline.md and gap-report.md; iterate until passing
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..7d3cfd00b279fcd20b78d8c312bf40a4ac605b29
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,40 @@
+# Agent Outline: workflow:init
+
+## Purpose
+
+Implement and/or evolve `/workflow:init` to initialize project-level `.workflow/*` state (tech analysis + guidelines scaffold) using CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Evidence-based: use repo-verifiable pointers (docs headings + `ccw/src/**` anchors) for any ‚ÄúExisting‚Äù claims
+- Delegation: use `Task(cli-explore-agent)` for deep project analysis; keep orchestrator logic thin
+
+## State & Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (+ `.workflow/project-tech.json.backup` when `--regenerate`)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be filled by the follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-guidelines.json`
+
+## Tooling
+
+- Allowed tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+- Non-negotiables:
+  - no unrelated changes
+  - never claim ‚ÄúExisting‚Äù without verifiable evidence
+
+## Validation Strategy
+
+- P0 gates:
+  - frontmatter completeness + allowed-tools correctness
+  - core sections present (Overview/Usage/Execution Process/Outputs/Error Handling)
+  - artifact references are consistent (no missing paths)
+  - evidence tables pass: `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Behavior checks:
+  - idempotent when `.workflow/project-tech.json` + `.workflow/project-guidelines.json` already exist (no `--regenerate`)
+  - safe regeneration: backup before overwrite
+  - interactive branch only when guidelines are unpopulated
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..27640cd13c6076d2d9e983c751b3621de1469aed
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,109 @@
+---
+name: init
+description: Initialize project-level state with intelligent project analysis using cli-explore-agent
+argument-hint: "[--regenerate]"
+allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+group: workflow
+---
+
+# Workflow Init Command (/workflow:init)
+
+## Overview
+
+- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
+- Command: `/workflow:init`
+
+## Usage
+
+```bash
+/workflow:init [--regenerate]
+```
+
+## Inputs
+
+- Required inputs:
+  - none
+- Optional inputs:
+  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json` (existence check)
+  - `.workflow/project-guidelines.json` (existence + populated check)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/init.md`
+- Likely code locations:
+  - `.claude/commands/workflow/init-guidelines.md`
+  - `ccw/src/tools/get-modules-by-depth.ts`
+  - `ccw/src/core/data-aggregator.ts`
+  - `ccw/src/templates/dashboard-js/views/project-overview.js`
+
+### Evidence (Existing vs Planned)
+
+You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).
+
+Rules:
+- `Existing` MUST include evidence from BOTH:
+  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
+  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
+- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |
+
+Notes:
+- Use one row per pointer.
+- For TS evidence, anchors must be literal substrings present in the referenced file.
+
+## Execution Process
+
+1. Parse input
+   - Set `regenerate = true` iff `--regenerate` is present.
+2. Check existing state
+   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
+   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
+3. Get project metadata (best-effort)
+   - Determine project name (git root basename if available; fallback to current directory basename).
+   - Ensure `.workflow/` exists.
+4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
+   - In the delegated prompt, require:
+     - schema read (project-tech schema)
+     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
+     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
+5. Create guidelines scaffold (if not exists)
+   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
+6. Display summary
+   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
+7. Ask about guidelines configuration (only if guidelines are not populated)
+   - Ask user to either:
+     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
+     - skip and show next steps.
+8. Return immediately after completion
+   - If invoked by another workflow command, do not block; return control to caller.
+
+## Error Handling
+
+- If git metadata lookup fails: continue with cwd-based project name/root.
+- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
+- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
+- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.
+
+## Examples
+
+```bash
+/workflow:init
+/workflow:init --regenerate
+```
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+


thinking
**Creating gap report file**

I need to ensure that the gap report doesn't have any placeholders like "TBD" ‚Äî I'll make sure we fill those in. Alright, let's add a file named gap-report.md. It‚Äôs important to keep everything clear and complete. I wonder if I should include specific sections or just focus on filling out the placeholders. I'll keep it simple and ensure all necessary information is there to avoid confusion. Let's get this started!
file update
A C:\Project\Claude-Code-Workflow\.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
# Gap Report: workflow:init

## Reference

- Selected reference: /workflow:init (`.claude/commands/workflow/init.md`)

## P0 Gaps (Must Fix)

- `allowed-tools` + `group` missing from the oracle frontmatter; required by CCW quality gates for tool-surface safety.
- ‚ÄúExisting vs Planned‚Äù evidence tables do not exist in the oracle (acceptable historically), but are required for this outliner output; ensure any ‚ÄúExisting‚Äù pointers in future updates remain repo-verifiable.

## P1 Gaps (Should Fix)

- Oracle doc embeds inputs/outputs implicitly in prose; the generated outline adds explicit `Inputs` and `Outputs / Artifacts` sections for consistency with other workflow commands.
- Regeneration behavior is described, but could be made more ‚Äúchecklist-like‚Äù (preconditions + backup + overwrite rules) to reduce accidental destructive runs.

## P2 Gaps (Optional)

- Add a short ‚ÄúNext steps‚Äù snippet that points users to `/workflow:init-guidelines` (or dashboard navigation) after init completes.

## Implementation Pointers (Evidence)

You MUST provide an evidence table for all key implementation pointers mentioned in the outlines.

Rules (P0):
- Every pointer MUST be labeled `Existing` or `Planned`.
- `Existing` MUST be verifiable (path exists). Include a concrete `Verify` command for each existing pointer.
- Do NOT describe `Planned` pointers as ‚Äúvalidated/exists‚Äù.
- Evidence MUST reference BOTH sources somewhere in this section:
  - command docs: `.claude/commands/**.md` (section heading is enough)
  - TypeScript implementation: `ccw/src/**` (function name / subcommand case / ripgrep-able string)

| Pointer | Status | Evidence | Verify | Notes |
|---|---|---|---|---|
| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Command oracle and canonical behavior reference. |
| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Follow-up wizard for populating `.workflow/project-guidelines.json`. |
| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by analysis to enumerate modules/structure. |
| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-tech.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads `.workflow/project-tech.json` + `.workflow/project-guidelines.json` for dashboard/workflow data. |
| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI expects init artifacts and prompts `/workflow:init` when missing. |

## Implementation Hints (Tooling/Server)

- The CCW dashboard/aggregator loads `.workflow/project-tech.json` and `.workflow/project-guidelines.json`; keeping schema stability reduces downstream rendering errors.
- Prefer `ccw tool exec get_modules_by_depth` as the stable, repo-supported structure enumerator for delegated analysis.

## Proposed Fix Plan (Minimal)

1. Update `.claude/commands/workflow/init.md` frontmatter to add:
   - `allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)`
   - `group: workflow`
2. Add explicit `Inputs` and `Outputs / Artifacts` sections (keep contents aligned with the oracle flow).
3. Make `--regenerate` safety explicit:
   - backup before overwrite; do not overwrite without flag.
4. Ensure the ‚Äúask to configure guidelines‚Äù branch only runs when guidelines are not populated, and the skip branch provides next-step commands.

apply_patch(auto_approved=true) exited 0 in 97ms:
Success. Updated the following files:
A .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..69f4bc959dd6f01fd2ce619a986766bafb509e63
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
@@ -0,0 +1,55 @@
+# Gap Report: workflow:init
+
+## Reference
+
+- Selected reference: /workflow:init (`.claude/commands/workflow/init.md`)
+
+## P0 Gaps (Must Fix)
+
+- `allowed-tools` + `group` missing from the oracle frontmatter; required by CCW quality gates for tool-surface safety.
+- ‚ÄúExisting vs Planned‚Äù evidence tables do not exist in the oracle (acceptable historically), but are required for this outliner output; ensure any ‚ÄúExisting‚Äù pointers in future updates remain repo-verifiable.
+
+## P1 Gaps (Should Fix)
+
+- Oracle doc embeds inputs/outputs implicitly in prose; the generated outline adds explicit `Inputs` and `Outputs / Artifacts` sections for consistency with other workflow commands.
+- Regeneration behavior is described, but could be made more ‚Äúchecklist-like‚Äù (preconditions + backup + overwrite rules) to reduce accidental destructive runs.
+
+## P2 Gaps (Optional)
+
+- Add a short ‚ÄúNext steps‚Äù snippet that points users to `/workflow:init-guidelines` (or dashboard navigation) after init completes.
+
+## Implementation Pointers (Evidence)
+
+You MUST provide an evidence table for all key implementation pointers mentioned in the outlines.
+
+Rules (P0):
+- Every pointer MUST be labeled `Existing` or `Planned`.
+- `Existing` MUST be verifiable (path exists). Include a concrete `Verify` command for each existing pointer.
+- Do NOT describe `Planned` pointers as ‚Äúvalidated/exists‚Äù.
+- Evidence MUST reference BOTH sources somewhere in this section:
+  - command docs: `.claude/commands/**.md` (section heading is enough)
+  - TypeScript implementation: `ccw/src/**` (function name / subcommand case / ripgrep-able string)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Command oracle and canonical behavior reference. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Follow-up wizard for populating `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by analysis to enumerate modules/structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-tech.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads `.workflow/project-tech.json` + `.workflow/project-guidelines.json` for dashboard/workflow data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI expects init artifacts and prompts `/workflow:init` when missing. |
+
+## Implementation Hints (Tooling/Server)
+
+- The CCW dashboard/aggregator loads `.workflow/project-tech.json` and `.workflow/project-guidelines.json`; keeping schema stability reduces downstream rendering errors.
+- Prefer `ccw tool exec get_modules_by_depth` as the stable, repo-supported structure enumerator for delegated analysis.
+
+## Proposed Fix Plan (Minimal)
+
+1. Update `.claude/commands/workflow/init.md` frontmatter to add:
+   - `allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)`
+   - `group: workflow`
+2. Add explicit `Inputs` and `Outputs / Artifacts` sections (keep contents aligned with the oracle flow).
+3. Make `--regenerate` safety explicit:
+   - backup before overwrite; do not overwrite without flag.
+4. Ensure the ‚Äúask to configure guidelines‚Äù branch only runs when guidelines are not populated, and the skip branch provides next-step commands.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..7d3cfd00b279fcd20b78d8c312bf40a4ac605b29
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,40 @@
+# Agent Outline: workflow:init
+
+## Purpose
+
+Implement and/or evolve `/workflow:init` to initialize project-level `.workflow/*` state (tech analysis + guidelines scaffold) using CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Evidence-based: use repo-verifiable pointers (docs headings + `ccw/src/**` anchors) for any ‚ÄúExisting‚Äù claims
+- Delegation: use `Task(cli-explore-agent)` for deep project analysis; keep orchestrator logic thin
+
+## State & Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (+ `.workflow/project-tech.json.backup` when `--regenerate`)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be filled by the follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-guidelines.json`
+
+## Tooling
+
+- Allowed tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+- Non-negotiables:
+  - no unrelated changes
+  - never claim ‚ÄúExisting‚Äù without verifiable evidence
+
+## Validation Strategy
+
+- P0 gates:
+  - frontmatter completeness + allowed-tools correctness
+  - core sections present (Overview/Usage/Execution Process/Outputs/Error Handling)
+  - artifact references are consistent (no missing paths)
+  - evidence tables pass: `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Behavior checks:
+  - idempotent when `.workflow/project-tech.json` + `.workflow/project-guidelines.json` already exist (no `--regenerate`)
+  - safe regeneration: backup before overwrite
+  - interactive branch only when guidelines are unpopulated
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..27640cd13c6076d2d9e983c751b3621de1469aed
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,109 @@
+---
+name: init
+description: Initialize project-level state with intelligent project analysis using cli-explore-agent
+argument-hint: "[--regenerate]"
+allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+group: workflow
+---
+
+# Workflow Init Command (/workflow:init)
+
+## Overview
+
+- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
+- Command: `/workflow:init`
+
+## Usage
+
+```bash
+/workflow:init [--regenerate]
+```
+
+## Inputs
+
+- Required inputs:
+  - none
+- Optional inputs:
+  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json` (existence check)
+  - `.workflow/project-guidelines.json` (existence + populated check)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/init.md`
+- Likely code locations:
+  - `.claude/commands/workflow/init-guidelines.md`
+  - `ccw/src/tools/get-modules-by-depth.ts`
+  - `ccw/src/core/data-aggregator.ts`
+  - `ccw/src/templates/dashboard-js/views/project-overview.js`
+
+### Evidence (Existing vs Planned)
+
+You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).
+
+Rules:
+- `Existing` MUST include evidence from BOTH:
+  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
+  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
+- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |
+
+Notes:
+- Use one row per pointer.
+- For TS evidence, anchors must be literal substrings present in the referenced file.
+
+## Execution Process
+
+1. Parse input
+   - Set `regenerate = true` iff `--regenerate` is present.
+2. Check existing state
+   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
+   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
+3. Get project metadata (best-effort)
+   - Determine project name (git root basename if available; fallback to current directory basename).
+   - Ensure `.workflow/` exists.
+4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
+   - In the delegated prompt, require:
+     - schema read (project-tech schema)
+     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
+     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
+5. Create guidelines scaffold (if not exists)
+   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
+6. Display summary
+   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
+7. Ask about guidelines configuration (only if guidelines are not populated)
+   - Ask user to either:
+     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
+     - skip and show next steps.
+8. Return immediately after completion
+   - If invoked by another workflow command, do not block; return control to caller.
+
+## Error Handling
+
+- If git metadata lookup fails: continue with cwd-based project name/root.
+- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
+- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
+- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.
+
+## Examples
+
+```bash
+/workflow:init
+/workflow:init --regenerate
+```
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..69f4bc959dd6f01fd2ce619a986766bafb509e63
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
@@ -0,0 +1,55 @@
+# Gap Report: workflow:init
+
+## Reference
+
+- Selected reference: /workflow:init (`.claude/commands/workflow/init.md`)
+
+## P0 Gaps (Must Fix)
+
+- `allowed-tools` + `group` missing from the oracle frontmatter; required by CCW quality gates for tool-surface safety.
+- ‚ÄúExisting vs Planned‚Äù evidence tables do not exist in the oracle (acceptable historically), but are required for this outliner output; ensure any ‚ÄúExisting‚Äù pointers in future updates remain repo-verifiable.
+
+## P1 Gaps (Should Fix)
+
+- Oracle doc embeds inputs/outputs implicitly in prose; the generated outline adds explicit `Inputs` and `Outputs / Artifacts` sections for consistency with other workflow commands.
+- Regeneration behavior is described, but could be made more ‚Äúchecklist-like‚Äù (preconditions + backup + overwrite rules) to reduce accidental destructive runs.
+
+## P2 Gaps (Optional)
+
+- Add a short ‚ÄúNext steps‚Äù snippet that points users to `/workflow:init-guidelines` (or dashboard navigation) after init completes.
+
+## Implementation Pointers (Evidence)
+
+You MUST provide an evidence table for all key implementation pointers mentioned in the outlines.
+
+Rules (P0):
+- Every pointer MUST be labeled `Existing` or `Planned`.
+- `Existing` MUST be verifiable (path exists). Include a concrete `Verify` command for each existing pointer.
+- Do NOT describe `Planned` pointers as ‚Äúvalidated/exists‚Äù.
+- Evidence MUST reference BOTH sources somewhere in this section:
+  - command docs: `.claude/commands/**.md` (section heading is enough)
+  - TypeScript implementation: `ccw/src/**` (function name / subcommand case / ripgrep-able string)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Command oracle and canonical behavior reference. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Follow-up wizard for populating `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by analysis to enumerate modules/structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-tech.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads `.workflow/project-tech.json` + `.workflow/project-guidelines.json` for dashboard/workflow data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI expects init artifacts and prompts `/workflow:init` when missing. |
+
+## Implementation Hints (Tooling/Server)
+
+- The CCW dashboard/aggregator loads `.workflow/project-tech.json` and `.workflow/project-guidelines.json`; keeping schema stability reduces downstream rendering errors.
+- Prefer `ccw tool exec get_modules_by_depth` as the stable, repo-supported structure enumerator for delegated analysis.
+
+## Proposed Fix Plan (Minimal)
+
+1. Update `.claude/commands/workflow/init.md` frontmatter to add:
+   - `allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)`
+   - `group: workflow`
+2. Add explicit `Inputs` and `Outputs / Artifacts` sections (keep contents aligned with the oracle flow).
+3. Make `--regenerate` safety explicit:
+   - backup before overwrite; do not overwrite without flag.
+4. Ensure the ‚Äúask to configure guidelines‚Äù branch only runs when guidelines are not populated, and the skip branch provides next-step commands.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..7d3cfd00b279fcd20b78d8c312bf40a4ac605b29
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,40 @@
+# Agent Outline: workflow:init
+
+## Purpose
+
+Implement and/or evolve `/workflow:init` to initialize project-level `.workflow/*` state (tech analysis + guidelines scaffold) using CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Evidence-based: use repo-verifiable pointers (docs headings + `ccw/src/**` anchors) for any ‚ÄúExisting‚Äù claims
+- Delegation: use `Task(cli-explore-agent)` for deep project analysis; keep orchestrator logic thin
+
+## State & Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (+ `.workflow/project-tech.json.backup` when `--regenerate`)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be filled by the follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-guidelines.json`
+
+## Tooling
+
+- Allowed tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+- Non-negotiables:
+  - no unrelated changes
+  - never claim ‚ÄúExisting‚Äù without verifiable evidence
+
+## Validation Strategy
+
+- P0 gates:
+  - frontmatter completeness + allowed-tools correctness
+  - core sections present (Overview/Usage/Execution Process/Outputs/Error Handling)
+  - artifact references are consistent (no missing paths)
+  - evidence tables pass: `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Behavior checks:
+  - idempotent when `.workflow/project-tech.json` + `.workflow/project-guidelines.json` already exist (no `--regenerate`)
+  - safe regeneration: backup before overwrite
+  - interactive branch only when guidelines are unpopulated
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..27640cd13c6076d2d9e983c751b3621de1469aed
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,109 @@
+---
+name: init
+description: Initialize project-level state with intelligent project analysis using cli-explore-agent
+argument-hint: "[--regenerate]"
+allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+group: workflow
+---
+
+# Workflow Init Command (/workflow:init)
+
+## Overview
+
+- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
+- Command: `/workflow:init`
+
+## Usage
+
+```bash
+/workflow:init [--regenerate]
+```
+
+## Inputs
+
+- Required inputs:
+  - none
+- Optional inputs:
+  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json` (existence check)
+  - `.workflow/project-guidelines.json` (existence + populated check)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/init.md`
+- Likely code locations:
+  - `.claude/commands/workflow/init-guidelines.md`
+  - `ccw/src/tools/get-modules-by-depth.ts`
+  - `ccw/src/core/data-aggregator.ts`
+  - `ccw/src/templates/dashboard-js/views/project-overview.js`
+
+### Evidence (Existing vs Planned)
+
+You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).
+
+Rules:
+- `Existing` MUST include evidence from BOTH:
+  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
+  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
+- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |
+
+Notes:
+- Use one row per pointer.
+- For TS evidence, anchors must be literal substrings present in the referenced file.
+
+## Execution Process
+
+1. Parse input
+   - Set `regenerate = true` iff `--regenerate` is present.
+2. Check existing state
+   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
+   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
+3. Get project metadata (best-effort)
+   - Determine project name (git root basename if available; fallback to current directory basename).
+   - Ensure `.workflow/` exists.
+4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
+   - In the delegated prompt, require:
+     - schema read (project-tech schema)
+     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
+     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
+5. Create guidelines scaffold (if not exists)
+   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
+6. Display summary
+   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
+7. Ask about guidelines configuration (only if guidelines are not populated)
+   - Ask user to either:
+     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
+     - skip and show next steps.
+8. Return immediately after completion
+   - If invoked by another workflow command, do not block; return control to caller.
+
+## Error Handling
+
+- If git metadata lookup fails: continue with cwd-based project name/root.
+- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
+- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
+- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.
+
+## Examples
+
+```bash
+/workflow:init
+/workflow:init --regenerate
+```
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+


thinking
**Updating fix-plan**

I'm focusing on fixing the "fix-plan.md" file to create a minimal list of fixes. I want to label each fix with its scope and include steps along with verification commands. I'm not sure if I need an evidence table since it‚Äôs not mandated, but it could be helpful. I‚Äôll keep it concise. I'll add scopes for documentation updates, tooling verification, and validation, plus I'll include the verify-evidence step. Let's get the file updated!
file update
A C:\Project\Claude-Code-Workflow\.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
# Fix Plan: workflow:init

## P0 (Must)

1. Docs: update `.claude/commands/workflow/init.md` frontmatter to include required fields
   - Add `allowed-tools` and `group` while keeping existing `name/description/argument-hint/examples`.
   - Verify:
     - `rg "^allowed-tools:" .claude/commands/workflow/init.md`
     - `rg "^group:" .claude/commands/workflow/init.md`

2. Safety: make regeneration behavior unambiguous in the command doc
   - Ensure `--regenerate` is the only path that overwrites `project-tech.json`, and that backup happens first.
   - Verify:
     - `rg "project-tech\\.json\\.backup" .claude/commands/workflow/init.md`
     - `rg "--regenerate" .claude/commands/workflow/init.md`

3. Evidence gate (outliner outputs): keep evidence tables passing
   - Run:
     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md`
     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md`

## P1 (Should)

4. Docs structure: add explicit `Inputs` + `Outputs / Artifacts` sections to `.claude/commands/workflow/init.md`
   - Keep the content minimal and consistent with the existing flow.
   - Verify:
     - `rg "^## Inputs" .claude/commands/workflow/init.md`
     - `rg "^## Outputs" .claude/commands/workflow/init.md`

5. UX: clarify next steps after init completes
   - If guidelines are empty, offer ‚Äúconfigure now‚Äù vs ‚Äúskip‚Äù and point to `/workflow:init-guidelines` when skipping.
   - Verify:
     - `rg "/workflow:init-guidelines" .claude/commands/workflow/init.md`

apply_patch(auto_approved=true) exited 0 in 112ms:
Success. Updated the following files:
A .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..5bd426ff15afecfef9928f6609624c7b6054eaea
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
@@ -0,0 +1,34 @@
+# Fix Plan: workflow:init
+
+## P0 (Must)
+
+1. Docs: update `.claude/commands/workflow/init.md` frontmatter to include required fields
+   - Add `allowed-tools` and `group` while keeping existing `name/description/argument-hint/examples`.
+   - Verify:
+     - `rg "^allowed-tools:" .claude/commands/workflow/init.md`
+     - `rg "^group:" .claude/commands/workflow/init.md`
+
+2. Safety: make regeneration behavior unambiguous in the command doc
+   - Ensure `--regenerate` is the only path that overwrites `project-tech.json`, and that backup happens first.
+   - Verify:
+     - `rg "project-tech\\.json\\.backup" .claude/commands/workflow/init.md`
+     - `rg "--regenerate" .claude/commands/workflow/init.md`
+
+3. Evidence gate (outliner outputs): keep evidence tables passing
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md`
+
+## P1 (Should)
+
+4. Docs structure: add explicit `Inputs` + `Outputs / Artifacts` sections to `.claude/commands/workflow/init.md`
+   - Keep the content minimal and consistent with the existing flow.
+   - Verify:
+     - `rg "^## Inputs" .claude/commands/workflow/init.md`
+     - `rg "^## Outputs" .claude/commands/workflow/init.md`
+
+5. UX: clarify next steps after init completes
+   - If guidelines are empty, offer ‚Äúconfigure now‚Äù vs ‚Äúskip‚Äù and point to `/workflow:init-guidelines` when skipping.
+   - Verify:
+     - `rg "/workflow:init-guidelines" .claude/commands/workflow/init.md`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..69f4bc959dd6f01fd2ce619a986766bafb509e63
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
@@ -0,0 +1,55 @@
+# Gap Report: workflow:init
+
+## Reference
+
+- Selected reference: /workflow:init (`.claude/commands/workflow/init.md`)
+
+## P0 Gaps (Must Fix)
+
+- `allowed-tools` + `group` missing from the oracle frontmatter; required by CCW quality gates for tool-surface safety.
+- ‚ÄúExisting vs Planned‚Äù evidence tables do not exist in the oracle (acceptable historically), but are required for this outliner output; ensure any ‚ÄúExisting‚Äù pointers in future updates remain repo-verifiable.
+
+## P1 Gaps (Should Fix)
+
+- Oracle doc embeds inputs/outputs implicitly in prose; the generated outline adds explicit `Inputs` and `Outputs / Artifacts` sections for consistency with other workflow commands.
+- Regeneration behavior is described, but could be made more ‚Äúchecklist-like‚Äù (preconditions + backup + overwrite rules) to reduce accidental destructive runs.
+
+## P2 Gaps (Optional)
+
+- Add a short ‚ÄúNext steps‚Äù snippet that points users to `/workflow:init-guidelines` (or dashboard navigation) after init completes.
+
+## Implementation Pointers (Evidence)
+
+You MUST provide an evidence table for all key implementation pointers mentioned in the outlines.
+
+Rules (P0):
+- Every pointer MUST be labeled `Existing` or `Planned`.
+- `Existing` MUST be verifiable (path exists). Include a concrete `Verify` command for each existing pointer.
+- Do NOT describe `Planned` pointers as ‚Äúvalidated/exists‚Äù.
+- Evidence MUST reference BOTH sources somewhere in this section:
+  - command docs: `.claude/commands/**.md` (section heading is enough)
+  - TypeScript implementation: `ccw/src/**` (function name / subcommand case / ripgrep-able string)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Command oracle and canonical behavior reference. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Follow-up wizard for populating `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by analysis to enumerate modules/structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-tech.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads `.workflow/project-tech.json` + `.workflow/project-guidelines.json` for dashboard/workflow data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI expects init artifacts and prompts `/workflow:init` when missing. |
+
+## Implementation Hints (Tooling/Server)
+
+- The CCW dashboard/aggregator loads `.workflow/project-tech.json` and `.workflow/project-guidelines.json`; keeping schema stability reduces downstream rendering errors.
+- Prefer `ccw tool exec get_modules_by_depth` as the stable, repo-supported structure enumerator for delegated analysis.
+
+## Proposed Fix Plan (Minimal)
+
+1. Update `.claude/commands/workflow/init.md` frontmatter to add:
+   - `allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)`
+   - `group: workflow`
+2. Add explicit `Inputs` and `Outputs / Artifacts` sections (keep contents aligned with the oracle flow).
+3. Make `--regenerate` safety explicit:
+   - backup before overwrite; do not overwrite without flag.
+4. Ensure the ‚Äúask to configure guidelines‚Äù branch only runs when guidelines are not populated, and the skip branch provides next-step commands.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..7d3cfd00b279fcd20b78d8c312bf40a4ac605b29
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,40 @@
+# Agent Outline: workflow:init
+
+## Purpose
+
+Implement and/or evolve `/workflow:init` to initialize project-level `.workflow/*` state (tech analysis + guidelines scaffold) using CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Evidence-based: use repo-verifiable pointers (docs headings + `ccw/src/**` anchors) for any ‚ÄúExisting‚Äù claims
+- Delegation: use `Task(cli-explore-agent)` for deep project analysis; keep orchestrator logic thin
+
+## State & Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (+ `.workflow/project-tech.json.backup` when `--regenerate`)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be filled by the follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-guidelines.json`
+
+## Tooling
+
+- Allowed tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+- Non-negotiables:
+  - no unrelated changes
+  - never claim ‚ÄúExisting‚Äù without verifiable evidence
+
+## Validation Strategy
+
+- P0 gates:
+  - frontmatter completeness + allowed-tools correctness
+  - core sections present (Overview/Usage/Execution Process/Outputs/Error Handling)
+  - artifact references are consistent (no missing paths)
+  - evidence tables pass: `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Behavior checks:
+  - idempotent when `.workflow/project-tech.json` + `.workflow/project-guidelines.json` already exist (no `--regenerate`)
+  - safe regeneration: backup before overwrite
+  - interactive branch only when guidelines are unpopulated
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..27640cd13c6076d2d9e983c751b3621de1469aed
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,109 @@
+---
+name: init
+description: Initialize project-level state with intelligent project analysis using cli-explore-agent
+argument-hint: "[--regenerate]"
+allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+group: workflow
+---
+
+# Workflow Init Command (/workflow:init)
+
+## Overview
+
+- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
+- Command: `/workflow:init`
+
+## Usage
+
+```bash
+/workflow:init [--regenerate]
+```
+
+## Inputs
+
+- Required inputs:
+  - none
+- Optional inputs:
+  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json` (existence check)
+  - `.workflow/project-guidelines.json` (existence + populated check)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/init.md`
+- Likely code locations:
+  - `.claude/commands/workflow/init-guidelines.md`
+  - `ccw/src/tools/get-modules-by-depth.ts`
+  - `ccw/src/core/data-aggregator.ts`
+  - `ccw/src/templates/dashboard-js/views/project-overview.js`
+
+### Evidence (Existing vs Planned)
+
+You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).
+
+Rules:
+- `Existing` MUST include evidence from BOTH:
+  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
+  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
+- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |
+
+Notes:
+- Use one row per pointer.
+- For TS evidence, anchors must be literal substrings present in the referenced file.
+
+## Execution Process
+
+1. Parse input
+   - Set `regenerate = true` iff `--regenerate` is present.
+2. Check existing state
+   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
+   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
+3. Get project metadata (best-effort)
+   - Determine project name (git root basename if available; fallback to current directory basename).
+   - Ensure `.workflow/` exists.
+4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
+   - In the delegated prompt, require:
+     - schema read (project-tech schema)
+     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
+     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
+5. Create guidelines scaffold (if not exists)
+   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
+6. Display summary
+   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
+7. Ask about guidelines configuration (only if guidelines are not populated)
+   - Ask user to either:
+     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
+     - skip and show next steps.
+8. Return immediately after completion
+   - If invoked by another workflow command, do not block; return control to caller.
+
+## Error Handling
+
+- If git metadata lookup fails: continue with cwd-based project name/root.
+- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
+- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
+- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.
+
+## Examples
+
+```bash
+/workflow:init
+/workflow:init --regenerate
+```
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..5bd426ff15afecfef9928f6609624c7b6054eaea
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
@@ -0,0 +1,34 @@
+# Fix Plan: workflow:init
+
+## P0 (Must)
+
+1. Docs: update `.claude/commands/workflow/init.md` frontmatter to include required fields
+   - Add `allowed-tools` and `group` while keeping existing `name/description/argument-hint/examples`.
+   - Verify:
+     - `rg "^allowed-tools:" .claude/commands/workflow/init.md`
+     - `rg "^group:" .claude/commands/workflow/init.md`
+
+2. Safety: make regeneration behavior unambiguous in the command doc
+   - Ensure `--regenerate` is the only path that overwrites `project-tech.json`, and that backup happens first.
+   - Verify:
+     - `rg "project-tech\\.json\\.backup" .claude/commands/workflow/init.md`
+     - `rg "--regenerate" .claude/commands/workflow/init.md`
+
+3. Evidence gate (outliner outputs): keep evidence tables passing
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md`
+
+## P1 (Should)
+
+4. Docs structure: add explicit `Inputs` + `Outputs / Artifacts` sections to `.claude/commands/workflow/init.md`
+   - Keep the content minimal and consistent with the existing flow.
+   - Verify:
+     - `rg "^## Inputs" .claude/commands/workflow/init.md`
+     - `rg "^## Outputs" .claude/commands/workflow/init.md`
+
+5. UX: clarify next steps after init completes
+   - If guidelines are empty, offer ‚Äúconfigure now‚Äù vs ‚Äúskip‚Äù and point to `/workflow:init-guidelines` when skipping.
+   - Verify:
+     - `rg "/workflow:init-guidelines" .claude/commands/workflow/init.md`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..69f4bc959dd6f01fd2ce619a986766bafb509e63
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
@@ -0,0 +1,55 @@
+# Gap Report: workflow:init
+
+## Reference
+
+- Selected reference: /workflow:init (`.claude/commands/workflow/init.md`)
+
+## P0 Gaps (Must Fix)
+
+- `allowed-tools` + `group` missing from the oracle frontmatter; required by CCW quality gates for tool-surface safety.
+- ‚ÄúExisting vs Planned‚Äù evidence tables do not exist in the oracle (acceptable historically), but are required for this outliner output; ensure any ‚ÄúExisting‚Äù pointers in future updates remain repo-verifiable.
+
+## P1 Gaps (Should Fix)
+
+- Oracle doc embeds inputs/outputs implicitly in prose; the generated outline adds explicit `Inputs` and `Outputs / Artifacts` sections for consistency with other workflow commands.
+- Regeneration behavior is described, but could be made more ‚Äúchecklist-like‚Äù (preconditions + backup + overwrite rules) to reduce accidental destructive runs.
+
+## P2 Gaps (Optional)
+
+- Add a short ‚ÄúNext steps‚Äù snippet that points users to `/workflow:init-guidelines` (or dashboard navigation) after init completes.
+
+## Implementation Pointers (Evidence)
+
+You MUST provide an evidence table for all key implementation pointers mentioned in the outlines.
+
+Rules (P0):
+- Every pointer MUST be labeled `Existing` or `Planned`.
+- `Existing` MUST be verifiable (path exists). Include a concrete `Verify` command for each existing pointer.
+- Do NOT describe `Planned` pointers as ‚Äúvalidated/exists‚Äù.
+- Evidence MUST reference BOTH sources somewhere in this section:
+  - command docs: `.claude/commands/**.md` (section heading is enough)
+  - TypeScript implementation: `ccw/src/**` (function name / subcommand case / ripgrep-able string)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Command oracle and canonical behavior reference. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Follow-up wizard for populating `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by analysis to enumerate modules/structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-tech.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads `.workflow/project-tech.json` + `.workflow/project-guidelines.json` for dashboard/workflow data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI expects init artifacts and prompts `/workflow:init` when missing. |
+
+## Implementation Hints (Tooling/Server)
+
+- The CCW dashboard/aggregator loads `.workflow/project-tech.json` and `.workflow/project-guidelines.json`; keeping schema stability reduces downstream rendering errors.
+- Prefer `ccw tool exec get_modules_by_depth` as the stable, repo-supported structure enumerator for delegated analysis.
+
+## Proposed Fix Plan (Minimal)
+
+1. Update `.claude/commands/workflow/init.md` frontmatter to add:
+   - `allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)`
+   - `group: workflow`
+2. Add explicit `Inputs` and `Outputs / Artifacts` sections (keep contents aligned with the oracle flow).
+3. Make `--regenerate` safety explicit:
+   - backup before overwrite; do not overwrite without flag.
+4. Ensure the ‚Äúask to configure guidelines‚Äù branch only runs when guidelines are not populated, and the skip branch provides next-step commands.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..7d3cfd00b279fcd20b78d8c312bf40a4ac605b29
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,40 @@
+# Agent Outline: workflow:init
+
+## Purpose
+
+Implement and/or evolve `/workflow:init` to initialize project-level `.workflow/*` state (tech analysis + guidelines scaffold) using CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Evidence-based: use repo-verifiable pointers (docs headings + `ccw/src/**` anchors) for any ‚ÄúExisting‚Äù claims
+- Delegation: use `Task(cli-explore-agent)` for deep project analysis; keep orchestrator logic thin
+
+## State & Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (+ `.workflow/project-tech.json.backup` when `--regenerate`)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be filled by the follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-guidelines.json`
+
+## Tooling
+
+- Allowed tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+- Non-negotiables:
+  - no unrelated changes
+  - never claim ‚ÄúExisting‚Äù without verifiable evidence
+
+## Validation Strategy
+
+- P0 gates:
+  - frontmatter completeness + allowed-tools correctness
+  - core sections present (Overview/Usage/Execution Process/Outputs/Error Handling)
+  - artifact references are consistent (no missing paths)
+  - evidence tables pass: `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Behavior checks:
+  - idempotent when `.workflow/project-tech.json` + `.workflow/project-guidelines.json` already exist (no `--regenerate`)
+  - safe regeneration: backup before overwrite
+  - interactive branch only when guidelines are unpopulated
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..27640cd13c6076d2d9e983c751b3621de1469aed
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,109 @@
+---
+name: init
+description: Initialize project-level state with intelligent project analysis using cli-explore-agent
+argument-hint: "[--regenerate]"
+allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+group: workflow
+---
+
+# Workflow Init Command (/workflow:init)
+
+## Overview
+
+- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
+- Command: `/workflow:init`
+
+## Usage
+
+```bash
+/workflow:init [--regenerate]
+```
+
+## Inputs
+
+- Required inputs:
+  - none
+- Optional inputs:
+  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json` (existence check)
+  - `.workflow/project-guidelines.json` (existence + populated check)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/init.md`
+- Likely code locations:
+  - `.claude/commands/workflow/init-guidelines.md`
+  - `ccw/src/tools/get-modules-by-depth.ts`
+  - `ccw/src/core/data-aggregator.ts`
+  - `ccw/src/templates/dashboard-js/views/project-overview.js`
+
+### Evidence (Existing vs Planned)
+
+You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).
+
+Rules:
+- `Existing` MUST include evidence from BOTH:
+  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
+  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
+- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |
+
+Notes:
+- Use one row per pointer.
+- For TS evidence, anchors must be literal substrings present in the referenced file.
+
+## Execution Process
+
+1. Parse input
+   - Set `regenerate = true` iff `--regenerate` is present.
+2. Check existing state
+   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
+   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
+3. Get project metadata (best-effort)
+   - Determine project name (git root basename if available; fallback to current directory basename).
+   - Ensure `.workflow/` exists.
+4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
+   - In the delegated prompt, require:
+     - schema read (project-tech schema)
+     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
+     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
+5. Create guidelines scaffold (if not exists)
+   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
+6. Display summary
+   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
+7. Ask about guidelines configuration (only if guidelines are not populated)
+   - Ask user to either:
+     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
+     - skip and show next steps.
+8. Return immediately after completion
+   - If invoked by another workflow command, do not block; return control to caller.
+
+## Error Handling
+
+- If git metadata lookup fails: continue with cwd-based project name/root.
+- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
+- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
+- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.
+
+## Examples
+
+```bash
+/workflow:init
+/workflow:init --regenerate
+```
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

Plan update
  ‚úì Read skill rules/templates and CMD-037 requirements; identify oracle and required outputs
  ‚úì Collect repo evidence (docs headings + ccw/src anchors) for all implementation pointers
  ‚úì Write spec.json and references.json (non-leaky) following skill schemas
  ‚úì Generate generated-slash-outline.md and generated-agent-outline.md using templates; include evidence table rows for each pointer
  ‚úì Write gap-report.md and fix-plan.md; ensure evidence table satisfies dual-source rules
  ‚Üí Run deterministic gate: verify-evidence.js on generated-slash-outline.md and gap-report.md; iterate until passing
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..5bd426ff15afecfef9928f6609624c7b6054eaea
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
@@ -0,0 +1,34 @@
+# Fix Plan: workflow:init
+
+## P0 (Must)
+
+1. Docs: update `.claude/commands/workflow/init.md` frontmatter to include required fields
+   - Add `allowed-tools` and `group` while keeping existing `name/description/argument-hint/examples`.
+   - Verify:
+     - `rg "^allowed-tools:" .claude/commands/workflow/init.md`
+     - `rg "^group:" .claude/commands/workflow/init.md`
+
+2. Safety: make regeneration behavior unambiguous in the command doc
+   - Ensure `--regenerate` is the only path that overwrites `project-tech.json`, and that backup happens first.
+   - Verify:
+     - `rg "project-tech\\.json\\.backup" .claude/commands/workflow/init.md`
+     - `rg "--regenerate" .claude/commands/workflow/init.md`
+
+3. Evidence gate (outliner outputs): keep evidence tables passing
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md`
+
+## P1 (Should)
+
+4. Docs structure: add explicit `Inputs` + `Outputs / Artifacts` sections to `.claude/commands/workflow/init.md`
+   - Keep the content minimal and consistent with the existing flow.
+   - Verify:
+     - `rg "^## Inputs" .claude/commands/workflow/init.md`
+     - `rg "^## Outputs" .claude/commands/workflow/init.md`
+
+5. UX: clarify next steps after init completes
+   - If guidelines are empty, offer ‚Äúconfigure now‚Äù vs ‚Äúskip‚Äù and point to `/workflow:init-guidelines` when skipping.
+   - Verify:
+     - `rg "/workflow:init-guidelines" .claude/commands/workflow/init.md`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..69f4bc959dd6f01fd2ce619a986766bafb509e63
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
@@ -0,0 +1,55 @@
+# Gap Report: workflow:init
+
+## Reference
+
+- Selected reference: /workflow:init (`.claude/commands/workflow/init.md`)
+
+## P0 Gaps (Must Fix)
+
+- `allowed-tools` + `group` missing from the oracle frontmatter; required by CCW quality gates for tool-surface safety.
+- ‚ÄúExisting vs Planned‚Äù evidence tables do not exist in the oracle (acceptable historically), but are required for this outliner output; ensure any ‚ÄúExisting‚Äù pointers in future updates remain repo-verifiable.
+
+## P1 Gaps (Should Fix)
+
+- Oracle doc embeds inputs/outputs implicitly in prose; the generated outline adds explicit `Inputs` and `Outputs / Artifacts` sections for consistency with other workflow commands.
+- Regeneration behavior is described, but could be made more ‚Äúchecklist-like‚Äù (preconditions + backup + overwrite rules) to reduce accidental destructive runs.
+
+## P2 Gaps (Optional)
+
+- Add a short ‚ÄúNext steps‚Äù snippet that points users to `/workflow:init-guidelines` (or dashboard navigation) after init completes.
+
+## Implementation Pointers (Evidence)
+
+You MUST provide an evidence table for all key implementation pointers mentioned in the outlines.
+
+Rules (P0):
+- Every pointer MUST be labeled `Existing` or `Planned`.
+- `Existing` MUST be verifiable (path exists). Include a concrete `Verify` command for each existing pointer.
+- Do NOT describe `Planned` pointers as ‚Äúvalidated/exists‚Äù.
+- Evidence MUST reference BOTH sources somewhere in this section:
+  - command docs: `.claude/commands/**.md` (section heading is enough)
+  - TypeScript implementation: `ccw/src/**` (function name / subcommand case / ripgrep-able string)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Command oracle and canonical behavior reference. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Follow-up wizard for populating `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by analysis to enumerate modules/structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-tech.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads `.workflow/project-tech.json` + `.workflow/project-guidelines.json` for dashboard/workflow data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI expects init artifacts and prompts `/workflow:init` when missing. |
+
+## Implementation Hints (Tooling/Server)
+
+- The CCW dashboard/aggregator loads `.workflow/project-tech.json` and `.workflow/project-guidelines.json`; keeping schema stability reduces downstream rendering errors.
+- Prefer `ccw tool exec get_modules_by_depth` as the stable, repo-supported structure enumerator for delegated analysis.
+
+## Proposed Fix Plan (Minimal)
+
+1. Update `.claude/commands/workflow/init.md` frontmatter to add:
+   - `allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)`
+   - `group: workflow`
+2. Add explicit `Inputs` and `Outputs / Artifacts` sections (keep contents aligned with the oracle flow).
+3. Make `--regenerate` safety explicit:
+   - backup before overwrite; do not overwrite without flag.
+4. Ensure the ‚Äúask to configure guidelines‚Äù branch only runs when guidelines are not populated, and the skip branch provides next-step commands.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..7d3cfd00b279fcd20b78d8c312bf40a4ac605b29
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,40 @@
+# Agent Outline: workflow:init
+
+## Purpose
+
+Implement and/or evolve `/workflow:init` to initialize project-level `.workflow/*` state (tech analysis + guidelines scaffold) using CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Evidence-based: use repo-verifiable pointers (docs headings + `ccw/src/**` anchors) for any ‚ÄúExisting‚Äù claims
+- Delegation: use `Task(cli-explore-agent)` for deep project analysis; keep orchestrator logic thin
+
+## State & Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (+ `.workflow/project-tech.json.backup` when `--regenerate`)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be filled by the follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-guidelines.json`
+
+## Tooling
+
+- Allowed tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+- Non-negotiables:
+  - no unrelated changes
+  - never claim ‚ÄúExisting‚Äù without verifiable evidence
+
+## Validation Strategy
+
+- P0 gates:
+  - frontmatter completeness + allowed-tools correctness
+  - core sections present (Overview/Usage/Execution Process/Outputs/Error Handling)
+  - artifact references are consistent (no missing paths)
+  - evidence tables pass: `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Behavior checks:
+  - idempotent when `.workflow/project-tech.json` + `.workflow/project-guidelines.json` already exist (no `--regenerate`)
+  - safe regeneration: backup before overwrite
+  - interactive branch only when guidelines are unpopulated
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..27640cd13c6076d2d9e983c751b3621de1469aed
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,109 @@
+---
+name: init
+description: Initialize project-level state with intelligent project analysis using cli-explore-agent
+argument-hint: "[--regenerate]"
+allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+group: workflow
+---
+
+# Workflow Init Command (/workflow:init)
+
+## Overview
+
+- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
+- Command: `/workflow:init`
+
+## Usage
+
+```bash
+/workflow:init [--regenerate]
+```
+
+## Inputs
+
+- Required inputs:
+  - none
+- Optional inputs:
+  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json` (existence check)
+  - `.workflow/project-guidelines.json` (existence + populated check)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/init.md`
+- Likely code locations:
+  - `.claude/commands/workflow/init-guidelines.md`
+  - `ccw/src/tools/get-modules-by-depth.ts`
+  - `ccw/src/core/data-aggregator.ts`
+  - `ccw/src/templates/dashboard-js/views/project-overview.js`
+
+### Evidence (Existing vs Planned)
+
+You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).
+
+Rules:
+- `Existing` MUST include evidence from BOTH:
+  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
+  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
+- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |
+
+Notes:
+- Use one row per pointer.
+- For TS evidence, anchors must be literal substrings present in the referenced file.
+
+## Execution Process
+
+1. Parse input
+   - Set `regenerate = true` iff `--regenerate` is present.
+2. Check existing state
+   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
+   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
+3. Get project metadata (best-effort)
+   - Determine project name (git root basename if available; fallback to current directory basename).
+   - Ensure `.workflow/` exists.
+4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
+   - In the delegated prompt, require:
+     - schema read (project-tech schema)
+     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
+     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
+5. Create guidelines scaffold (if not exists)
+   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
+6. Display summary
+   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
+7. Ask about guidelines configuration (only if guidelines are not populated)
+   - Ask user to either:
+     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
+     - skip and show next steps.
+8. Return immediately after completion
+   - If invoked by another workflow command, do not block; return control to caller.
+
+## Error Handling
+
+- If git metadata lookup fails: continue with cwd-based project name/root.
+- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
+- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
+- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.
+
+## Examples
+
+```bash
+/workflow:init
+/workflow:init --regenerate
+```
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+


thinking
**Running verification processes**

I need to run a deterministic evidence gate using the `node verify-evidence.js` command on the files I've generated. I should use a shell command for that and opt for direct binary calls to run `node` directly. Even though it‚Äôs not strictly necessary, I'll include the encoding preamble. I‚Äôll ensure that I‚Äôm executing this in the root of the repository and plan to run both commands as needed. Let's get started!
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null
Set-Location '"'C:\\Project\\Claude-Code-Workflow'

node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
" in C:\Project\Claude-Code-Workflow succeeded in 400ms:
OK: evidence verification passed
OK: evidence verification passed
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..5bd426ff15afecfef9928f6609624c7b6054eaea
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
@@ -0,0 +1,34 @@
+# Fix Plan: workflow:init
+
+## P0 (Must)
+
+1. Docs: update `.claude/commands/workflow/init.md` frontmatter to include required fields
+   - Add `allowed-tools` and `group` while keeping existing `name/description/argument-hint/examples`.
+   - Verify:
+     - `rg "^allowed-tools:" .claude/commands/workflow/init.md`
+     - `rg "^group:" .claude/commands/workflow/init.md`
+
+2. Safety: make regeneration behavior unambiguous in the command doc
+   - Ensure `--regenerate` is the only path that overwrites `project-tech.json`, and that backup happens first.
+   - Verify:
+     - `rg "project-tech\\.json\\.backup" .claude/commands/workflow/init.md`
+     - `rg "--regenerate" .claude/commands/workflow/init.md`
+
+3. Evidence gate (outliner outputs): keep evidence tables passing
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md`
+
+## P1 (Should)
+
+4. Docs structure: add explicit `Inputs` + `Outputs / Artifacts` sections to `.claude/commands/workflow/init.md`
+   - Keep the content minimal and consistent with the existing flow.
+   - Verify:
+     - `rg "^## Inputs" .claude/commands/workflow/init.md`
+     - `rg "^## Outputs" .claude/commands/workflow/init.md`
+
+5. UX: clarify next steps after init completes
+   - If guidelines are empty, offer ‚Äúconfigure now‚Äù vs ‚Äúskip‚Äù and point to `/workflow:init-guidelines` when skipping.
+   - Verify:
+     - `rg "/workflow:init-guidelines" .claude/commands/workflow/init.md`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..69f4bc959dd6f01fd2ce619a986766bafb509e63
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
@@ -0,0 +1,55 @@
+# Gap Report: workflow:init
+
+## Reference
+
+- Selected reference: /workflow:init (`.claude/commands/workflow/init.md`)
+
+## P0 Gaps (Must Fix)
+
+- `allowed-tools` + `group` missing from the oracle frontmatter; required by CCW quality gates for tool-surface safety.
+- ‚ÄúExisting vs Planned‚Äù evidence tables do not exist in the oracle (acceptable historically), but are required for this outliner output; ensure any ‚ÄúExisting‚Äù pointers in future updates remain repo-verifiable.
+
+## P1 Gaps (Should Fix)
+
+- Oracle doc embeds inputs/outputs implicitly in prose; the generated outline adds explicit `Inputs` and `Outputs / Artifacts` sections for consistency with other workflow commands.
+- Regeneration behavior is described, but could be made more ‚Äúchecklist-like‚Äù (preconditions + backup + overwrite rules) to reduce accidental destructive runs.
+
+## P2 Gaps (Optional)
+
+- Add a short ‚ÄúNext steps‚Äù snippet that points users to `/workflow:init-guidelines` (or dashboard navigation) after init completes.
+
+## Implementation Pointers (Evidence)
+
+You MUST provide an evidence table for all key implementation pointers mentioned in the outlines.
+
+Rules (P0):
+- Every pointer MUST be labeled `Existing` or `Planned`.
+- `Existing` MUST be verifiable (path exists). Include a concrete `Verify` command for each existing pointer.
+- Do NOT describe `Planned` pointers as ‚Äúvalidated/exists‚Äù.
+- Evidence MUST reference BOTH sources somewhere in this section:
+  - command docs: `.claude/commands/**.md` (section heading is enough)
+  - TypeScript implementation: `ccw/src/**` (function name / subcommand case / ripgrep-able string)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Command oracle and canonical behavior reference. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Follow-up wizard for populating `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by analysis to enumerate modules/structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-tech.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads `.workflow/project-tech.json` + `.workflow/project-guidelines.json` for dashboard/workflow data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI expects init artifacts and prompts `/workflow:init` when missing. |
+
+## Implementation Hints (Tooling/Server)
+
+- The CCW dashboard/aggregator loads `.workflow/project-tech.json` and `.workflow/project-guidelines.json`; keeping schema stability reduces downstream rendering errors.
+- Prefer `ccw tool exec get_modules_by_depth` as the stable, repo-supported structure enumerator for delegated analysis.
+
+## Proposed Fix Plan (Minimal)
+
+1. Update `.claude/commands/workflow/init.md` frontmatter to add:
+   - `allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)`
+   - `group: workflow`
+2. Add explicit `Inputs` and `Outputs / Artifacts` sections (keep contents aligned with the oracle flow).
+3. Make `--regenerate` safety explicit:
+   - backup before overwrite; do not overwrite without flag.
+4. Ensure the ‚Äúask to configure guidelines‚Äù branch only runs when guidelines are not populated, and the skip branch provides next-step commands.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..7d3cfd00b279fcd20b78d8c312bf40a4ac605b29
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,40 @@
+# Agent Outline: workflow:init
+
+## Purpose
+
+Implement and/or evolve `/workflow:init` to initialize project-level `.workflow/*` state (tech analysis + guidelines scaffold) using CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Evidence-based: use repo-verifiable pointers (docs headings + `ccw/src/**` anchors) for any ‚ÄúExisting‚Äù claims
+- Delegation: use `Task(cli-explore-agent)` for deep project analysis; keep orchestrator logic thin
+
+## State & Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (+ `.workflow/project-tech.json.backup` when `--regenerate`)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be filled by the follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-guidelines.json`
+
+## Tooling
+
+- Allowed tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+- Non-negotiables:
+  - no unrelated changes
+  - never claim ‚ÄúExisting‚Äù without verifiable evidence
+
+## Validation Strategy
+
+- P0 gates:
+  - frontmatter completeness + allowed-tools correctness
+  - core sections present (Overview/Usage/Execution Process/Outputs/Error Handling)
+  - artifact references are consistent (no missing paths)
+  - evidence tables pass: `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Behavior checks:
+  - idempotent when `.workflow/project-tech.json` + `.workflow/project-guidelines.json` already exist (no `--regenerate`)
+  - safe regeneration: backup before overwrite
+  - interactive branch only when guidelines are unpopulated
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..27640cd13c6076d2d9e983c751b3621de1469aed
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,109 @@
+---
+name: init
+description: Initialize project-level state with intelligent project analysis using cli-explore-agent
+argument-hint: "[--regenerate]"
+allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+group: workflow
+---
+
+# Workflow Init Command (/workflow:init)
+
+## Overview
+
+- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
+- Command: `/workflow:init`
+
+## Usage
+
+```bash
+/workflow:init [--regenerate]
+```
+
+## Inputs
+
+- Required inputs:
+  - none
+- Optional inputs:
+  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json` (existence check)
+  - `.workflow/project-guidelines.json` (existence + populated check)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/init.md`
+- Likely code locations:
+  - `.claude/commands/workflow/init-guidelines.md`
+  - `ccw/src/tools/get-modules-by-depth.ts`
+  - `ccw/src/core/data-aggregator.ts`
+  - `ccw/src/templates/dashboard-js/views/project-overview.js`
+
+### Evidence (Existing vs Planned)
+
+You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).
+
+Rules:
+- `Existing` MUST include evidence from BOTH:
+  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
+  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
+- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |
+
+Notes:
+- Use one row per pointer.
+- For TS evidence, anchors must be literal substrings present in the referenced file.
+
+## Execution Process
+
+1. Parse input
+   - Set `regenerate = true` iff `--regenerate` is present.
+2. Check existing state
+   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
+   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
+3. Get project metadata (best-effort)
+   - Determine project name (git root basename if available; fallback to current directory basename).
+   - Ensure `.workflow/` exists.
+4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
+   - In the delegated prompt, require:
+     - schema read (project-tech schema)
+     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
+     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
+5. Create guidelines scaffold (if not exists)
+   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
+6. Display summary
+   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
+7. Ask about guidelines configuration (only if guidelines are not populated)
+   - Ask user to either:
+     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
+     - skip and show next steps.
+8. Return immediately after completion
+   - If invoked by another workflow command, do not block; return control to caller.
+
+## Error Handling
+
+- If git metadata lookup fails: continue with cwd-based project name/root.
+- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
+- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
+- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.
+
+## Examples
+
+```bash
+/workflow:init
+/workflow:init --regenerate
+```
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

Plan update
  ‚úì Read skill rules/templates and CMD-037 requirements; identify oracle and required outputs
  ‚úì Collect repo evidence (docs headings + ccw/src anchors) for all implementation pointers
  ‚úì Write spec.json and references.json (non-leaky) following skill schemas
  ‚úì Generate generated-slash-outline.md and generated-agent-outline.md using templates; include evidence table rows for each pointer
  ‚úì Write gap-report.md and fix-plan.md; ensure evidence table satisfies dual-source rules
  ‚úì Run deterministic gate: verify-evidence.js on generated-slash-outline.md and gap-report.md; iterate until passing
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..5bd426ff15afecfef9928f6609624c7b6054eaea
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
@@ -0,0 +1,34 @@
+# Fix Plan: workflow:init
+
+## P0 (Must)
+
+1. Docs: update `.claude/commands/workflow/init.md` frontmatter to include required fields
+   - Add `allowed-tools` and `group` while keeping existing `name/description/argument-hint/examples`.
+   - Verify:
+     - `rg "^allowed-tools:" .claude/commands/workflow/init.md`
+     - `rg "^group:" .claude/commands/workflow/init.md`
+
+2. Safety: make regeneration behavior unambiguous in the command doc
+   - Ensure `--regenerate` is the only path that overwrites `project-tech.json`, and that backup happens first.
+   - Verify:
+     - `rg "project-tech\\.json\\.backup" .claude/commands/workflow/init.md`
+     - `rg "--regenerate" .claude/commands/workflow/init.md`
+
+3. Evidence gate (outliner outputs): keep evidence tables passing
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md`
+
+## P1 (Should)
+
+4. Docs structure: add explicit `Inputs` + `Outputs / Artifacts` sections to `.claude/commands/workflow/init.md`
+   - Keep the content minimal and consistent with the existing flow.
+   - Verify:
+     - `rg "^## Inputs" .claude/commands/workflow/init.md`
+     - `rg "^## Outputs" .claude/commands/workflow/init.md`
+
+5. UX: clarify next steps after init completes
+   - If guidelines are empty, offer ‚Äúconfigure now‚Äù vs ‚Äúskip‚Äù and point to `/workflow:init-guidelines` when skipping.
+   - Verify:
+     - `rg "/workflow:init-guidelines" .claude/commands/workflow/init.md`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..69f4bc959dd6f01fd2ce619a986766bafb509e63
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
@@ -0,0 +1,55 @@
+# Gap Report: workflow:init
+
+## Reference
+
+- Selected reference: /workflow:init (`.claude/commands/workflow/init.md`)
+
+## P0 Gaps (Must Fix)
+
+- `allowed-tools` + `group` missing from the oracle frontmatter; required by CCW quality gates for tool-surface safety.
+- ‚ÄúExisting vs Planned‚Äù evidence tables do not exist in the oracle (acceptable historically), but are required for this outliner output; ensure any ‚ÄúExisting‚Äù pointers in future updates remain repo-verifiable.
+
+## P1 Gaps (Should Fix)
+
+- Oracle doc embeds inputs/outputs implicitly in prose; the generated outline adds explicit `Inputs` and `Outputs / Artifacts` sections for consistency with other workflow commands.
+- Regeneration behavior is described, but could be made more ‚Äúchecklist-like‚Äù (preconditions + backup + overwrite rules) to reduce accidental destructive runs.
+
+## P2 Gaps (Optional)
+
+- Add a short ‚ÄúNext steps‚Äù snippet that points users to `/workflow:init-guidelines` (or dashboard navigation) after init completes.
+
+## Implementation Pointers (Evidence)
+
+You MUST provide an evidence table for all key implementation pointers mentioned in the outlines.
+
+Rules (P0):
+- Every pointer MUST be labeled `Existing` or `Planned`.
+- `Existing` MUST be verifiable (path exists). Include a concrete `Verify` command for each existing pointer.
+- Do NOT describe `Planned` pointers as ‚Äúvalidated/exists‚Äù.
+- Evidence MUST reference BOTH sources somewhere in this section:
+  - command docs: `.claude/commands/**.md` (section heading is enough)
+  - TypeScript implementation: `ccw/src/**` (function name / subcommand case / ripgrep-able string)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Command oracle and canonical behavior reference. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Follow-up wizard for populating `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by analysis to enumerate modules/structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-tech.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads `.workflow/project-tech.json` + `.workflow/project-guidelines.json` for dashboard/workflow data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI expects init artifacts and prompts `/workflow:init` when missing. |
+
+## Implementation Hints (Tooling/Server)
+
+- The CCW dashboard/aggregator loads `.workflow/project-tech.json` and `.workflow/project-guidelines.json`; keeping schema stability reduces downstream rendering errors.
+- Prefer `ccw tool exec get_modules_by_depth` as the stable, repo-supported structure enumerator for delegated analysis.
+
+## Proposed Fix Plan (Minimal)
+
+1. Update `.claude/commands/workflow/init.md` frontmatter to add:
+   - `allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)`
+   - `group: workflow`
+2. Add explicit `Inputs` and `Outputs / Artifacts` sections (keep contents aligned with the oracle flow).
+3. Make `--regenerate` safety explicit:
+   - backup before overwrite; do not overwrite without flag.
+4. Ensure the ‚Äúask to configure guidelines‚Äù branch only runs when guidelines are not populated, and the skip branch provides next-step commands.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..7d3cfd00b279fcd20b78d8c312bf40a4ac605b29
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,40 @@
+# Agent Outline: workflow:init
+
+## Purpose
+
+Implement and/or evolve `/workflow:init` to initialize project-level `.workflow/*` state (tech analysis + guidelines scaffold) using CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Evidence-based: use repo-verifiable pointers (docs headings + `ccw/src/**` anchors) for any ‚ÄúExisting‚Äù claims
+- Delegation: use `Task(cli-explore-agent)` for deep project analysis; keep orchestrator logic thin
+
+## State & Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (+ `.workflow/project-tech.json.backup` when `--regenerate`)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be filled by the follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-guidelines.json`
+
+## Tooling
+
+- Allowed tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+- Non-negotiables:
+  - no unrelated changes
+  - never claim ‚ÄúExisting‚Äù without verifiable evidence
+
+## Validation Strategy
+
+- P0 gates:
+  - frontmatter completeness + allowed-tools correctness
+  - core sections present (Overview/Usage/Execution Process/Outputs/Error Handling)
+  - artifact references are consistent (no missing paths)
+  - evidence tables pass: `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Behavior checks:
+  - idempotent when `.workflow/project-tech.json` + `.workflow/project-guidelines.json` already exist (no `--regenerate`)
+  - safe regeneration: backup before overwrite
+  - interactive branch only when guidelines are unpopulated
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..27640cd13c6076d2d9e983c751b3621de1469aed
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,109 @@
+---
+name: init
+description: Initialize project-level state with intelligent project analysis using cli-explore-agent
+argument-hint: "[--regenerate]"
+allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+group: workflow
+---
+
+# Workflow Init Command (/workflow:init)
+
+## Overview
+
+- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
+- Command: `/workflow:init`
+
+## Usage
+
+```bash
+/workflow:init [--regenerate]
+```
+
+## Inputs
+
+- Required inputs:
+  - none
+- Optional inputs:
+  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json` (existence check)
+  - `.workflow/project-guidelines.json` (existence + populated check)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/init.md`
+- Likely code locations:
+  - `.claude/commands/workflow/init-guidelines.md`
+  - `ccw/src/tools/get-modules-by-depth.ts`
+  - `ccw/src/core/data-aggregator.ts`
+  - `ccw/src/templates/dashboard-js/views/project-overview.js`
+
+### Evidence (Existing vs Planned)
+
+You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).
+
+Rules:
+- `Existing` MUST include evidence from BOTH:
+  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
+  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
+- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |
+
+Notes:
+- Use one row per pointer.
+- For TS evidence, anchors must be literal substrings present in the referenced file.
+
+## Execution Process
+
+1. Parse input
+   - Set `regenerate = true` iff `--regenerate` is present.
+2. Check existing state
+   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
+   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
+3. Get project metadata (best-effort)
+   - Determine project name (git root basename if available; fallback to current directory basename).
+   - Ensure `.workflow/` exists.
+4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
+   - In the delegated prompt, require:
+     - schema read (project-tech schema)
+     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
+     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
+5. Create guidelines scaffold (if not exists)
+   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
+6. Display summary
+   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
+7. Ask about guidelines configuration (only if guidelines are not populated)
+   - Ask user to either:
+     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
+     - skip and show next steps.
+8. Return immediately after completion
+   - If invoked by another workflow command, do not block; return control to caller.
+
+## Error Handling
+
+- If git metadata lookup fails: continue with cwd-based project name/root.
+- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
+- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
+- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.
+
+## Examples
+
+```bash
+/workflow:init
+/workflow:init --regenerate
+```
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null
Set-Location '"'C:\\Project\\Claude-Code-Workflow'

"'$dir='"'.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs'
Get-ChildItem "'$dir -File | Sort-Object Name | Format-Table -AutoSize Name,Length
' in C:\Project\Claude-Code-Workflow succeeded in 336ms:

[32;1mName                      [0m[32;1m Length[0m
[32;1m----                      [0m [32;1m------[0m
fix-plan.md                  1786
gap-report.md                4395
generated-agent-outline.md   1641
generated-slash-outline.md   6091
references.json              1710
spec.json                    1821

file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..5bd426ff15afecfef9928f6609624c7b6054eaea
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
@@ -0,0 +1,34 @@
+# Fix Plan: workflow:init
+
+## P0 (Must)
+
+1. Docs: update `.claude/commands/workflow/init.md` frontmatter to include required fields
+   - Add `allowed-tools` and `group` while keeping existing `name/description/argument-hint/examples`.
+   - Verify:
+     - `rg "^allowed-tools:" .claude/commands/workflow/init.md`
+     - `rg "^group:" .claude/commands/workflow/init.md`
+
+2. Safety: make regeneration behavior unambiguous in the command doc
+   - Ensure `--regenerate` is the only path that overwrites `project-tech.json`, and that backup happens first.
+   - Verify:
+     - `rg "project-tech\\.json\\.backup" .claude/commands/workflow/init.md`
+     - `rg "--regenerate" .claude/commands/workflow/init.md`
+
+3. Evidence gate (outliner outputs): keep evidence tables passing
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md`
+
+## P1 (Should)
+
+4. Docs structure: add explicit `Inputs` + `Outputs / Artifacts` sections to `.claude/commands/workflow/init.md`
+   - Keep the content minimal and consistent with the existing flow.
+   - Verify:
+     - `rg "^## Inputs" .claude/commands/workflow/init.md`
+     - `rg "^## Outputs" .claude/commands/workflow/init.md`
+
+5. UX: clarify next steps after init completes
+   - If guidelines are empty, offer ‚Äúconfigure now‚Äù vs ‚Äúskip‚Äù and point to `/workflow:init-guidelines` when skipping.
+   - Verify:
+     - `rg "/workflow:init-guidelines" .claude/commands/workflow/init.md`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..69f4bc959dd6f01fd2ce619a986766bafb509e63
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
@@ -0,0 +1,55 @@
+# Gap Report: workflow:init
+
+## Reference
+
+- Selected reference: /workflow:init (`.claude/commands/workflow/init.md`)
+
+## P0 Gaps (Must Fix)
+
+- `allowed-tools` + `group` missing from the oracle frontmatter; required by CCW quality gates for tool-surface safety.
+- ‚ÄúExisting vs Planned‚Äù evidence tables do not exist in the oracle (acceptable historically), but are required for this outliner output; ensure any ‚ÄúExisting‚Äù pointers in future updates remain repo-verifiable.
+
+## P1 Gaps (Should Fix)
+
+- Oracle doc embeds inputs/outputs implicitly in prose; the generated outline adds explicit `Inputs` and `Outputs / Artifacts` sections for consistency with other workflow commands.
+- Regeneration behavior is described, but could be made more ‚Äúchecklist-like‚Äù (preconditions + backup + overwrite rules) to reduce accidental destructive runs.
+
+## P2 Gaps (Optional)
+
+- Add a short ‚ÄúNext steps‚Äù snippet that points users to `/workflow:init-guidelines` (or dashboard navigation) after init completes.
+
+## Implementation Pointers (Evidence)
+
+You MUST provide an evidence table for all key implementation pointers mentioned in the outlines.
+
+Rules (P0):
+- Every pointer MUST be labeled `Existing` or `Planned`.
+- `Existing` MUST be verifiable (path exists). Include a concrete `Verify` command for each existing pointer.
+- Do NOT describe `Planned` pointers as ‚Äúvalidated/exists‚Äù.
+- Evidence MUST reference BOTH sources somewhere in this section:
+  - command docs: `.claude/commands/**.md` (section heading is enough)
+  - TypeScript implementation: `ccw/src/**` (function name / subcommand case / ripgrep-able string)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Command oracle and canonical behavior reference. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Follow-up wizard for populating `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by analysis to enumerate modules/structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-tech.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads `.workflow/project-tech.json` + `.workflow/project-guidelines.json` for dashboard/workflow data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI expects init artifacts and prompts `/workflow:init` when missing. |
+
+## Implementation Hints (Tooling/Server)
+
+- The CCW dashboard/aggregator loads `.workflow/project-tech.json` and `.workflow/project-guidelines.json`; keeping schema stability reduces downstream rendering errors.
+- Prefer `ccw tool exec get_modules_by_depth` as the stable, repo-supported structure enumerator for delegated analysis.
+
+## Proposed Fix Plan (Minimal)
+
+1. Update `.claude/commands/workflow/init.md` frontmatter to add:
+   - `allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)`
+   - `group: workflow`
+2. Add explicit `Inputs` and `Outputs / Artifacts` sections (keep contents aligned with the oracle flow).
+3. Make `--regenerate` safety explicit:
+   - backup before overwrite; do not overwrite without flag.
+4. Ensure the ‚Äúask to configure guidelines‚Äù branch only runs when guidelines are not populated, and the skip branch provides next-step commands.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..7d3cfd00b279fcd20b78d8c312bf40a4ac605b29
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,40 @@
+# Agent Outline: workflow:init
+
+## Purpose
+
+Implement and/or evolve `/workflow:init` to initialize project-level `.workflow/*` state (tech analysis + guidelines scaffold) using CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Evidence-based: use repo-verifiable pointers (docs headings + `ccw/src/**` anchors) for any ‚ÄúExisting‚Äù claims
+- Delegation: use `Task(cli-explore-agent)` for deep project analysis; keep orchestrator logic thin
+
+## State & Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (+ `.workflow/project-tech.json.backup` when `--regenerate`)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be filled by the follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-guidelines.json`
+
+## Tooling
+
+- Allowed tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+- Non-negotiables:
+  - no unrelated changes
+  - never claim ‚ÄúExisting‚Äù without verifiable evidence
+
+## Validation Strategy
+
+- P0 gates:
+  - frontmatter completeness + allowed-tools correctness
+  - core sections present (Overview/Usage/Execution Process/Outputs/Error Handling)
+  - artifact references are consistent (no missing paths)
+  - evidence tables pass: `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Behavior checks:
+  - idempotent when `.workflow/project-tech.json` + `.workflow/project-guidelines.json` already exist (no `--regenerate`)
+  - safe regeneration: backup before overwrite
+  - interactive branch only when guidelines are unpopulated
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..27640cd13c6076d2d9e983c751b3621de1469aed
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,109 @@
+---
+name: init
+description: Initialize project-level state with intelligent project analysis using cli-explore-agent
+argument-hint: "[--regenerate]"
+allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+group: workflow
+---
+
+# Workflow Init Command (/workflow:init)
+
+## Overview
+
+- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
+- Command: `/workflow:init`
+
+## Usage
+
+```bash
+/workflow:init [--regenerate]
+```
+
+## Inputs
+
+- Required inputs:
+  - none
+- Optional inputs:
+  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json` (existence check)
+  - `.workflow/project-guidelines.json` (existence + populated check)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/init.md`
+- Likely code locations:
+  - `.claude/commands/workflow/init-guidelines.md`
+  - `ccw/src/tools/get-modules-by-depth.ts`
+  - `ccw/src/core/data-aggregator.ts`
+  - `ccw/src/templates/dashboard-js/views/project-overview.js`
+
+### Evidence (Existing vs Planned)
+
+You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).
+
+Rules:
+- `Existing` MUST include evidence from BOTH:
+  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
+  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
+- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |
+
+Notes:
+- Use one row per pointer.
+- For TS evidence, anchors must be literal substrings present in the referenced file.
+
+## Execution Process
+
+1. Parse input
+   - Set `regenerate = true` iff `--regenerate` is present.
+2. Check existing state
+   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
+   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
+3. Get project metadata (best-effort)
+   - Determine project name (git root basename if available; fallback to current directory basename).
+   - Ensure `.workflow/` exists.
+4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
+   - In the delegated prompt, require:
+     - schema read (project-tech schema)
+     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
+     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
+5. Create guidelines scaffold (if not exists)
+   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
+6. Display summary
+   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
+7. Ask about guidelines configuration (only if guidelines are not populated)
+   - Ask user to either:
+     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
+     - skip and show next steps.
+8. Return immediately after completion
+   - If invoked by another workflow command, do not block; return control to caller.
+
+## Error Handling
+
+- If git metadata lookup fails: continue with cwd-based project name/root.
+- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
+- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
+- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.
+
+## Examples
+
+```bash
+/workflow:init
+/workflow:init --regenerate
+```
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

codex
Wrote CMD-037 outputs to `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/`:

- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md`

Evidence gate checks passed:
- `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.../gap-report.md`
- `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.../generated-slash-outline.md`
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..5bd426ff15afecfef9928f6609624c7b6054eaea
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/fix-plan.md
@@ -0,0 +1,34 @@
+# Fix Plan: workflow:init
+
+## P0 (Must)
+
+1. Docs: update `.claude/commands/workflow/init.md` frontmatter to include required fields
+   - Add `allowed-tools` and `group` while keeping existing `name/description/argument-hint/examples`.
+   - Verify:
+     - `rg "^allowed-tools:" .claude/commands/workflow/init.md`
+     - `rg "^group:" .claude/commands/workflow/init.md`
+
+2. Safety: make regeneration behavior unambiguous in the command doc
+   - Ensure `--regenerate` is the only path that overwrites `project-tech.json`, and that backup happens first.
+   - Verify:
+     - `rg "project-tech\\.json\\.backup" .claude/commands/workflow/init.md`
+     - `rg "--regenerate" .claude/commands/workflow/init.md`
+
+3. Evidence gate (outliner outputs): keep evidence tables passing
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md`
+
+## P1 (Should)
+
+4. Docs structure: add explicit `Inputs` + `Outputs / Artifacts` sections to `.claude/commands/workflow/init.md`
+   - Keep the content minimal and consistent with the existing flow.
+   - Verify:
+     - `rg "^## Inputs" .claude/commands/workflow/init.md`
+     - `rg "^## Outputs" .claude/commands/workflow/init.md`
+
+5. UX: clarify next steps after init completes
+   - If guidelines are empty, offer ‚Äúconfigure now‚Äù vs ‚Äúskip‚Äù and point to `/workflow:init-guidelines` when skipping.
+   - Verify:
+     - `rg "/workflow:init-guidelines" .claude/commands/workflow/init.md`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..69f4bc959dd6f01fd2ce619a986766bafb509e63
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/gap-report.md
@@ -0,0 +1,55 @@
+# Gap Report: workflow:init
+
+## Reference
+
+- Selected reference: /workflow:init (`.claude/commands/workflow/init.md`)
+
+## P0 Gaps (Must Fix)
+
+- `allowed-tools` + `group` missing from the oracle frontmatter; required by CCW quality gates for tool-surface safety.
+- ‚ÄúExisting vs Planned‚Äù evidence tables do not exist in the oracle (acceptable historically), but are required for this outliner output; ensure any ‚ÄúExisting‚Äù pointers in future updates remain repo-verifiable.
+
+## P1 Gaps (Should Fix)
+
+- Oracle doc embeds inputs/outputs implicitly in prose; the generated outline adds explicit `Inputs` and `Outputs / Artifacts` sections for consistency with other workflow commands.
+- Regeneration behavior is described, but could be made more ‚Äúchecklist-like‚Äù (preconditions + backup + overwrite rules) to reduce accidental destructive runs.
+
+## P2 Gaps (Optional)
+
+- Add a short ‚ÄúNext steps‚Äù snippet that points users to `/workflow:init-guidelines` (or dashboard navigation) after init completes.
+
+## Implementation Pointers (Evidence)
+
+You MUST provide an evidence table for all key implementation pointers mentioned in the outlines.
+
+Rules (P0):
+- Every pointer MUST be labeled `Existing` or `Planned`.
+- `Existing` MUST be verifiable (path exists). Include a concrete `Verify` command for each existing pointer.
+- Do NOT describe `Planned` pointers as ‚Äúvalidated/exists‚Äù.
+- Evidence MUST reference BOTH sources somewhere in this section:
+  - command docs: `.claude/commands/**.md` (section heading is enough)
+  - TypeScript implementation: `ccw/src/**` (function name / subcommand case / ripgrep-able string)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Command oracle and canonical behavior reference. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Follow-up wizard for populating `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by analysis to enumerate modules/structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-tech.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads `.workflow/project-tech.json` + `.workflow/project-guidelines.json` for dashboard/workflow data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI expects init artifacts and prompts `/workflow:init` when missing. |
+
+## Implementation Hints (Tooling/Server)
+
+- The CCW dashboard/aggregator loads `.workflow/project-tech.json` and `.workflow/project-guidelines.json`; keeping schema stability reduces downstream rendering errors.
+- Prefer `ccw tool exec get_modules_by_depth` as the stable, repo-supported structure enumerator for delegated analysis.
+
+## Proposed Fix Plan (Minimal)
+
+1. Update `.claude/commands/workflow/init.md` frontmatter to add:
+   - `allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)`
+   - `group: workflow`
+2. Add explicit `Inputs` and `Outputs / Artifacts` sections (keep contents aligned with the oracle flow).
+3. Make `--regenerate` safety explicit:
+   - backup before overwrite; do not overwrite without flag.
+4. Ensure the ‚Äúask to configure guidelines‚Äù branch only runs when guidelines are not populated, and the skip branch provides next-step commands.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..7d3cfd00b279fcd20b78d8c312bf40a4ac605b29
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,40 @@
+# Agent Outline: workflow:init
+
+## Purpose
+
+Implement and/or evolve `/workflow:init` to initialize project-level `.workflow/*` state (tech analysis + guidelines scaffold) using CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Evidence-based: use repo-verifiable pointers (docs headings + `ccw/src/**` anchors) for any ‚ÄúExisting‚Äù claims
+- Delegation: use `Task(cli-explore-agent)` for deep project analysis; keep orchestrator logic thin
+
+## State & Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (+ `.workflow/project-tech.json.backup` when `--regenerate`)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be filled by the follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-guidelines.json`
+
+## Tooling
+
+- Allowed tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+- Non-negotiables:
+  - no unrelated changes
+  - never claim ‚ÄúExisting‚Äù without verifiable evidence
+
+## Validation Strategy
+
+- P0 gates:
+  - frontmatter completeness + allowed-tools correctness
+  - core sections present (Overview/Usage/Execution Process/Outputs/Error Handling)
+  - artifact references are consistent (no missing paths)
+  - evidence tables pass: `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Behavior checks:
+  - idempotent when `.workflow/project-tech.json` + `.workflow/project-guidelines.json` already exist (no `--regenerate`)
+  - safe regeneration: backup before overwrite
+  - interactive branch only when guidelines are unpopulated
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..27640cd13c6076d2d9e983c751b3621de1469aed
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,109 @@
+---
+name: init
+description: Initialize project-level state with intelligent project analysis using cli-explore-agent
+argument-hint: "[--regenerate]"
+allowed-tools: Bash(*), Task(cli-explore-agent), AskUserQuestion(*), Skill(workflow:init-guidelines), Read(*), Write(*)
+group: workflow
+---
+
+# Workflow Init Command (/workflow:init)
+
+## Overview
+
+- Goal: Initialize `.workflow/project-tech.json` (analysis) and `.workflow/project-guidelines.json` (rules scaffold) so other workflows and the CCW dashboard have project context.
+- Command: `/workflow:init`
+
+## Usage
+
+```bash
+/workflow:init [--regenerate]
+```
+
+## Inputs
+
+- Required inputs:
+  - none
+- Optional inputs:
+  - `--regenerate`: force re-analysis; backup existing `.workflow/project-tech.json` first
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json`
+  - `.workflow/project-tech.json.backup` (only when `--regenerate` and tech file exists)
+  - `.workflow/project-guidelines.json` (scaffold if missing; may be populated via follow-up wizard)
+- Reads:
+  - `.workflow/project-tech.json` (existence check)
+  - `.workflow/project-guidelines.json` (existence + populated check)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/init.md`
+- Likely code locations:
+  - `.claude/commands/workflow/init-guidelines.md`
+  - `ccw/src/tools/get-modules-by-depth.ts`
+  - `ccw/src/core/data-aggregator.ts`
+  - `ccw/src/templates/dashboard-js/views/project-overview.js`
+
+### Evidence (Existing vs Planned)
+
+You MUST label each pointer as `Existing` (verifiable in repo now) or `Planned` (will be created/modified).
+
+Rules:
+- `Existing` MUST include evidence from BOTH:
+  - a command doc source: `.claude/commands/**.md` (section heading is sufficient)
+  - a TypeScript source: `ccw/src/**` (function name / subcommand case / a ripgrep-able string)
+- If you cannot verify, downgrade to `Planned` and add a concrete `Verify` step (e.g. `Test-Path <path>`, `rg "<pattern>" <path>`).
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/init.md` | Existing | docs: `.claude/commands/workflow/init.md` / `Workflow Init Command (/workflow:init)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `/workflow:init` | `Test-Path .claude/commands/workflow/init.md` | Oracle command doc and primary entrypoint for the workflow init behavior. |
+| `.claude/commands/workflow/init-guidelines.md` | Existing | docs: `.claude/commands/workflow/init-guidelines.md` / `Workflow Init Guidelines Command (/workflow:init-guidelines)` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `function renderGuidelinesSection` | `Test-Path .claude/commands/workflow/init-guidelines.md` | Optional follow-up wizard to populate `.workflow/project-guidelines.json`. |
+| `ccw/src/tools/get-modules-by-depth.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Step 3: Invoke cli-explore-agent` ; ts: `ccw/src/tools/get-modules-by-depth.ts` / `name: 'get_modules_by_depth'` | `Test-Path ccw/src/tools/get-modules-by-depth.ts` | Tool invoked by the delegated analysis to capture project structure. |
+| `ccw/src/core/data-aggregator.ts` | Existing | docs: `.claude/commands/workflow/init.md` / `Overview` ; ts: `ccw/src/core/data-aggregator.ts` / `project-guidelines.json` | `Test-Path ccw/src/core/data-aggregator.ts` | Loads the generated `.workflow/*` artifacts into aggregated workflow/dashboard data. |
+| `ccw/src/templates/dashboard-js/views/project-overview.js` | Existing | docs: `.claude/commands/workflow/init.md` / `Project Overview` ; ts: `ccw/src/templates/dashboard-js/views/project-overview.js` / `renderProjectOverview` | `Test-Path ccw/src/templates/dashboard-js/views/project-overview.js` | UI view that prompts `/workflow:init` when project analysis is missing, and renders the resulting overview/guidelines. |
+
+Notes:
+- Use one row per pointer.
+- For TS evidence, anchors must be literal substrings present in the referenced file.
+
+## Execution Process
+
+1. Parse input
+   - Set `regenerate = true` iff `--regenerate` is present.
+2. Check existing state
+   - If both `.workflow/project-tech.json` and `.workflow/project-guidelines.json` exist and `regenerate=false`: print ‚ÄúAlready initialized‚Äù and return.
+   - If `.workflow/project-tech.json` exists and `regenerate=true`: copy to `.workflow/project-tech.json.backup` before continuing.
+3. Get project metadata (best-effort)
+   - Determine project name (git root basename if available; fallback to current directory basename).
+   - Ensure `.workflow/` exists.
+4. Invoke `cli-explore-agent` to generate `.workflow/project-tech.json`
+   - In the delegated prompt, require:
+     - schema read (project-tech schema)
+     - structure scan using `ccw tool exec get_modules_by_depth '{}'`
+     - synthesis + schema-conformant JSON output written to `.workflow/project-tech.json`
+5. Create guidelines scaffold (if not exists)
+   - If `.workflow/project-guidelines.json` missing: create minimal empty scaffold JSON (no rules yet).
+6. Display summary
+   - Summarize what was generated (files + timestamps + high-level stack/architecture fields if present).
+7. Ask about guidelines configuration (only if guidelines are not populated)
+   - Ask user to either:
+     - run the interactive wizard now (delegate via `Skill(workflow:init-guidelines)`), or
+     - skip and show next steps.
+8. Return immediately after completion
+   - If invoked by another workflow command, do not block; return control to caller.
+
+## Error Handling
+
+- If git metadata lookup fails: continue with cwd-based project name/root.
+- If delegated analysis fails or produces invalid JSON: keep existing backup (if created), surface a clear error, and do not overwrite good prior data.
+- If `.workflow/` cannot be created or files cannot be written: abort with a clear, non-sensitive message and suggested manual checks (permissions/path).
+- If guidelines scaffold write fails: continue after warning, but keep project-tech output if successful.
+
+## Examples
+
+```bash
+/workflow:init
+/workflow:init --regenerate
+```
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..e3bf25e9da4f4b97b626fa58f4e1cf4e3f9e3a8e
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/references.json
@@ -0,0 +1,47 @@
+{
+  "scoring_rubric": {
+    "same_group": 0.4,
+    "similar_artifacts": 0.3,
+    "similar_interaction_model": 0.2,
+    "similar_tool_surface": 0.1
+  },
+  "candidates": [
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 1,
+      "why": "Exact command oracle; defines artifacts (.workflow/project-tech.json + project-guidelines.json) and the cli-explore-agent delegation flow."
+    },
+    {
+      "slash": "/workflow:init-guidelines",
+      "file_path": ".claude/commands/workflow/init-guidelines.md",
+      "score": 0.85,
+      "why": "Directly coupled follow-up wizard; shares project-guidelines.json artifact and interactive AskUserQuestion-driven flow."
+    },
+    {
+      "slash": "/workflow:multi-cli-plan",
+      "file_path": ".claude/commands/workflow/multi-cli-plan.md",
+      "score": 0.62,
+      "why": "Workflow command with structured analysis + Task delegation patterns and explicit artifact handling under .workflow/."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.5,
+      "why": "Workflow group baseline for CCW-style command structure and safety constraints."
+    },
+    {
+      "slash": "/workflow:plan-verify",
+      "file_path": ".claude/commands/workflow/plan-verify.md",
+      "score": 0.4,
+      "why": "Validation-style workflow command with explicit artifact checks and error handling patterns."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:init",
+    "file_path": ".claude/commands/workflow/init.md",
+    "score": 1,
+    "why": "Use the exact oracle as the primary reference; additional candidates provide style and validation patterns."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..a6b5cb8244cafb03a61dbd8ed8454a11875c6dd8
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-037/specs/outputs/spec.json
@@ -0,0 +1,50 @@
+{
+  "command": {
+    "group": "workflow",
+    "name": "init",
+    "title": "Workflow Init Command (/workflow:init)",
+    "description": "Initialize project-level state with intelligent project analysis using cli-explore-agent",
+    "argument_hint": "[--regenerate]",
+    "allowed_tools": [
+      "Bash(*)",
+      "Task(cli-explore-agent)",
+      "AskUserQuestion(*)",
+      "Skill(workflow:init-guidelines)",
+      "Read(*)",
+      "Write(*)"
+    ]
+  },
+  "intent": {
+    "type": "execute",
+    "interaction": "iterative",
+    "primary_user_value": "Initialize .workflow/project-tech.json (analysis) and .workflow/project-guidelines.json (rules scaffold) so other workflows and the CCW dashboard have project context."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-tech.json.backup",
+      ".workflow/project-guidelines.json"
+    ]
+  },
+  "constraints": {
+    "max_rounds": 1,
+    "time_budget_seconds": 300,
+    "must_not": [
+      "Overwrite existing .workflow/project-tech.json unless --regenerate is set",
+      "Interrupt calling workflows after initialization completes (return immediately)",
+      "Claim implementation pointers are Existing without repo-verifiable evidence (docs heading + ccw/src anchor + Test-Path/rg verify)"
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter includes name, description, argument-hint, allowed-tools, group",
+      "Core sections present: Overview, Usage, Inputs, Outputs/Artifacts, Execution Process, Error Handling",
+      "Every implementation pointer row includes dual-source evidence (docs + ccw/src literal anchor) and a concrete Verify command; never label unverifiable pointers as Existing"
+    ]
+  }
+}
+

tokens used
97,018
