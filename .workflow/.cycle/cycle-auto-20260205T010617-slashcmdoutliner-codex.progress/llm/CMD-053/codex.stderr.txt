Reading prompt from stdin...
OpenAI Codex v0.93.0 (research preview)
--------
workdir: C:\Project\Claude-Code-Workflow
model: gpt-5.2
provider: codex
approval: never
sandbox: danger-full-access
reasoning effort: high
reasoning summaries: auto
session id: 019c2cbb-5967-7513-8db0-66a1c02e4326
--------
user
Use the repo skill: slash-command-outliner (path: .codex/skills/slash-command-outliner).

Cycle: cycle-auto-20260205T010617-slashcmdoutliner-codex
Command: CMD-053

Input requirement doc (non-leaky): `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/requirements/CMD-053.requirements.md`

Write the following output files (create directories as needed) under `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs`:
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md`

Hard rules (P0):
- Follow templates: .codex/skills/slash-command-outliner/templates/*
- Follow gates: .codex/skills/slash-command-outliner/specs/quality-gates.md
- Evidence tables MUST pass: node .codex/skills/slash-command-outliner/scripts/verify-evidence.js
- Never label a pointer as Existing unless it is verifiable in the repo now.
- For ANY pointer row, provide dual-source evidence:
  - docs: .claude/commands/**.md / <real heading text>
  - ts: ccw/src/** / <literal anchor string present in file>
- Avoid placeholders like TBD/N/A in evidence rows; if unsure, mark as Planned and add Verify steps.

Keep the written files concise; do not write extra files unless necessary.

deprecated: `[features].web_search_request` is deprecated. Use `web_search` instead.
  Set `web_search` to `"live"`, `"cached"`, or `"disabled"` in config.toml.
mcp: ace-tool starting
mcp: ccw-tools starting
mcp: exa starting
mcp: ccw-tools ready
mcp: ace-tool ready
mcp: exa ready
mcp startup: ready: ccw-tools, ace-tool, exa

thinking
**Following instructions**

I’m thinking about how we should focus on creating outputs only in the specified directory without any extras. I’ll start by reading the skill instructions to ensure I get everything right. Using a shell command to `Get-Content` of SKILL.md seems like the way to go. So, I'll proceed with that! Following this step will help me stay organized and on track.
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .codex/skills/slash-command-outliner/SKILL.md' in C:\Project\Claude-Code-Workflow succeeded in 300ms:
---
name: slash-command-outliner
description: Codex version of slash-command-outliner. Generate CCW-aligned slash command development outlines from a requirement/spec doc, validated via corpus-wide iteration and non-regression. Triggers on "slash command outliner", "slash 命令大纲", "slash 命令生成器", "命令大纲".
allowed-tools: Read, Write, AskUserQuestion, Task, Bash, TodoWrite, mcp__ace-tool__search_context
---

# Slash Command Outliner (Codex)

Input a **slash command requirement/spec document**. Output a **CCW-aligned, end-to-end development outline** (Slash MD outline + Agent MD outline) plus a **gap-report** that compares against reference implementations and CCW server/tooling corpus. Improve quality by iterating across **all** existing commands with **non-regression snapshots**.

This skill is designed to be **precise** (no fluff) and **stable** (non-regression gate).

## Canonical Workflow (Phases)

1) `phases/01-collect-spec.md`  
2) `phases/02-retrieve-and-rank-references.md`  
3) `phases/03-generate-outlines.md`  
4) `phases/04-gap-report-and-iterate.md`  
5) `phases/05-regression-and-closure.md`


thinking
**Following documentation phases**

I need to follow the phases outlined in the documentation. First, I'll open the phase docs, quality gates, and templates. I want to ensure I'm adhering to the instructions regarding evidence, so I might run verify-evidence.js mentioned by the user within the scripts. It's crucial to confirm the format of the evidence table, so I'll inspect the templates and specifications. Lastly, I'll use a shell command to view the required files and examine the quality gates.
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .codex/skills/slash-command-outliner/specs/quality-gates.md' in C:\Project\Claude-Code-Workflow succeeded in 318ms:
# Quality Gates (Non-regression First)

## P0 Gates (Must Pass)

P0 failure means “not CCW-aligned” and blocks completion.

1) **Frontmatter completeness**
   - `name`, `description`, `allowed-tools` must exist
   - `argument-hint` optional but recommended for non-trivial commands
2) **Allowed-tools correctness**
   - no tools outside the supported CCW set for the intended workflow
   - no missing tools required by the described behavior
3) **Core sections present**
   - at least: `Overview`, `Usage`, `Execution Process`, `Output/Artifacts`, `Error Handling`
4) **No broken artifact references**
   - referenced paths must be either created by the command or explicitly documented as pre-existing

5) **Implementation pointers must be evidence-based (Existing vs Planned)**
   - Every implementation pointer (file/module/CLI subcommand/tool entry) MUST be labeled:
     - `Existing`: verifiable in repo now
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .codex/skills/slash-command-outliner/templates/slash-command-outline.md' in C:\Project\Claude-Code-Workflow succeeded in 308ms:
---
name: {{command.name}}
description: {{command.description}}
argument-hint: "{{command.argument_hint}}"
allowed-tools: {{command.allowed_tools_csv}}
group: {{command.group}}
---

# {{command.title}}

## Overview

- Goal: {{intent.primary_user_value}}
- Command: `/{{command.group}}:{{command.name}}`

## Usage

```bash
/{{command.group}}:{{command.name}} {{command.usage_args}}
```
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .codex/skills/slash-command-outliner/templates/agent-outline.md' in C:\Project\Claude-Code-Workflow succeeded in 309ms:
# Agent Outline: {{command.group}}:{{command.name}}

## Purpose

Implement and/or evolve the slash command according to CCW conventions with minimal regressions.

## Execution Model

- Default: incremental, testable changes
- Use ACE-tool to find existing patterns before adding new abstractions

## State & Artifacts

- Session folder (if used): `.workflow/...`
- Required outputs:
  - Slash MD (command doc)
  - Any scripts/modules referenced by the command
  - Validation notes / regression snapshots

## Tooling
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .codex/skills/slash-command-outliner/templates/gap-report.md' in C:\Project\Claude-Code-Workflow succeeded in 309ms:
# Gap Report: {{command.group}}:{{command.name}}

## Reference

- Selected reference: {{reference.slash}} (`{{reference.file_path}}`)

## P0 Gaps (Must Fix)

{{gaps.p0}}

## P1 Gaps (Should Fix)

{{gaps.p1}}

## P2 Gaps (Optional)

{{gaps.p2}}

## Implementation Pointers (Evidence)


thinking
**Searching for templates**

I need to find `spec.json` and `references.json` templates. My first thought is to check the templates or specs directories. I’m considering using either `smart_search` or a shell command like `rg` to locate `spec.json` in the repository. I could utilize `functions.mcp__ccw-tools__smart_search` since it’s an MCP tool available through functions. Let’s go ahead and see if we can find those templates efficiently!
tool ccw-tools.smart_search({"action":"search","query":"spec.json","path":"C:/Project/Claude-Code-Workflow/.codex/skills/slash-command-outliner","mode":"fuzzy","maxResults":20})
2026-02-05T07:37:39.465530Z ERROR rmcp::transport::async_rw: Error reading from stream: serde error expected value at line 1 column 2
ccw-tools.smart_search({"action":"search","query":"spec.json","path":"C:/Project/Claude-Code-Workflow/.codex/skills/slash-command-outliner","mode":"fuzzy","maxResults":20}) failed in 3.03s:
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

rg -n "spec'"\\.json\" .codex/skills/slash-command-outliner -S" in C:\Project\Claude-Code-Workflow succeeded in 323ms:
.codex/skills/slash-command-outliner\scripts\regress-all.js:128:    const specOutRel = path.relative(repoRoot, path.join(derivedSpecsDir, `${id}.spec.json`)).replaceAll('\\', '/');
.codex/skills/slash-command-outliner\scripts\gap-report.js:11:      '    --spec=spec.json --outline=outline.md --reference=.claude/commands/workflow/plan.md \\',
.codex/skills/slash-command-outliner\scripts\generate-outline.js:11:      '  node .codex/skills/slash-command-outliner/scripts/generate-outline.js --spec=spec.json --out=outline.md',
.codex/skills/slash-command-outliner\scripts\derive-spec.js:7:      '  node .codex/skills/slash-command-outliner/scripts/derive-spec.js --command=.claude/commands/workflow/plan.md --out=spec.json',
.codex/skills/slash-command-outliner\phases\01-collect-spec.md:32:- `specs/outputs/spec.json` (or in cycle mode: `{cycle}/specs/{command}.spec.json`)
.codex/skills/slash-command-outliner\phases\03-generate-outlines.md:13:- `specs/outputs/spec.json`

thinking
**Evaluating spec generation**

I'm thinking about the derive-spec script that could auto-generate spec.json from the existing command doc. However, the user provided a non-leaky requirement doc, which means I'll need to generate it manually based on that. Still, it might be easier to check the spec schema from the scripts/derive-spec. I should inspect the phases and scripts and also read the spec-input markdown to get a better idea of how to proceed.
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .codex/skills/slash-command-outliner/specs/spec-input.md' in C:\Project\Claude-Code-Workflow succeeded in 305ms:
# Spec Input (Schema + Rules)

The spec is the only “source input” for outline generation. It must be **minimal** and **non-leaky**.

## Minimal JSON Schema (informal)

```json
{
  "command": {
    "group": "workflow|issue|learn|cli|other",
    "name": "kebab-case",
    "description": "one sentence",
    "argument_hint": "[--flag] \"args\"",
    "allowed_tools": ["Read(*)", "Write(*)"]
  },
  "intent": {
    "type": "analyze|plan|execute|brainstorm|manage|utility",
    "interaction": "single-shot|iterative|loop",
    "primary_user_value": "what this command accomplishes"
  },
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .codex/skills/slash-command-outliner/scripts/generate-outline.js' in C:\Project\Claude-Code-Workflow succeeded in 329ms:
import fs from 'node:fs';
import path from 'node:path';

import { renderOutlineFromSpec, writeText } from './lib/pipeline.js';
import { findImplementationHints } from './lib/implementation-hints.js';

function usage() {
  console.log(
    [
      'Usage:',
      '  node .codex/skills/slash-command-outliner/scripts/generate-outline.js --spec=spec.json --out=outline.md',
      '    [--tooling-manifest=tooling.json]',
      '',
      'Generates a CCW-aligned slash command outline deterministically (no LLM).',
    ].join('\n')
  );
}

function parseArgs(argv) {
  const args = {};

thinking
I’m thinking about whether renderOutlineFromSpec is deterministic and if it uses templates. It seems like a good approach to inspect the pipeline library to understand how this all connects. I’m curious to see how these aspects play out and how they impact the functionality. There’s a lot to explore here, and I want to ensure I’m grasping everything correctly. So, let’s dive in and take a closer look at the pipeline library!
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .codex/skills/slash-command-outliner/scripts/lib/pipeline.js' in C:\Project\Claude-Code-Workflow succeeded in 321ms:
import fs from 'node:fs';
import path from 'node:path';

import { extractHeadings, parseYamlHeader, readCommandFile, toPosixPath } from './command-md.js';
import { findImplementationHints } from './implementation-hints.js';

export function splitCsv(s) {
  return String(s || '')
    .split(',')
    .map((x) => x.trim())
    .filter(Boolean);
}

function inferGroupFromCommandPath(commandPath, headerGroup) {
  if (headerGroup && String(headerGroup).trim().length > 0) return String(headerGroup).trim();
  const p = toPosixPath(String(commandPath || ''));
  const marker = '.claude/commands/';
  const idx = p.indexOf(marker);
  if (idx === -1) return '';
  const rel = p.slice(idx + marker.length);

thinking
**Aligning outputs with templates**

I see that the script is creating a minimal outline, but it lacks an evidence table, and the templates clearly call for one. So, I need to ensure our output aligns with the templates, even if the script isn't generating one. I'll take the initiative to create an evidence table myself. To make sure everything is sound, I should review the verify-evidence.js script and see what it requires for validation. Let's dig into that!
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .codex/skills/slash-command-outliner/scripts/verify-evidence.js' in C:\Project\Claude-Code-Workflow succeeded in 305ms:
import fs from 'node:fs';
import path from 'node:path';
import { fileURLToPath } from 'node:url';

export function usage() {
  console.log(
    [
      'Usage:',
      '  node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<path.md> [--file=<path2.md> ...]',
      '',
      'Behavior:',
      '  - Extracts evidence tables from markdown (gap-report and/or outline)',
      '  - Enforces evidence-based gates:',
      '    - Each row must label Status as Existing or Planned',
      '    - Evidence must include BOTH docs and ts anchors:',
      '      - docs: .claude/commands/**.md / <section heading>',
      '      - ts: ccw/src/** / <function|case|pattern>',
      '    - Existing rows must point to verifiable pointers (paths must exist when pointer looks like a path)',
      '',
      'Notes:',





thinking
**Clarifying evidence table requirements**

I need to ensure that evidence tables include at least one evidence cell for every pointer row, and that these cells must follow the required format – including docs and ts parts. Each row's pointer can’t be TBD or a template. I want to confirm how the function `findEvidenceTables` detects tables, likely using headers like 'Pointer', 'Status', and 'Evidence'. Additionally, I need to make sure our outlines have evidence for every pointer row, with verifications in place.
thinking
**Outlining command pointers and evidence**

I can label pointers as Planned for new command items, but I need to ensure they include evidence from existing documentation and TypeScript sources, not just placeholders. This means I’ll read the requirements document and determine key elements like command group, name, description, and allowed tools. I'll also identify reference commands and code patterns, aiming for at least three similar patterns in the repo. Finally, I’ll create a listing of references in `references.json` and prepare outputs as specified by the user.
thinking
**Clarifying template requirements**

I need to adhere to templates for generating files. The `generated-slash-outline.md` should align with `templates/slash-command-outline.md`, including filled placeholders and an evidence table with expanded pointers and core sections. The frontmatter must include keys such as name, description, argument hint (optional), allowed tools, and groups, with allowed tools in CSV format. I'll also follow similar templates for the `generated-agent-outline` and the gap report, ensuring a proper fix plan. The verification will confirm that at least one evidence table exists and meets the necessary criteria.
thinking
**Deciding on evidence table placement**

I’m considering whether to include the evidence table only in the gap report and not in the slash outline. The template suggests it’s optional, but quality gates require evidence tables to pass verification. It seems the user insists that evidence tables must pass the verify script. If the script runs on both outlines and the gap report, it might be safer to include evidence tables in both documents, though this could lead to more work. Ultimately, at least one file must have an evidence table to avoid triggering an error.
thinking
**Planning evidence and documentation for outputs**

I’ll run verification on all Markdown outputs, particularly those with tables. I plan to include the evidence table in both the generated slash outline and gap report, keeping it minimal with about three pointers. It's crucial to avoid placeholders like TBD/N/A in evidence rows; if there’s uncertainty, I should mark it as Planned. I’ll verify with tools like `Test-Path` and `rg`. For each pointer, I'll ensure the documentation evidence is linked to existing command files with accurate headings. This way, I can include relevant references in `references.json`, using similar patterns from existing docs.
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .codex/skills/slash-command-outliner/phases/01-collect-spec.md' in C:\Project\Claude-Code-Workflow succeeded in 306ms:
# Phase 01: Collect Spec (No Leakage)

## Goal

Turn a human requirement/rules document into a **minimal, structured spec** that is sufficient to generate:

- Slash command outline (CCW command MD skeleton)
- Agent outline (execution + tools + state)

Do **not** copy/paste existing implementation docs as input; treat them as oracle only during gap analysis.

## Required Inputs (ask if missing)

1. Command identity:
   - `group` (workflow|issue|learn|cli|other)
   - `name` (kebab-case)
   - `description` (one sentence)
   - `argument-hint` (optional)
2. Allowed tools:
   - exact list for frontmatter `allowed-tools`
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .codex/skills/slash-command-outliner/phases/02-retrieve-and-rank-references.md' in C:\Project\Claude-Code-Workflow succeeded in 319ms:
# Phase 02: Retrieve + Rank References

## Goal

Find the closest existing commands and extract **reusable patterns** without copying full content.

## Steps

1) Use `mcp__ace-tool__search_context` to recall similar commands and relevant tooling code.
2) Produce Top N candidates (default N=5) with deterministic scoring:
   - same `group` / command family
   - similar interaction model (AskUserQuestion, multi-round loop, etc.)
   - similar artifacts (writes to `.workflow/*`, `.claude/*`, etc.)
   - similar allowed-tools surface
3) Require user confirmation for Top 1 (high-confidence can be preselected but must be overridable).

## Output

Write:
- `specs/outputs/references.json`
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .codex/skills/slash-command-outliner/phases/03-generate-outlines.md' in C:\Project\Claude-Code-Workflow succeeded in 310ms:
# Phase 03: Generate Outlines (Slash MD + Agent MD)

## Goal

Generate:
- a **Slash command MD outline** that matches CCW conventions (frontmatter + required sections)
- an **Agent outline** that explains execution model, state, and validation strategy

Use templates; keep output concise and implementation-oriented.

## Inputs

- `specs/outputs/spec.json`
- `specs/outputs/references.json` (selected reference)
- Rules: `../specs/quality-gates.md`

## Output Files

- `specs/outputs/generated-slash-outline.md` (based on `../templates/slash-command-outline.md`)
- `specs/outputs/generated-agent-outline.md` (based on `../templates/agent-outline.md`)
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .codex/skills/slash-command-outliner/phases/04-gap-report-and-iterate.md' in C:\Project\Claude-Code-Workflow succeeded in 315ms:
# Phase 04: Gap Report + Iterate

## Goal

Compare the generated outlines against:
1) The selected reference command implementation (oracle)
2) The CCW server/tooling corpus (routes, mcp tools, cli internals)

Then propose the smallest set of changes to close gaps.

## Inputs

- `specs/outputs/generated-slash-outline.md`
- `specs/outputs/generated-agent-outline.md`
- `specs/outputs/references.json`
- Tooling scope: `../specs/corpus-scope.md`

## Output

Write:
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .codex/skills/slash-command-outliner/phases/05-regression-and-closure.md' in C:\Project\Claude-Code-Workflow succeeded in 316ms:
# Phase 05: Regression + Closure

## Goal

Make sure improvements do not regress previously-validated commands (non-regression).

## What to Update (Cycle Mode)

When iterating against the full corpus:
- Update per-command status in `corpus-manifest.json`
- Check off `TODO_LIST.md` items
- Save snapshots in `regression/expected/` for commands marked completed
- Write snapshot diffs into `regression/diff/` and block on unexpected changes

## Non-regression Policy

See `../specs/quality-gates.md`.

## Completion Criteria


thinking
**Verifying outputs and requirements**

I’m not planning to carry out a full regression check; just focus on our command. It seems we'll need an evidence gate for this step, so I’ll run a verification on the generated outputs in the output directory. I’ll ensure that the path arguments accurately reflect the actual output file paths. Additionally, I have to create a references.json file based on the outlined schema. Now, let's take a look at the requirement document for more details.
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/requirements/CMD-053.requirements.md' in C:\Project\Claude-Code-Workflow succeeded in 326ms:
# Requirement (non-leaky): /workflow:start

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/workflow/session/start.md`

## Command Identity

- group: workflow
- name: start
- description: Discover existing sessions or start new workflow session with intelligent session management and conflict detection
- argument-hint: [--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]
- allowed-tools: TBD

## Structure Hints (Headings Only)

- Start Workflow Session (/workflow:session:start)
  - Overview
  - Session Types
  - Step 0: Initialize Project State (First-time Only)
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .claude/commands/workflow/session/start.md' in C:\Project\Claude-Code-Workflow succeeded in 317ms:
---
name: start
description: Discover existing sessions or start new workflow session with intelligent session management and conflict detection
argument-hint: [--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]
examples:
  - /workflow:session:start
  - /workflow:session:start --auto "implement OAuth2 authentication"
  - /workflow:session:start --type review "Code review for auth module"
  - /workflow:session:start --type tdd --auto "implement user authentication"
  - /workflow:session:start --type test --new "test payment flow"
---

# Start Workflow Session (/workflow:session:start)

## Overview
Manages workflow sessions with three operation modes: discovery (manual), auto (intelligent), and force-new.

**Dual Responsibility**:
1. **Project-level initialization** (first-time only): Creates `.workflow/project-tech.json` for feature registry
2. **Session-level initialization** (always): Creates session directory structure
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

rg -n "''^allowed-tools:" .claude/commands -S | Select-Object -First 50' in C:\Project\Claude-Code-Workflow succeeded in 341ms:
.claude/commands\workflow\collaborative-plan-with-file.md:5:allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Bash(*), Write(*), Glob(*), Grep(*), mcp__ace-tool__search_context(*)
.claude/commands\ccw-plan.md:5:allowed-tools: Skill(*), TodoWrite(*), AskUserQuestion(*), Read(*), Grep(*), Glob(*)
.claude/commands\workflow\multi-cli-plan.md:5:allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Bash(*), Write(*), mcp__ace-tool__search_context(*)
.claude/commands\workflow\lite-fix.md:5:allowed-tools: TodoWrite(*), Task(*), Skill(*), AskUserQuestion(*)
.claude/commands\workflow\unified-execute-with-file.md:5:allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Grep(*), Glob(*), Bash(*), Edit(*), Write(*)
.claude/commands\workflow\clean.md:5:allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Glob(*), Bash(*), Write(*)
.claude/commands\workflow\debug-with-file.md:5:allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Grep(*), Glob(*), Bash(*), Edit(*), Write(*)
.claude/commands\ccw-debug.md:5:allowed-tools: Skill(*), TodoWrite(*), AskUserQuestion(*), Read(*), Bash(*)
.claude/commands\workflow\brainstorm-with-file.md:5:allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Grep(*), Glob(*), Bash(*), Edit(*), Write(*)
.claude/commands\workflow\lite-plan.md:5:allowed-tools: TodoWrite(*), Task(*), Skill(*), AskUserQuestion(*)
.claude/commands\workflow\lite-execute.md:5:allowed-tools: TodoWrite(*), Task(*), Bash(*)
.claude/commands\workflow\analyze-with-file.md:5:allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Grep(*), Glob(*), Bash(*), Edit(*), Write(*)
.claude/commands\workflow\brainstorm\artifacts.md:5:allowed-tools: TodoWrite(*), Read(*), Write(*), Glob(*), AskUserQuestion(*)
.claude/commands\ccw-coordinator.md:5:allowed-tools: Task(*), AskUserQuestion(*), Read(*), Write(*), Bash(*), Glob(*), Grep(*)
.claude/commands\workflow\review-session-cycle.md:5:allowed-tools: Skill(*), TodoWrite(*), Read(*), Bash(*), Task(*)
.claude/commands\workflow\plan-verify.md:5:allowed-tools: Read(*), Write(*), Glob(*), Bash(*)
.claude/commands\cli\codex-review.md:5:allowed-tools: Bash(*), AskUserQuestion(*), Read(*)
.claude/commands\workflow\replan.md:5:allowed-tools: Read(*), Write(*), Edit(*), TodoWrite(*), Glob(*), Bash(*)
.claude/commands\workflow\brainstorm\synthesis.md:5:allowed-tools: Task(conceptual-planning-agent), TodoWrite(*), Read(*), Write(*), Edit(*), Glob(*), AskUserQuestion(*)
.claude/commands\workflow\review-module-cycle.md:5:allowed-tools: Skill(*), TodoWrite(*), Read(*), Bash(*), Task(*)
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

rg -n "workflow:session" .claude/commands/workflow -S' in C:\Project\Claude-Code-Workflow succeeded in 324ms:
.claude/commands/workflow\execute.md:36:- **Completion Choice**: Automatically completes session (runs `/workflow:session:complete --yes`)
.claude/commands/workflow\execute.md:121:      └─ "Complete Session" → /workflow:session:complete
.claude/commands/workflow\execute.md:321:  Skill(skill="workflow:session:complete", args="--yes")
.claude/commands/workflow\execute.md:346:- **"Complete Session"**: Execute `/workflow:session:complete`
.claude/commands/workflow\clean.md:546:- `/workflow:session:complete` - Properly archive active sessions
.claude/commands/workflow\review.md:321:→ Run /workflow:session:complete to archive with lessons learned
.claude/commands/workflow\review-session-cycle.md:170:    error("No active session found. Create session first with /workflow:session:start");
.claude/commands/workflow\lite-execute.md:411:  // Project guidelines (user-defined constraints from /workflow:session:solidify)
.claude/commands/workflow\plan.md:61:   └─ /workflow:session:start --auto "structured-description"
.claude/commands/workflow\plan.md:91:Skill(skill="workflow:session:start", args="--auto \"[structured-task-description]\"")
.claude/commands/workflow\plan.md:682:/workflow:session:start --auto "GOAL: Build authentication\nSCOPE: JWT, login, registration\nCONTEXT: REST API"
.claude/commands/workflow\plan.md:695:- `/workflow:session:start` - Phase 1: Create or discover workflow session
.claude/commands/workflow\review-module-cycle.md:27:**Session Requirement**: Auto-creates workflow session via `/workflow:session:start`
.claude/commands/workflow\review-module-cycle.md:190:Skill(skill="workflow:session:start", args="--type review \"Code review for [target_pattern]\"")
.claude/commands/workflow\init-guidelines.md:385:- Use /workflow:session:solidify to add individual rules later
.claude/commands/workflow\init-guidelines.md:408:- `/workflow:session:solidify` - Add individual rules one at a time
.claude/commands/workflow\review-cycle-fix.md:268:  - If confirmed: Execute `/workflow:session:complete` to archive session with lessons learned
.claude/commands/workflow\init.md:82:Use /workflow:session:solidify to add guidelines
.claude/commands/workflow\init.md:248:          description: "You can run /workflow:init-guidelines later or use /workflow:session:solidify to add rules individually"
.claude/commands/workflow\init.md:261:- Use /workflow:session:solidify to add individual rules
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw .claude/commands/workflow/session/list.md' in C:\Project\Claude-Code-Workflow succeeded in 307ms:
---
name: list
description: List all workflow sessions with status filtering, shows session metadata and progress information
examples:
  - /workflow:session:list
---

# List Workflow Sessions (/workflow:session:list)

## Overview
Display all workflow sessions with their current status, progress, and metadata.

## Usage
```bash
/workflow:session:list       # Show all sessions with status
```

## Implementation Flow

### Step 1: Find All Sessions
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

(Get-Content .claude/commands/workflow/init.md -TotalCount 20) -join "`n"' in C:\Project\Claude-Code-Workflow succeeded in 315ms:
---
name: init
description: Initialize project-level state with intelligent project analysis using cli-explore-agent
argument-hint: "[--regenerate]"
examples:
  - /workflow:init
  - /workflow:init --regenerate
---

# Workflow Init Command (/workflow:init)

## Overview
Initialize `.workflow/project-tech.json` and `.workflow/project-guidelines.json` with comprehensive project understanding by delegating analysis to **cli-explore-agent**.

**Dual File System**:
- `project-tech.json`: Auto-generated technical analysis (stack, architecture, components)
- `project-guidelines.json`: User-maintained rules and constraints (created as scaffold)

**Note**: This command may be called by other workflow commands. Upon completion, return immediately to continue the calling workflow without interrupting the task flow.

exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

rg -n "workflow:session:start|session:start|WFS-" ccw/src -S' in C:\Project\Claude-Code-Workflow succeeded in 328ms:
ccw/src\core\websocket.ts:333:  // Look for session pattern: WFS-xxx, WRS-xxx, etc.
ccw/src\commands\session.ts:293:    console.warn(chalk.gray('   Old: ccw session read WFS-001 --type task --task-id IMPL-001'));
ccw/src\commands\session.ts:294:    console.warn(chalk.gray('   New: ccw session WFS-001 read IMPL-001.json'));
ccw/src\commands\session.ts:304:    console.error(chalk.gray('  ccw session WFS-001 read IMPL-001.json'));
ccw/src\commands\session.ts:305:    console.error(chalk.gray('  ccw session WFS-001 read IMPL_PLAN.md'));
ccw/src\commands\session.ts:306:    console.error(chalk.gray('  ccw session WFS-001 read .task/IMPL-001.json'));
ccw/src\commands\session.ts:423:    console.warn(chalk.gray('   Old: ccw session write WFS-001 --type plan --content "# Plan"'));
ccw/src\commands\session.ts:424:    console.warn(chalk.gray('   New: ccw session WFS-001 write IMPL_PLAN.md "# Plan"'));
ccw/src\commands\session.ts:434:    console.error(chalk.gray('  ccw session WFS-001 write IMPL_PLAN.md "# Implementation Plan"'));
ccw/src\commands\session.ts:435:    console.error(chalk.gray('  ccw session WFS-001 write IMPL-001.json \'{"id":"IMPL-001","status":"pending"}\''));
ccw/src\commands\session.ts:436:    console.error(chalk.gray('  ccw session WFS-001 write .task/IMPL-001.json \'{"status":"completed"}\''));
ccw/src\commands\session.ts:1033:  // Detect new format: ccw session WFS-xxx <operation> <args>
ccw/src\commands\session.ts:1035:  // Exception: 'init' should always use traditional format (ccw session init WFS-xxx)
ccw/src\commands\session.ts:1037:    subcommand.startsWith('WFS-') ||
ccw/src\commands\session.ts:1133:      console.log(chalk.gray('  ccw session WFS-001 init'));
ccw/src\commands\session.ts:1134:      console.log(chalk.gray('  ccw session WFS-001 read IMPL_PLAN.md'));
ccw/src\commands\session.ts:1135:      console.log(chalk.gray('  ccw session WFS-001 read IMPL-001.json'));
ccw/src\commands\session.ts:1136:      console.log(chalk.gray('  ccw session WFS-001 write IMPL_PLAN.md "# Plan"'));
ccw/src\commands\session.ts:1137:      console.log(chalk.gray('  ccw session WFS-001 write IMPL-001.json \'{"status":"pending"}\''));
ccw/src\commands\session.ts:1138:      console.log(chalk.gray('  ccw session WFS-001 stats'));


thinking
**Considering structure and documentation**

I'm thinking about including key components like schema_version, command, intent, and artifacts while keeping it minimal. The references.json file will hold both candidates and selections, and I'll have a plan to address any gaps between outlines and references. I should also ensure there are no placeholders, especially in evidence rows, while being careful with the overall TBD count. Following the requirement doc structure hints closely for outline headings is crucial for clarity and completeness.
thinking
**Gathering reference commands**

I need to find 3 or more reference commands and patterns to include in references.json and the gap report. Potential candidates are `.claude/commands/workflow/session/complete.md`, `list.md`, `resume.md`, `solidify.md`, and `workflow/plan.md`, which involves session starts. The requirement states that the command is session start, so the top candidate should be `.claude/commands/workflow/session/start.md`. I also need to ensure evidence cells reference the correct headings in the documents, focusing on features like how the session-manager handles session creation. I’ll check for stable anchors in the session-manager file to pick appropriate strings.
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

rg -n "session_manager'"\\(\" ccw/src/tools/session-manager.ts -S | Select-Object -First 20" in C:\Project\Claude-Code-Workflow succeeded in 332ms:
1028:  session_manager(operation="init", type="workflow", description="...")
1029:  session_manager(operation="list", location="active|archived|both")
1030:  session_manager(operation="read", sessionId="WFS-xxx", contentType="plan|task|summary")
1031:  session_manager(operation="write", sessionId="WFS-xxx", contentType="plan", content={...})
1032:  session_manager(operation="archive", sessionId="WFS-xxx")
1033:  session_manager(operation="stats", sessionId="WFS-xxx")`,
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

rg -n "project-tech'"\\.json|project-guidelines\\.json\" ccw/src -S" in C:\Project\Claude-Code-Workflow succeeded in 321ms:
ccw/src\core\data-aggregator.ts:207:    join(workflowDir, 'project-tech.json'),
ccw/src\core\data-aggregator.ts:208:    join(workflowDir, 'project-guidelines.json'),
ccw/src\core\data-aggregator.ts:281:  // Load project overview from project-tech.json
ccw/src\core\data-aggregator.ts:567: * Load project overview from project-tech.json and project-guidelines.json
ccw/src\core\data-aggregator.ts:572:  const techFile = join(workflowDir, 'project-tech.json');
ccw/src\core\data-aggregator.ts:573:  const guidelinesFile = join(workflowDir, 'project-guidelines.json');
ccw/src\core\data-aggregator.ts:586:    // Parse tech data from project-tech.json structure
ccw/src\core\data-aggregator.ts:645:        console.error(`Failed to parse project-guidelines.json:`, (guidelinesErr as Error).message);
ccw/src\core\routes\ccw-routes.ts:53:    const guidelinesFile = join(resolvedPath, '.workflow', 'project-guidelines.json');
ccw/src\core\routes\ccw-routes.ts:78:      const guidelinesFile = join(resolvedPath, '.workflow', 'project-guidelines.json');
ccw/src\tools\session-manager.ts:923:  const projectTechFile = join(root, WORKFLOW_BASE, 'project-tech.json');
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content ccw/src/tools/session-manager.ts | Select-Object -Skip 880 -First 120' in C:\Project\Claude-Code-Workflow succeeded in 334ms:
        const status = taskData.status || 'unknown';
        if (status in taskStats) {
          (taskStats as any)[status]++;
        }
      } catch {
        // Skip invalid task files
      }
    }
  }

  // Count summaries
  let summariesCount = 0;
  if (existsSync(summariesDir)) {
    summariesCount = readdirSync(summariesDir).filter((f) => f.endsWith('.md')).length;
  }

  // Check for plan
  const hasPlan = existsSync(planFile);

  return {
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

rg -n "function executeInit|executeInit'"\\(\" ccw/src/tools/session-manager.ts -S" in C:\Project\Claude-Code-Workflow succeeded in 331ms:
347:function executeInit(params: Params): any {
995:      return executeInit(params);
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content ccw/src/tools/session-manager.ts | Select-Object -Skip 320 -First 120' in C:\Project\Claude-Code-Workflow succeeded in 334ms:
          ];
          for (const metaPath of metaPaths) {
            if (existsSync(metaPath)) {
              try {
                sessionInfo.metadata = readJsonFile(metaPath);
                break;
              } catch { /* continue */ }
            }
          }
        }
        return sessionInfo;
      });
  } catch {
    return [];
  }
}

// ============================================================
// Operation Handlers
// ============================================================
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

rg -n "'"\\\"candidates\\\"\\s*:\\s*\\[|candidates\\[\\]\" .codex/skills/slash-command-outliner -S" in C:\Project\Claude-Code-Workflow exited 1 in 295ms:
rg: regex parse error:
    (?:\)
    ^
error: unclosed group

thinking
**Searching for candidates**

I realize my regex is invalid, so I should simplify my approach. Instead of trying to fix it, I'll just search for the string "candidates." This way, I can focus on getting the results I need without unnecessary complications. It's all about finding the simplest path forward and avoiding any potential headaches with regex. Alright, let's see what I can find!
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

rg -n "candidates" .codex/skills/slash-command-outliner -S' in C:\Project\Claude-Code-Workflow succeeded in 324ms:
.codex/skills/slash-command-outliner\phases\02-retrieve-and-rank-references.md:10:2) Produce Top N candidates (default N=5) with deterministic scoring:
.codex/skills/slash-command-outliner\phases\02-retrieve-and-rank-references.md:23:- `candidates[]` with `{slash, file_path, score, why}`
.codex/skills/slash-command-outliner\scripts\lib\implementation-hints.js:84:  const candidates = extractAllMatches(text, /`([^`]+)`/g, 1)
.codex/skills/slash-command-outliner\scripts\lib\implementation-hints.js:87:  return candidates.filter((x) => /[\\/]/.test(x) || /\.[A-Za-z0-9]{1,4}$/.test(x));
.codex/skills/slash-command-outliner\scripts\lib\implementation-hints.js:153:  const candidates = [];
.codex/skills/slash-command-outliner\scripts\lib\implementation-hints.js:154:  if (command?.group) candidates.push(`ccw/src/commands/${command.group}.ts`);
.codex/skills/slash-command-outliner\scripts\lib\implementation-hints.js:155:  if (command?.name) candidates.push(`ccw/src/commands/${command.name}.ts`);
.codex/skills/slash-command-outliner\scripts\lib\implementation-hints.js:156:  candidates.push('ccw/src/tools/command-registry.ts');
.codex/skills/slash-command-outliner\scripts\lib\implementation-hints.js:157:  candidates.push('ccw/src/tools/cli-executor.ts');
.codex/skills/slash-command-outliner\scripts\lib\implementation-hints.js:159:  return unique(candidates.filter((p) => fileExists(repoRoot, p)));
.codex/skills/slash-command-outliner\scripts\lib\implementation-hints.js:162:function toolNameToFileCandidates(toolName) {
.codex/skills/slash-command-outliner\scripts\lib\implementation-hints.js:178:    for (const candidate of toolNameToFileCandidates(tn)) {
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content -Raw ccw/src/core/session-scanner.ts' in C:\Project\Claude-Code-Workflow succeeded in 319ms:
import { glob } from 'glob';
import { readFile, readdir, stat, access } from 'fs/promises';
import { constants } from 'fs';
import { join, basename } from 'path';
import type { SessionMetadata, SessionType } from '../types/session.js';
async function fileExists(path: string): Promise<boolean> {
  try {
    await access(path, constants.F_OK);
    return true;
  } catch {
    return false;
  }
}

interface SessionData extends SessionMetadata {
  path: string;
  isActive: boolean;
  archived_at?: string | null;
  workflow_type?: string | null;
}





thinking
**Checking patch application tools**

I’m considering the apply_patch tool, which might create directories. I wonder if it fails when directories are missing. To be safe, I think about ensuring directories exist with a shell command, but I want to avoid excessive commands. The write_file tool might automatically create those directories, so that’s a possibility too. Earlier, I faced an issue with MCP tools, but I’ll start with apply_patch first and fall back to shell commands if necessary.
thinking
**Preparing documents for verification**

Before I write, I need to prepare the content for spec.json and references.json. I'll make sure to run the node verify script using a shell command, but I want to avoid creating any extra files. The verify script shouldn't write anything new. I might also create a fix-plan.md based on the gap report, focusing on identifying p0 and p1 gaps. Since our outline will draw from the requirements doc, p0 gaps should be minimal. I'll also set the selected reference and file path for the gap report correctly.
thinking
**Clarifying gap report details**

I realize the gap report compares the generated outline to the reference. If the reference lacks allowed-tools, could that cause a mismatch? However, we're not running the computeGapReport script, so I can create my own. We should align with the quality gate instead of the oracle doc. In the gap report, I can note that the oracle doc is missing allowed-tools and grouping, but that's more about corpus inconsistency than a true gap. I'll make sure our outlines remain P0 compliant and include an Implementation pointers table and a minimal fix plan, focusing on verifying the nested command format.
thinking
**Adjusting the outline and spec.json structure**

I think the expectations are clear: the template uses `/workflow:start`, but the actual command is `/workflow:session:start`, so I'll need to adjust that in the outline. The requirements also state that output files should be concise, so I need to avoid writing unnecessary extra content. As for spec.json, it should include a `schema_version`. I’m considering a structure that includes the necessary fields, including the creation date, which I can set to the current date in ISO format. Determinism isn’t required, so I’ll proceed accordingly.
thinking
**Ensuring implementation and evidence tracking**

I need to make sure the script is satisfied with proper headings and anchors. I'll include implementation hints for tools like session-manager and session-scanner. For the proposed fix plan, I plan to outline minimal steps, such as adding allowed-tools to the actual command documentation and aligning with tools. I’ll also create a separate bullet list in `fix-plan.md`, specifying necessary changes with scope labels. 

Finally, I'll run `verify-evidence.js` on both the gap report and the generated outline, ensuring that the evidence table header has the required columns: "Pointer," "Status," "Evidence," and "Verify." I'll also check if the column names can be recognized by the script.
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

rg -n "function findEvidenceTables" .codex/skills/slash-command-outliner/scripts/verify-evidence.js' in C:\Project\Claude-Code-Workflow succeeded in 319ms:
166:export function findEvidenceTables(lines) {
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-Content .codex/skills/slash-command-outliner/scripts/verify-evidence.js | Select-Object -Skip 150 -First 120' in C:\Project\Claude-Code-Workflow succeeded in 339ms:
  const parts = raw.split('|');
  // Support both forms:
  // - with trailing pipe: "| a | b |"
  // - without trailing pipe: "| a | b"
  const sliceEnd = raw.endsWith('|') ? -1 : undefined;
  const cells = parts
    .slice(1, sliceEnd)
    .map((c) => String(c).trim());
  return cells;
}

export function isSeparatorRow(cells) {
  return cells.every((c) => /^:?-{3,}:?$/.test(c));
}

export function findEvidenceTables(lines) {
  const tables = [];
  for (let i = 0; i < lines.length; i++) {
    const cells = splitTableRow(lines[i]);
    if (!cells) continue;



thinking
**Confirming evidence standards**

I need to make sure that column headers contain the substring 'evidence', and our "Evidence (docs + TS)" column does that, which is good. I see that the gap report template uses "Evidence" as well, so that's fine. 

The requirement stresses avoiding placeholders like TBD/N/A; I’ll keep that in mind. For evidence anchors, I'll ensure the TS anchor string includes the exact substring and confirm function signatures. I'll check that they exist accurately before proceeding.
thinking
**Checking tool sets and outputs**

I need to review the allowed tools list, which likely includes `Skill(*)`. For the template frontmatter, I see that `{{command.allowed_tools_csv}}` should reflect that. I’ll produce a CSV including tool names like `Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)`, keeping the same order. 

The `argument-hint` must be quoted as a string, so I'll ensure to format that correctly. I'll write outputs using apply_patch and check that necessary directories exist first. I’ll also define the output directory path and ensure all files remain concise, following the specified guidelines.
thinking
**Searching for session start**

I plan to use `functions.mcp__ace-tool__search_context` to look for "session start" and similar terms. I’m thinking this approach might work, but there's always that little uncertainty! I’ll just go ahead and try it out. If it succeeds, that would be great, but if not, I’ll need to reconsider my strategy. Let’s keep pushing forward and see what I can find with this search!
tool ace-tool.search_context({"project_root_path":"C:/Project/Claude-Code-Workflow","query":"Locate implementations related to workflow sessions (WFS-), session start/init, and session management tools. Keywords: session_manager, WFS-, workflow-session.json, .workflow/active"})
ace-tool.search_context({"project_root_path":"C:/Project/Claude-Code-Workflow","query":"Locate implementations related to workflow sessions (WFS-), session start/init, and session management tools. Keywords: session_manager, WFS-, workflow-session.json, .workflow/active"}) success in 8.06s:
{
  "content": [
    {
      "text": "The following code sections were retrieved:\nPath: ccw\\src\\tools\\session-manager.ts#chunk1of2\n...\n     6\t\r\n     7\timport { z } from 'zod';\r\n     8\timport type { ToolSchema, ToolResult } from '../types/tool.js';\r\n     9\timport {\r\n    10\t  readFileSync,\r\n    11\t  writeFileSync,\r\n    12\t  existsSync,\r\n    13\t  readdirSync,\r\n    14\t  mkdirSync,\r\n    15\t  renameSync,\r\n    16\t  rmSync,\r\n    17\t  statSync,\r\n    18\t} from 'fs';\r\n    19\timport { resolve, join, dirname } from 'path';\r\n    20\t\r\n    21\t// Base paths for session storage\r\n    22\tconst WORKFLOW_BASE = '.workflow';\r\n    23\tconst ACTIVE_BASE = '.workflow/active';\r\n    24\tconst ARCHIVE_BASE = '.workflow/archives';\r\n    25\tconst LITE_PLAN_BASE = '.workflow/.lite-plan';\r\n    26\tconst LITE_FIX_BASE = '.workflow/.lite-fix';\r\n    27\t\r\n    28\t// Session ID validation pattern (alphanumeric, hyphen, underscore)\r\n    29\tconst SESSION_ID_PATTERN = /^[a-zA-Z0-9_-]+$/;\r\n    30\t\r\n    31\t// Zod schemas - using tuple syntax for z.enum\r\n    32\tconst ContentTypeEnum = z.enum([\r\n    33\t  'session', 'plan', 'task', 'summary', 'process', 'chat', 'brainstorm',\r\n    34\t  'review-dim', 'review-iter', 'review-fix', 'todo', 'context',\r\n    35\t  // Lite-specific content types\r\n    36\t  'lite-plan', 'lite-fix-plan', 'exploration', 'explorations-manifest',\r\n    37\t  'diagnosis', 'diagnoses-manifest', 'clarifications', 'execution-context', 'session-metadata'\r\n    38\t]);\r\n    39\t\r\n    40\tconst OperationEnum = z.enum(['init', 'list', 'read', 'write', 'update', 'archive', 'mkdir', 'delete', 'stats']);\r\n    41\t\r\n    42\tconst LocationEnum = z.enum([\r\n    43\t  'active', 'archived', 'both',\r\n    44\t  'lite-plan', 'lite-fix', 'all'\r\n    45\t]);\r\n...\n   142\t\r\n   143\t/**\r\n   144\t * Content type to file path routing\r\n   145\t * {base} is replaced with session base path\r\n   146\t * Dynamic params: {task_id}, {filename}, {dimension}, {iteration}\r\n   147\t */\r\n   148\tconst PATH_ROUTES: Record<ContentType, string> = {\r\n   149\t  // Standard WFS content types\r\n   150\t  session: '{base}/workflow-session.json',\r\n   151\t  plan: '{base}/IMPL_PLAN.md',\r\n   152\t  task: '{base}/.task/{task_id}.json',\r\n   153\t  summary: '{base}/.summaries/{task_id}-summary.md',\r\n   154\t  process: '{base}/.process/{filename}',\r\n   155\t  chat: '{base}/.chat/{filename}',\r\n   156\t  brainstorm: '{base}/.brainstorming/{filename}',\r\n   157\t  'review-dim': '{base}/.review/dimensions/{dimension}.json',\r\n   158\t  'review-iter': '{base}/.review/iterations/{iteration}.json',\r\n   159\t  'review-fix': '{base}/.review/fixes/{filename}',\r\n   160\t  todo: '{base}/TODO_LIST.md',\r\n   161\t  context: '{base}/context-package.json',\r\n...\n   389\t\r\n   390\t  // Create session metadata file if provided\r\n   391\t  let sessionMetadata = null;\r\n   392\t  if (metadata) {\r\n   393\t    const sessionFile = sessionLocation.startsWith('lite-')\r\n   394\t      ? join(sessionPath, 'session-metadata.json')  // Lite sessions\r\n   395\t      : join(sessionPath, 'workflow-session.json'); // WFS sessions\r\n   396\t\r\n   397\t    const sessionData = {\r\n   398\t      session_id,\r\n   399\t      type: metadata?.type || sessionLocation,  // Preserve user-specified type if provided\r\n   400\t      status: 'initialized',\r\n   401\t      created_at: new Date().toISOString(),\r\n   402\t      ...metadata,\r\n   403\t    };\r\n   404\t    writeJsonFile(sessionFile, sessionData);\r\n   405\t    sessionMetadata = sessionData;\r\n   406\t  }\r\n...\n   418\t\r\n   419\t/**\r\n   420\t * Operation: list\r\n   421\t * List sessions (active, archived, lite-plan, lite-fix, or all)\r\n   422\t */\r\n   423\tfunction executeList(params: Params): any {\r\n   424\t  const { location = 'both', include_metadata = false } = params;\r\n   425\t\r\n   426\t  const result: {\r\n   427\t    operation: string;\r\n   428\t    active: SessionInfo[];\r\n   429\t    archived: SessionInfo[];\r\n   430\t    litePlan: SessionInfo[];\r\n   431\t    liteFix: SessionInfo[];\r\n   432\t    total: number;\r\n   433\t  } = {\r\n   434\t    operation: 'list',\r\n   435\t    active: [],\r\n   436\t    archived: [],\r\n   437\t    litePlan: [],\r\n   438\t    liteFix: [],\r\n   439\t    total: 0,\r\n   440\t  };\r\n   441\t\r\n   442\t  const root = findWorkflowRoot();\r\n   443\t\r\n   444\t  // Helper to check if location should be included\r\n   445\t  const shouldInclude = (loc: string) =>\r\n   446\t    location === 'all' || location === 'both' || location === loc;\r\n...\n   566\t\r\n   567\t  const filePath = resolvePath(session.path, content_type, path_params as Record<string, string>);\r\n   568\t  const isJson = filePath.endsWith('.json');\r\n   569\t\r\n   570\t  // Write content\r\n   571\t  if (isJson) {\r\n   572\t    writeJsonFile(filePath, content);\r\n   573\t  } else {\r\n   574\t    writeTextFile(filePath, typeof content === 'string' ? content : JSON.stringify(content, null, 2));\r\n   575\t  }\r\n   576\t\r\n   577\t  // Return written content for task/summary types\r\n   578\t  const returnContent =\r\n   579\t    content_type === 'task' || content_type === 'summary' ? content : undefined;\r\n   580\t\r\n   581\t  return {\r\n   582\t    operation: 'write',\r\n   583\t    session_id,\r\n   584\t    content_type,\r\n   585\t    written_content: returnContent,\r\n   586\t    path: filePath,\r\n   587\t    location: session.location,\r\n   588\t    message: `File written successfully`,\r\n   589\t  };\r\n   590\t}\r\n...\n\nPath: .claude\\commands\\workflow\\session\\start.md\n...\n    25\t\r\n    26\t| Type | Description | Default For |\r\n    27\t|------|-------------|-------------|\r\n    28\t| `workflow` | Standard implementation (default) | `/workflow:plan` |\r\n    29\t| `review` | Code review sessions | `/workflow:review-module-cycle` |\r\n    30\t| `tdd` | TDD-based development | `/workflow:tdd-plan` |\r\n    31\t| `test` | Test generation/fix sessions | `/workflow:test-fix-gen` |\r\n    32\t| `docs` | Documentation sessions | `/memory:docs` |\r\n    33\t\r\n    34\t**Validation**: If `--type` is provided with invalid value, return error:\r\n    35\t```\r\n    36\tERROR: Invalid session type. Valid types: workflow, review, tdd, test, docs\r\n    37\t```\r\n    38\t\r\n    39\t## Step 0: Initialize Project State (First-time Only)\r\n    40\t\r\n    41\t**Executed before all modes** - Ensures project-level state files exist by calling `/workflow:init`.\r\n...\n    64\t\r\n    65\t**Note**: `/workflow:init` uses cli-explore-agent to build comprehensive project understanding (technology stack, architecture, key components). This step runs once per project. Subsequent executions skip initialization.\r\n    66\t\r\n    67\t## Mode 1: Discovery Mode (Default)\r\n    68\t\r\n    69\t### Usage\r\n    70\t```bash\r\n    71\t/workflow:session:start\r\n    72\t```\r\n    73\t\r\n    74\t### Step 1: List Active Sessions\r\n    75\t```bash\r\n    76\tbash(ls -1 .workflow/active/ 2>/dev/null | head -5)\r\n    77\t```\r\n    78\t\r\n    79\t### Step 2: Display Session Metadata\r\n    80\t```bash\r\n    81\tbash(cat .workflow/active/WFS-promptmaster-platform/workflow-session.json)\r\n    82\t```\r\n    83\t\r\n    84\t### Step 4: User Decision\r\n    85\tPresent session information and wait for user to select or create session.\r\n    86\t\r\n    87\t**Output**: `SESSION_ID: WFS-[user-selected-id]`\r\n    88\t\r\n    89\t## Mode 2: Auto Mode (Intelligent)\r\n    90\t\r\n    91\t### Usage\r\n    92\t```bash\r\n    93\t/workflow:session:start --auto \"task description\"\r\n    94\t```\r\n    95\t\r\n    96\t### Step 1: Check Active Sessions Count\r\n    97\t```bash\r\n    98\tbash(find .workflow/active/ -name \"WFS-*\" -type d 2>/dev/null | wc -l)\r\n    99\t```\r\n   100\t\r\n   101\t### Step 2a: No Active Sessions → Create New\r\n   102\t```bash\r\n   103\t# Generate session slug\r\n   104\tbash(echo \"implement OAuth2 auth\" | sed 's/[^a-zA-Z0-9]/-/g' | tr '[:upper:]' '[:lower:]' | cut -c1-50)\r\n   105\t\r\n   106\t# Create directory structure\r\n   107\tbash(mkdir -p .workflow/active/WFS-implement-oauth2-auth/.process)\r\n   108\tbash(mkdir -p .workflow/active/WFS-implement-oauth2-auth/.task)\r\n   109\tbash(mkdir -p .workflow/active/WFS-implement-oauth2-auth/.summaries)\r\n   110\t\r\n   111\t# Create metadata (include type field, default to \"workflow\" if not specified)\r\n   112\tbash(echo '{\"session_id\":\"WFS-implement-oauth2-auth\",\"project\":\"implement OAuth2 auth\",\"status\":\"planning\",\"type\":\"workflow\",\"created_at\":\"2024-12-04T08:00:00Z\"}' > .workflow/active/WFS-implement-oauth2-auth/workflow-session.json)\r\n   113\t```\r\n   114\t\r\n   115\t**Output**: `SESSION_ID: WFS-implement-oauth2-auth`\r\n   116\t\r\n   117\t### Step 2b: Single Active Session → Check Relevance\r\n   118\t```bash\r\n   119\t# Extract session ID\r\n   120\tbash(find .workflow/active/ -name \"WFS-*\" -type d 2>/dev/null | head -1 | xargs basename)\r\n   121\t\r\n   122\t# Read project name from metadata\r\n   123\tbash(cat .workflow/active/WFS-promptmaster-platform/workflow-session.json | grep -o '\"project\":\"[^\"]*\"' | cut -d'\"' -f4)\r\n   124\t\r\n   125\t# Check keyword match (manual comparison)\r\n   126\t# If task contains project keywords → Reuse session\r\n   127\t# If task unrelated → Create new session (use Step 2a)\r\n   128\t```\r\n   129\t\r\n   130\t**Output (reuse)**: `SESSION_ID: WFS-promptmaster-platform`\r\n   131\t**Output (new)**: `SESSION_ID: WFS-[new-slug]`\r\n   132\t\r\n   133\t### Step 2c: Multiple Active Sessions → Use First\r\n   134\t```bash\r\n   135\t# Get first active session\r\n   136\tbash(find .workflow/active/ -name \"WFS-*\" -type d 2>/dev/null | head -1 | xargs basename)\r\n   137\t\r\n   138\t# Output warning and session ID\r\n   139\t# WARNING: Multiple active sessions detected\r\n   140\t# SESSION_ID: WFS-first-session\r\n   141\t```\r\n   142\t\r\n   143\t## Mode 3: Force New Mode\r\n   144\t\r\n   145\t### Usage\r\n   146\t```bash\r\n   147\t/workflow:session:start --new \"task description\"\r\n   148\t```\r\n...\n\nPath: FAQ.md\n...\n   307\t\r\n   308\tA workflow session is an **isolated workspace** for a specific feature or project. It contains:\r\n   309\t- Task definitions (JSON files)\r\n   310\t- Brainstorming artifacts\r\n   311\t- Generated plans\r\n   312\t- Chat logs\r\n   313\t- Session state\r\n   314\t\r\n   315\t**Location**: `.workflow/active/WFS-<session-name>/`\r\n   316\t\r\n   317\t### How are sessions created?\r\n   318\t\r\n   319\tSessions are created automatically when you run:\r\n   320\t```bash\r\n   321\t/workflow:session:start \"Feature name\"\r\n   322\t/workflow:plan \"Feature description\"\r\n   323\t/workflow:brainstorm:auto-parallel \"Topic\"\r\n   324\t```\r\n   325\t\r\n   326\t### How do I list all sessions?\r\n   327\t\r\n   328\t```bash\r\n   329\t/workflow:session:list\r\n   330\t```\r\n   331\t\r\n   332\tShows all sessions with their status (active, paused, completed).\r\n   333\t\r\n   334\t### What happens when I complete a session?\r\n   335\t\r\n   336\t```bash\r\n   337\t/workflow:session:complete\r\n   338\t```\r\n...\n\nPath: ccw\\src\\tools\\session-manager.ts#chunk2of2\n...\n   226\t\r\n   227\tUsage:\r\n   228\t  session_manager(operation=\"init\", type=\"workflow\", description=\"...\")\r\n   229\t  session_manager(operation=\"list\", location=\"active|archived|both\")\r\n   230\t  session_manager(operation=\"read\", sessionId=\"WFS-xxx\", contentType=\"plan|task|summary\")\r\n   231\t  session_manager(operation=\"write\", sessionId=\"WFS-xxx\", contentType=\"plan\", content={...})\r\n   232\t  session_manager(operation=\"archive\", sessionId=\"WFS-xxx\")\r\n   233\t  session_manager(operation=\"stats\", sessionId=\"WFS-xxx\")`,\r\n   234\t  inputSchema: {\r\n   235\t    type: 'object',\r\n   236\t    properties: {\r\n   237\t      operation: {\r\n   238\t        type: 'string',\r\n   239\t        enum: ['init', 'list', 'read', 'write', 'update', 'archive', 'mkdir', 'delete', 'stats'],\r\n   240\t        description: 'Operation to perform',\r\n   241\t      },\r\n...\n   301\t\r\n   302\texport async function handler(params: Record<string, unknown>): Promise<ToolResult> {\r\n   303\t  const parsed = ParamsSchema.safeParse(params);\r\n   304\t  if (!parsed.success) {\r\n   305\t    return { success: false, error: `Invalid params: ${parsed.error.message}` };\r\n   306\t  }\r\n   307\t\r\n   308\t  try {\r\n   309\t    const result = await execute(parsed.data);\r\n   310\t    return { success: true, result };\r\n   311\t  } catch (error) {\r\n   312\t    return { success: false, error: (error as Error).message };\r\n   313\t  }\r\n   314\t}\r\n...\n\nPath: .claude\\commands\\workflow\\session\\complete.md\n...\n    33\t\r\n    34\t| File | Extract |\r\n    35\t|------|---------|\r\n    36\t| `$SESSION_PATH/workflow-session.json` | session_id, description, started_at, status |\r\n    37\t| `$SESSION_PATH/IMPL_PLAN.md` | title (first # heading), description (first paragraph) |\r\n    38\t| `$SESSION_PATH/.tasks/*.json` | count files |\r\n    39\t| `$SESSION_PATH/.summaries/*.md` | count files |\r\n    40\t| `$SESSION_PATH/.review/dimensions/*.json` | count + findings summary (optional) |\r\n    41\t\r\n    42\t## Execution Flow\r\n    43\t\r\n    44\t### Phase 1: Find Session (2 commands)\r\n    45\t\r\n    46\t```bash\r\n    47\t# 1. Find and extract session\r\n    48\tSESSION_PATH=$(find .workflow/active/ -maxdepth 1 -name \"WFS-*\" -type d | head -1)\r\n    49\tSESSION_ID=$(basename \"$SESSION_PATH\")\r\n    50\t\r\n    51\t# 2. Check/create archiving marker\r\n    52\ttest -f \"$SESSION_PATH/.archiving\" && echo \"RESUMING\" || touch \"$SESSION_PATH/.archiving\"\r\n    53\t```\r\n...\n\nPath: .claude\\commands\\workflow\\init.md\n...\n     9\t\r\n    10\t# Workflow Init Command (/workflow:init)\r\n    11\t\r\n    12\t## Overview\r\n    13\tInitialize `.workflow/project-tech.json` and `.workflow/project-guidelines.json` with comprehensive project understanding by delegating analysis to **cli-explore-agent**.\r\n    14\t\r\n    15\t**Dual File System**:\r\n    16\t- `project-tech.json`: Auto-generated technical analysis (stack, architecture, components)\r\n    17\t- `project-guidelines.json`: User-maintained rules and constraints (created as scaffold)\r\n    18\t\r\n    19\t**Note**: This command may be called by other workflow commands. Upon completion, return immediately to continue the calling workflow without interrupting the task flow.\r\n    20\t\r\n    21\t## Usage\r\n    22\t```bash\r\n    23\t/workflow:init                 # Initialize (skip if exists)\r\n    24\t/workflow:init --regenerate    # Force regeneration\r\n    25\t```\r\n    26\t\r\n    27\t## Execution Process\r\n...\n    37\t\r\n    38\tAnalysis Flow:\r\n    39\t   ├─ Get project metadata (name, root)\r\n    40\t   ├─ Invoke cli-explore-agent\r\n    41\t   │   ├─ Structural scan (get_modules_by_depth.sh, find, wc)\r\n    42\t   │   ├─ Semantic analysis (Gemini CLI)\r\n    43\t   │   ├─ Synthesis and merge\r\n    44\t   │   └─ Write .workflow/project-tech.json\r\n    45\t   ├─ Create guidelines scaffold (if not exists)\r\n    46\t   │   └─ Write .workflow/project-guidelines.json (empty structure)\r\n    47\t   ├─ Display summary\r\n    48\t   └─ Ask about guidelines configuration\r\n    49\t       ├─ If guidelines empty → Ask user: \"Configure now?\" or \"Skip\"\r\n    50\t       │   ├─ Configure now → Skill(skill=\"workflow:init-guidelines\")\r\n    51\t       │   └─ Skip → Show next steps\r\n    52\t       └─ If guidelines populated → Show next steps only\r\n    53\t\r\n    54\tOutput:\r\n    55\t   ├─ .workflow/project-tech.json (+ .backup if regenerate)\r\n    56\t   └─ .workflow/project-guidelines.json (scaffold or configured)\r\n    57\t```\r\n...\n    85\t\r\n    86\t### Step 2: Get Project Metadata\r\n    87\t\r\n    88\t```bash\r\n    89\tbash(basename \"$(git rev-parse --show-toplevel 2>/dev/null || pwd)\")\r\n    90\tbash(git rev-parse --show-toplevel 2>/dev/null || pwd)\r\n    91\tbash(mkdir -p .workflow)\r\n    92\t```\r\n    93\t\r\n    94\t### Step 3: Invoke cli-explore-agent\r\n    95\t\r\n    96\t**For --regenerate**: Backup and preserve existing data\r\n    97\t```bash\r\n    98\tbash(cp .workflow/project-tech.json .workflow/project-tech.json.backup)\r\n    99\t```\r\n   100\t\r\n   101\t**Delegate analysis to agent**:\r\n   102\t\r\n   103\t```javascript\r\n   104\tTask(\r\n   105\t  subagent_type=\"cli-explore-agent\",\r\n   106\t  run_in_background=false,\r\n   107\t  description=\"Deep project analysis\",\r\n   108\t  prompt=`\r\n   109\tAnalyze project for workflow initialization and generate .workflow/project-tech.json.\r\n...\n   253\t\r\n   254\t  if (userChoice.answers[\"Guidelines\"] === \"Configure now (Recommended)\") {\r\n   255\t    console.log(\"\\n🔧 Starting guidelines configuration wizard...\\n\");\r\n   256\t    Skill(skill=\"workflow:init-guidelines\");\r\n   257\t  } else {\r\n   258\t    console.log(`\r\n   259\tNext steps:\r\n   260\t- Use /workflow:init-guidelines to configure guidelines interactively\r\n   261\t- Use /workflow:session:solidify to add individual rules\r\n   262\t- Use /workflow:plan to start planning\r\n   263\t`);\r\n   264\t  }\r\n   265\t} else {\r\n   266\t  console.log(`\r\n   267\tGuidelines already configured (${guidelines.conventions.coding_style.length + guidelines.constraints.architecture.length}+ rules).\r\n...\n\nPath: .claude\\commands\\workflow\\execute.md\n...\n   159\t\r\n   160\tList sessions with metadata and prompt user selection:\r\n   161\t```bash\r\n   162\tbash(for dir in .workflow/active/WFS-*/; do [ -d \"$dir\" ] || continue; session=$(basename \"$dir\"); project=$(jq -r '.project // \"Unknown\"' \"${dir}workflow-session.json\" 2>/dev/null || echo \"Unknown\"); total=$(grep -c '^\\- \\[' \"${dir}TODO_LIST.md\" 2>/dev/null || echo 0); completed=$(grep -c '^\\- \\[x\\]' \"${dir}TODO_LIST.md\" 2>/dev/null || echo 0); if [ \"$total\" -gt 0 ]; then progress=$((completed * 100 / total)); else progress=0; fi; echo \"$session | $project | $completed/$total tasks ($progress%)\"; done)\r\n   163\t```\r\n   164\t\r\n   165\t**Parse --yes flag**:\r\n   166\t```javascript\r\n   167\tconst autoYes = $ARGUMENTS.includes('--yes') || $ARGUMENTS.includes('-y')\r\n   168\t```\r\n...\n\nPath: ccw\\src\\commands\\workflow.ts\n...\n   133\t\r\n   134\t/**\r\n   135\t * List installed workflows\r\n   136\t */\r\n   137\tasync function listWorkflows(): Promise<void> {\r\n   138\t  const targetDir = getWorkflowTargetDir();\r\n   139\t\r\n   140\t  console.log(chalk.blue.bold('\\n  Installed Workflows\\n'));\r\n   141\t\r\n   142\t  let hasWorkflows = false;\r\n   143\t\r\n   144\t  for (const source of WORKFLOW_SOURCES) {\r\n   145\t    const targetPath = join(targetDir, source.name);\r\n   146\t\r\n   147\t    if (existsSync(targetPath)) {\r\n   148\t      hasWorkflows = true;\r\n   149\t      const files = readdirSync(targetPath, { recursive: true });\r\n   150\t      const fileCount = files.filter(f => {\r\n   151\t        const fullPath = join(targetPath, f.toString());\r\n   152\t        return existsSync(fullPath) && statSync(fullPath).isFile();\r\n   153\t      }).length;\r\n   154\t\r\n   155\t      console.log(chalk.cyan(`  ${source.name}`));\r\n   156\t      console.log(chalk.gray(`    Path: ${targetPath}`));\r\n   157\t      console.log(chalk.gray(`    Files: ${fileCount}`));\r\n   158\t      console.log('');\r\n   159\t    }\r\n   160\t  }\r\n...\n   322\t\r\n   323\t/**\r\n   324\t * Main workflow command handler\r\n   325\t */\r\n   326\texport async function workflowCommand(\r\n   327\t  subcommand?: string,\r\n   328\t  args?: string[],\r\n   329\t  options: WorkflowOptions = {}\r\n   330\t): Promise<void> {\r\n   331\t  switch (subcommand) {\r\n   332\t    case 'install':\r\n   333\t      await installWorkflows(options);\r\n   334\t      break;\r\n   335\t    case 'list':\r\n   336\t    case 'ls':\r\n   337\t      await listWorkflows();\r\n   338\t      break;\r\n   339\t    case 'sync':\r\n   340\t    case 'update':\r\n   341\t      await syncWorkflows(options);\r\n   342\t      break;\r\n   343\t    case 'help':\r\n   344\t    default:\r\n   345\t      showWorkflowHelp();\r\n   346\t      break;\r\n   347\t  }\r\n   348\t}\r\n...\n\nPath: ccw\\src\\cli.ts\n...\n   156\t\r\n   157\t  // Session command\r\n   158\t  program\r\n   159\t    .command('session [subcommand] [args...]')\r\n   160\t    .description('Workflow session lifecycle management')\r\n   161\t    .option('--location <loc>', 'Session location: active|lite-plan|lite-fix (init); Filter: active|archived|both (list)')\r\n   162\t    .option('--type <type>', 'Content type or session type')\r\n   163\t    .option('--content <json>', 'Content for write/update')\r\n   164\t    .option('--task-id <id>', 'Task ID for task content')\r\n   165\t    .option('--filename <name>', 'Filename for process/chat/etc')\r\n   166\t    .option('--dimension <dim>', 'Dimension for review-dim')\r\n   167\t    .option('--iteration <iter>', 'Iteration for review-iter')\r\n   168\t    .option('--subdir <dir>', 'Subdirectory for mkdir')\r\n   169\t    .option('--raw', 'Output raw content only')\r\n   170\t    .option('--no-metadata', 'Exclude metadata from list')\r\n...\n\n",
      "type": "text"
    }
  ]
}

thinking
**Organizing output files**

I'm seeing that the ACE search is working well, as it retrieves the relevant code and documents, confirming that we're meeting the evidence-based requirements. I'll need to create output files in a `.workflow` format based on templates and verify the file path exists. I think running a `Test-Path` command will help us confirm this. 

Also, I should gather headings for the evidence, and it’s essential to create an output directory before we proceed. I can safely run a shell command to create the necessary directory.
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

$dir = '"'.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs'
New-Item -ItemType Directory -Force -Path "'$dir | Out-Null
Write-Output $dir' in C:\Project\Claude-Code-Workflow succeeded in 331ms:
.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs


thinking
**Evaluating session command evidence**

I’m identifying patterns and need to ensure each row has evidence. The command string `.command('session [subcommand] [args...]')` confirms the session command exists, which is stable. I’ll include a pointer to `ccw/src/cli.ts`, although it indicates CLI instead of a slash. Each row will include documentation and TypeScript evidence to satisfy the requirements. I think using just three pointers, like the docs and session-manager.ts, should be enough while keeping it minimal. It's good that session-scanner is a .ts file.
thinking
**Organizing session evidence**

For the session-scanner documentation, I've referenced `.claude/commands/workflow/session/list.md` under "Implementation Flow," which is good. For the `session-manager` pointer, the documentation evidence can be the heading "Mode 3: Force New Mode" from `ccw/src/tools/session-manager.ts`. I want to avoid line breaks in the evidence cells and keep it concise. In the gap-report evidence table, I can reuse the same rows, ensuring the documentation and TypeScript evidence align. I’m planning a list of actions for updating docs/TS, but it’s just a plan. I'll include output files in the outputs directory as well. I’m crafting the patch now, ensuring it adheres to the required grammar and LF endings.
file update
A C:\Project\Claude-Code-Workflow\.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
---
name: start
description: Discover existing sessions or start new workflow session with intelligent session management and conflict detection
argument-hint: "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]"
allowed-tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
group: workflow
---

# Start Workflow Session (/workflow:session:start)

## Overview

- Goal: Discover existing sessions or start a new workflow session, with safe defaults and conflict handling.
- Command: `/workflow:session:start`

## Usage

```bash
/workflow:session:start [--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]
```

## Inputs

- Required inputs:
  - None (Discovery mode)
- Optional inputs:
  - `--type <workflow|review|tdd|test|docs>` (default: `workflow`)
  - `--auto "<task description>"` (intelligent mode; requires task description)
  - `--new "<task description>"` (force-new mode; requires task description)

## Outputs / Artifacts

- Writes:
  - `.workflow/project-tech.json` (first-time only; via `/workflow:init`)
  - `.workflow/project-guidelines.json` (first-time only; via `/workflow:init`)
  - `.workflow/active/WFS-*/` (session directory)
  - `.workflow/active/WFS-*/workflow-session.json` (session metadata; includes `type`)
  - `.workflow/active/WFS-*/.process/`
  - `.workflow/active/WFS-*/.task/`
  - `.workflow/active/WFS-*/.summaries/`
- Reads:
  - `.workflow/project-tech.json` + `.workflow/project-guidelines.json` (presence check)
  - `.workflow/active/` (active session discovery)
  - `.workflow/active/WFS-*/workflow-session.json` (session metadata for reuse decision)

## Implementation Pointers

- Command doc: `.claude/commands/workflow/session/start.md`
- Likely code locations:
  - `ccw/src/tools/session-manager.ts`
  - `ccw/src/core/session-scanner.ts`

### Evidence (Existing vs Planned)

| Pointer | Status | Evidence (docs + TS) | Verify | Why |
|---|---|---|---|---|
| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Oracle command doc and structure hints |
| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session lifecycle operations (init/list/read/write/archive) used by session start |
| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Cross-platform session discovery (WFS-* scanning + metadata parsing) |

## Execution Process

1. Step 0 (always): ensure project state exists
   - If `.workflow/project-tech.json` or `.workflow/project-guidelines.json` missing, delegate to `/workflow:init` and continue.
2. Mode selection (based on args)
   - Discovery (default): list active sessions + show metadata; prompt user to reuse or create new.
   - Auto (`--auto`): if 0 active sessions create new; if 1 active session decide reuse vs new; if many choose first and warn.
   - Force-new (`--new`): always create new session; ensure unique session slug.
3. Session creation (when needed)
   - Generate `WFS-<slug>` (lowercase; max 50; append numeric suffix on collision).
   - Create session directory structure + write `workflow-session.json` including `type` (defaults to `workflow`).
4. Output
   - Print `SESSION_ID: WFS-...`
   - If multiple active sessions were detected in auto mode, also print warning + chosen session id.

## Error Handling

- Invalid `--type`: `ERROR: Invalid session type. Valid types: workflow, review, tdd, test, docs`
- `--auto` or `--new` without a task description: `ERROR: --auto mode requires task description`
- Filesystem failures (mkdir/write): `ERROR: Failed to create session directory`

## Examples

- `/workflow:session:start`
- `/workflow:session:start --auto "implement OAuth2 authentication"`
- `/workflow:session:start --type review "Code review for auth module"`

A C:\Project\Claude-Code-Workflow\.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
# Agent Outline: workflow:start

## Purpose

Implement and/or evolve the slash command according to CCW conventions with minimal regressions.

## Execution Model

- Default: incremental, testable changes
- Use ACE-tool to find existing patterns before adding new abstractions

## State & Artifacts

- Session folder (if used): `.workflow/...`
- Required outputs:
  - Slash MD (command doc): `.claude/commands/workflow/session/start.md`
  - Any scripts/modules referenced by the command (prefer existing `ccw/src/tools/session-manager.ts`)
  - Validation notes (evidence gate) for pointers

## Tooling

- Allowed tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
- Non-negotiables:
  - no unrelated changes
  - verify evidence tables (docs + TS anchors) for all key pointers

## Validation Strategy

- P0 gates: frontmatter + allowed-tools + core sections + artifact references
- Evidence: run `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
- Regression: avoid introducing new P0 failures for completed corpus commands

A C:\Project\Claude-Code-Workflow\.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
# Gap Report: workflow:session:start

## Reference

- Selected reference: /workflow:session:start (`.claude/commands/workflow/session/start.md`)

## P0 Gaps (Must Fix)

- None observed in the generated outline (frontmatter keys present; core sections present; evidence table provided).

## P1 Gaps (Should Fix)

- Align the slash outline's execution steps with the oracle's mode substeps (Mode 1/2/3) so implementers can map 1:1.
- Ensure the output contract is explicit for all modes (Discovery vs Auto vs Force-new) including warning lines for multi-session auto mode.

## P2 Gaps (Optional)

- Add a brief note on whether to implement via `session_manager` tool calls vs direct bash filesystem primitives (prefer tool for portability).

## Implementation Pointers (Evidence)

| Pointer | Status | Evidence | Verify | Notes |
|---|---|---|---|---|
| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Primary spec/oracle for the command behavior |
| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session creation + metadata write; supports list/read/write/archive primitives |
| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Reliable discovery of WFS-* sessions and metadata parsing |

## Implementation Hints (Tooling/Server)

- Prefer `ccw/src/tools/session-manager.ts` operations (`init`, `list`, `read`, `write`) to avoid shell-specific behavior when implementing session start logic.
- For discovery and metadata, reuse `ccw/src/core/session-scanner.ts` parsing rules to keep dashboard/CLI outputs consistent.

## Proposed Fix Plan (Minimal)

1. Docs: Add `allowed-tools` (and optionally `group`) frontmatter to `.claude/commands/workflow/session/start.md` to satisfy P0 gates consistently across the corpus.
2. Implementation: Use `session_manager(operation="list")` for active sessions and `session_manager(operation="init")` for creation; keep the existing output contract (`SESSION_ID: ...`).
3. Validation: Run verify-evidence on the updated command doc and ensure headings referenced in evidence remain stable.

A C:\Project\Claude-Code-Workflow\.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
{
  "schema_version": "1.0.0",
  "id": "CMD-053",
  "created_at": "2026-02-05T01:06:17Z",
  "derived_from": ".workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/requirements/CMD-053.requirements.md",
  "oracle_command_doc": ".claude/commands/workflow/session/start.md",
  "command": {
    "group": "workflow",
    "name": "start",
    "title": "Start Workflow Session (/workflow:session:start)",
    "description": "Discover existing sessions or start new workflow session with intelligent session management and conflict detection",
    "argument_hint": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]",
    "usage_args": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]",
    "allowed_tools": ["Skill(*)", "AskUserQuestion(*)", "Read(*)", "Write(*)", "Bash(*)"]
  },
  "intent": {
    "type": "manage",
    "interaction": "iterative",
    "primary_user_value": "Discover existing sessions or start a new workflow session, with safe defaults and conflict handling."
  },
  "artifacts": {
    "reads": [
      ".workflow/project-tech.json",
      ".workflow/project-guidelines.json",
      ".workflow/active/",
      ".workflow/active/WFS-*/workflow-session.json"
    ],
    "writes": [
      ".workflow/project-tech.json",
      ".workflow/project-guidelines.json",
      ".workflow/active/WFS-*/",
      ".workflow/active/WFS-*/workflow-session.json",
      ".workflow/active/WFS-*/.process/",
      ".workflow/active/WFS-*/.task/",
      ".workflow/active/WFS-*/.summaries/"
    ]
  },
  "constraints": {
    "must_not": [
      "Do not label implementation pointers as Existing unless verifiable in the repo now.",
      "Do not use placeholders (TBD/N/A) in evidence table rows; if unsure, mark Planned and add concrete Verify steps."
    ]
  },
  "acceptance": {
    "p0": [
      "Frontmatter contains name, description, allowed-tools (and argument-hint if non-trivial)",
      "Core sections present: Overview, Usage, Execution Process, Outputs / Artifacts, Error Handling",
      "Evidence tables validate via verify-evidence.js (docs + TS anchors, Existing pointers verifiable)"
    ]
  },
  "implementation": {
    "command_doc": ".claude/commands/workflow/session/start.md",
    "code_pointers": [
      "ccw/src/tools/session-manager.ts",
      "ccw/src/core/session-scanner.ts"
    ]
  }
}

A C:\Project\Claude-Code-Workflow\.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
{
  "id": "CMD-053",
  "command": "/workflow:session:start",
  "candidates": [
    {
      "slash": "/workflow:session:start",
      "file_path": ".claude/commands/workflow/session/start.md",
      "score": 1.0,
      "why": "Exact target command oracle; defines the required modes and output format."
    },
    {
      "slash": "/workflow:session:list",
      "file_path": ".claude/commands/workflow/session/list.md",
      "score": 0.86,
      "why": "Same domain (workflow sessions); lists WFS sessions and reads workflow-session.json metadata."
    },
    {
      "slash": "/workflow:session:complete",
      "file_path": ".claude/commands/workflow/session/complete.md",
      "score": 0.8,
      "why": "Same domain; archives/updates sessions and relies on consistent session_id + metadata conventions."
    },
    {
      "slash": "/workflow:init",
      "file_path": ".claude/commands/workflow/init.md",
      "score": 0.72,
      "why": "start delegates project-level initialization to workflow:init when project state files are missing."
    },
    {
      "slash": "/workflow:plan",
      "file_path": ".claude/commands/workflow/plan.md",
      "score": 0.68,
      "why": "Calls /workflow:session:start in its execution flow; constrains expected output contract (SESSION_ID: ...)."
    }
  ],
  "selected": {
    "slash": "/workflow:session:start",
    "file_path": ".claude/commands/workflow/session/start.md",
    "why": "Highest-confidence reference for required behavior and structure hints."
  }
}

A C:\Project\Claude-Code-Workflow\.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
# Fix Plan: CMD-053 (/workflow:session:start)

## P0 (Must)

1. Docs (`.claude/commands/workflow/session/start.md`)
   - Add `allowed-tools:` frontmatter (and optionally `group:`) so the command doc itself satisfies CCW P0 frontmatter gates.
   - Keep headings stable for evidence (e.g., `Overview`, `Mode 2: Auto Mode (Intelligent)`).

2. Evidence Gate
   - Run:
     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md`
     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md`

## P1 (Should)

1. Implementation (planned)
   - Prefer `ccw/src/tools/session-manager.ts` for session init/list/read/write to reduce bash dependencies and improve portability.
   - Ensure auto-mode emits the warning lines when multiple sessions exist and chooses the first deterministically.

## P2 (Optional)

1. Tests (planned)
   - Add focused unit tests around session slug generation, collision behavior, and mode selection (auto vs discovery vs force-new).

apply_patch(auto_approved=true) exited 0 in 117ms:
Success. Updated the following files:
A .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
A .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
A .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
A .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
A .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
A .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..383957e00eddb196edd86ce3f159dff93ccf44d9
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
@@ -0,0 +1,24 @@
+# Fix Plan: CMD-053 (/workflow:session:start)
+
+## P0 (Must)
+
+1. Docs (`.claude/commands/workflow/session/start.md`)
+   - Add `allowed-tools:` frontmatter (and optionally `group:`) so the command doc itself satisfies CCW P0 frontmatter gates.
+   - Keep headings stable for evidence (e.g., `Overview`, `Mode 2: Auto Mode (Intelligent)`).
+
+2. Evidence Gate
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md`
+
+## P1 (Should)
+
+1. Implementation (planned)
+   - Prefer `ccw/src/tools/session-manager.ts` for session init/list/read/write to reduce bash dependencies and improve portability.
+   - Ensure auto-mode emits the warning lines when multiple sessions exist and chooses the first deterministically.
+
+## P2 (Optional)
+
+1. Tests (planned)
+   - Add focused unit tests around session slug generation, collision behavior, and mode selection (auto vs discovery vs force-new).
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..c5d1f30f3d1c2c0b4e7b0073c95cf1561e38fe30
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
@@ -0,0 +1,38 @@
+# Gap Report: workflow:session:start
+
+## Reference
+
+- Selected reference: /workflow:session:start (`.claude/commands/workflow/session/start.md`)
+
+## P0 Gaps (Must Fix)
+
+- None observed in the generated outline (frontmatter keys present; core sections present; evidence table provided).
+
+## P1 Gaps (Should Fix)
+
+- Align the slash outline's execution steps with the oracle's mode substeps (Mode 1/2/3) so implementers can map 1:1.
+- Ensure the output contract is explicit for all modes (Discovery vs Auto vs Force-new) including warning lines for multi-session auto mode.
+
+## P2 Gaps (Optional)
+
+- Add a brief note on whether to implement via `session_manager` tool calls vs direct bash filesystem primitives (prefer tool for portability).
+
+## Implementation Pointers (Evidence)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Primary spec/oracle for the command behavior |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session creation + metadata write; supports list/read/write/archive primitives |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Reliable discovery of WFS-* sessions and metadata parsing |
+
+## Implementation Hints (Tooling/Server)
+
+- Prefer `ccw/src/tools/session-manager.ts` operations (`init`, `list`, `read`, `write`) to avoid shell-specific behavior when implementing session start logic.
+- For discovery and metadata, reuse `ccw/src/core/session-scanner.ts` parsing rules to keep dashboard/CLI outputs consistent.
+
+## Proposed Fix Plan (Minimal)
+
+1. Docs: Add `allowed-tools` (and optionally `group`) frontmatter to `.claude/commands/workflow/session/start.md` to satisfy P0 gates consistently across the corpus.
+2. Implementation: Use `session_manager(operation="list")` for active sessions and `session_manager(operation="init")` for creation; keep the existing output contract (`SESSION_ID: ...`).
+3. Validation: Run verify-evidence on the updated command doc and ensure headings referenced in evidence remain stable.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..e890822222f68cbbe41c4e95efe1941f59b707fe
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,32 @@
+# Agent Outline: workflow:start
+
+## Purpose
+
+Implement and/or evolve the slash command according to CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Use ACE-tool to find existing patterns before adding new abstractions
+
+## State & Artifacts
+
+- Session folder (if used): `.workflow/...`
+- Required outputs:
+  - Slash MD (command doc): `.claude/commands/workflow/session/start.md`
+  - Any scripts/modules referenced by the command (prefer existing `ccw/src/tools/session-manager.ts`)
+  - Validation notes (evidence gate) for pointers
+
+## Tooling
+
+- Allowed tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+- Non-negotiables:
+  - no unrelated changes
+  - verify evidence tables (docs + TS anchors) for all key pointers
+
+## Validation Strategy
+
+- P0 gates: frontmatter + allowed-tools + core sections + artifact references
+- Evidence: run `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Regression: avoid introducing new P0 failures for completed corpus commands
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..622b25d54e95c5731a0e9b175773055570aa58c6
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,87 @@
+---
+name: start
+description: Discover existing sessions or start new workflow session with intelligent session management and conflict detection
+argument-hint: "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]"
+allowed-tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+group: workflow
+---
+
+# Start Workflow Session (/workflow:session:start)
+
+## Overview
+
+- Goal: Discover existing sessions or start a new workflow session, with safe defaults and conflict handling.
+- Command: `/workflow:session:start`
+
+## Usage
+
+```bash
+/workflow:session:start [--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]
+```
+
+## Inputs
+
+- Required inputs:
+  - None (Discovery mode)
+- Optional inputs:
+  - `--type <workflow|review|tdd|test|docs>` (default: `workflow`)
+  - `--auto "<task description>"` (intelligent mode; requires task description)
+  - `--new "<task description>"` (force-new mode; requires task description)
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (first-time only; via `/workflow:init`)
+  - `.workflow/project-guidelines.json` (first-time only; via `/workflow:init`)
+  - `.workflow/active/WFS-*/` (session directory)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata; includes `type`)
+  - `.workflow/active/WFS-*/.process/`
+  - `.workflow/active/WFS-*/.task/`
+  - `.workflow/active/WFS-*/.summaries/`
+- Reads:
+  - `.workflow/project-tech.json` + `.workflow/project-guidelines.json` (presence check)
+  - `.workflow/active/` (active session discovery)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata for reuse decision)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/session/start.md`
+- Likely code locations:
+  - `ccw/src/tools/session-manager.ts`
+  - `ccw/src/core/session-scanner.ts`
+
+### Evidence (Existing vs Planned)
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Oracle command doc and structure hints |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session lifecycle operations (init/list/read/write/archive) used by session start |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Cross-platform session discovery (WFS-* scanning + metadata parsing) |
+
+## Execution Process
+
+1. Step 0 (always): ensure project state exists
+   - If `.workflow/project-tech.json` or `.workflow/project-guidelines.json` missing, delegate to `/workflow:init` and continue.
+2. Mode selection (based on args)
+   - Discovery (default): list active sessions + show metadata; prompt user to reuse or create new.
+   - Auto (`--auto`): if 0 active sessions create new; if 1 active session decide reuse vs new; if many choose first and warn.
+   - Force-new (`--new`): always create new session; ensure unique session slug.
+3. Session creation (when needed)
+   - Generate `WFS-<slug>` (lowercase; max 50; append numeric suffix on collision).
+   - Create session directory structure + write `workflow-session.json` including `type` (defaults to `workflow`).
+4. Output
+   - Print `SESSION_ID: WFS-...`
+   - If multiple active sessions were detected in auto mode, also print warning + chosen session id.
+
+## Error Handling
+
+- Invalid `--type`: `ERROR: Invalid session type. Valid types: workflow, review, tdd, test, docs`
+- `--auto` or `--new` without a task description: `ERROR: --auto mode requires task description`
+- Filesystem failures (mkdir/write): `ERROR: Failed to create session directory`
+
+## Examples
+
+- `/workflow:session:start`
+- `/workflow:session:start --auto "implement OAuth2 authentication"`
+- `/workflow:session:start --type review "Code review for auth module"`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..cab9e83e7bbb65f1412972e296de3bf0853b2a40
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
@@ -0,0 +1,42 @@
+{
+  "id": "CMD-053",
+  "command": "/workflow:session:start",
+  "candidates": [
+    {
+      "slash": "/workflow:session:start",
+      "file_path": ".claude/commands/workflow/session/start.md",
+      "score": 1.0,
+      "why": "Exact target command oracle; defines the required modes and output format."
+    },
+    {
+      "slash": "/workflow:session:list",
+      "file_path": ".claude/commands/workflow/session/list.md",
+      "score": 0.86,
+      "why": "Same domain (workflow sessions); lists WFS sessions and reads workflow-session.json metadata."
+    },
+    {
+      "slash": "/workflow:session:complete",
+      "file_path": ".claude/commands/workflow/session/complete.md",
+      "score": 0.8,
+      "why": "Same domain; archives/updates sessions and relies on consistent session_id + metadata conventions."
+    },
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 0.72,
+      "why": "start delegates project-level initialization to workflow:init when project state files are missing."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.68,
+      "why": "Calls /workflow:session:start in its execution flow; constrains expected output contract (SESSION_ID: ...)."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:session:start",
+    "file_path": ".claude/commands/workflow/session/start.md",
+    "why": "Highest-confidence reference for required behavior and structure hints."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..41e0a3cd9b4bae5109cd6b4504600c70df981bca
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
@@ -0,0 +1,59 @@
+{
+  "schema_version": "1.0.0",
+  "id": "CMD-053",
+  "created_at": "2026-02-05T01:06:17Z",
+  "derived_from": ".workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/requirements/CMD-053.requirements.md",
+  "oracle_command_doc": ".claude/commands/workflow/session/start.md",
+  "command": {
+    "group": "workflow",
+    "name": "start",
+    "title": "Start Workflow Session (/workflow:session:start)",
+    "description": "Discover existing sessions or start new workflow session with intelligent session management and conflict detection",
+    "argument_hint": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]",
+    "usage_args": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]",
+    "allowed_tools": ["Skill(*)", "AskUserQuestion(*)", "Read(*)", "Write(*)", "Bash(*)"]
+  },
+  "intent": {
+    "type": "manage",
+    "interaction": "iterative",
+    "primary_user_value": "Discover existing sessions or start a new workflow session, with safe defaults and conflict handling."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/",
+      ".workflow/active/WFS-*/workflow-session.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/WFS-*/",
+      ".workflow/active/WFS-*/workflow-session.json",
+      ".workflow/active/WFS-*/.process/",
+      ".workflow/active/WFS-*/.task/",
+      ".workflow/active/WFS-*/.summaries/"
+    ]
+  },
+  "constraints": {
+    "must_not": [
+      "Do not label implementation pointers as Existing unless verifiable in the repo now.",
+      "Do not use placeholders (TBD/N/A) in evidence table rows; if unsure, mark Planned and add concrete Verify steps."
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter contains name, description, allowed-tools (and argument-hint if non-trivial)",
+      "Core sections present: Overview, Usage, Execution Process, Outputs / Artifacts, Error Handling",
+      "Evidence tables validate via verify-evidence.js (docs + TS anchors, Existing pointers verifiable)"
+    ]
+  },
+  "implementation": {
+    "command_doc": ".claude/commands/workflow/session/start.md",
+    "code_pointers": [
+      "ccw/src/tools/session-manager.ts",
+      "ccw/src/core/session-scanner.ts"
+    ]
+  }
+}
+

file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..383957e00eddb196edd86ce3f159dff93ccf44d9
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
@@ -0,0 +1,24 @@
+# Fix Plan: CMD-053 (/workflow:session:start)
+
+## P0 (Must)
+
+1. Docs (`.claude/commands/workflow/session/start.md`)
+   - Add `allowed-tools:` frontmatter (and optionally `group:`) so the command doc itself satisfies CCW P0 frontmatter gates.
+   - Keep headings stable for evidence (e.g., `Overview`, `Mode 2: Auto Mode (Intelligent)`).
+
+2. Evidence Gate
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md`
+
+## P1 (Should)
+
+1. Implementation (planned)
+   - Prefer `ccw/src/tools/session-manager.ts` for session init/list/read/write to reduce bash dependencies and improve portability.
+   - Ensure auto-mode emits the warning lines when multiple sessions exist and chooses the first deterministically.
+
+## P2 (Optional)
+
+1. Tests (planned)
+   - Add focused unit tests around session slug generation, collision behavior, and mode selection (auto vs discovery vs force-new).
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..c5d1f30f3d1c2c0b4e7b0073c95cf1561e38fe30
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
@@ -0,0 +1,38 @@
+# Gap Report: workflow:session:start
+
+## Reference
+
+- Selected reference: /workflow:session:start (`.claude/commands/workflow/session/start.md`)
+
+## P0 Gaps (Must Fix)
+
+- None observed in the generated outline (frontmatter keys present; core sections present; evidence table provided).
+
+## P1 Gaps (Should Fix)
+
+- Align the slash outline's execution steps with the oracle's mode substeps (Mode 1/2/3) so implementers can map 1:1.
+- Ensure the output contract is explicit for all modes (Discovery vs Auto vs Force-new) including warning lines for multi-session auto mode.
+
+## P2 Gaps (Optional)
+
+- Add a brief note on whether to implement via `session_manager` tool calls vs direct bash filesystem primitives (prefer tool for portability).
+
+## Implementation Pointers (Evidence)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Primary spec/oracle for the command behavior |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session creation + metadata write; supports list/read/write/archive primitives |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Reliable discovery of WFS-* sessions and metadata parsing |
+
+## Implementation Hints (Tooling/Server)
+
+- Prefer `ccw/src/tools/session-manager.ts` operations (`init`, `list`, `read`, `write`) to avoid shell-specific behavior when implementing session start logic.
+- For discovery and metadata, reuse `ccw/src/core/session-scanner.ts` parsing rules to keep dashboard/CLI outputs consistent.
+
+## Proposed Fix Plan (Minimal)
+
+1. Docs: Add `allowed-tools` (and optionally `group`) frontmatter to `.claude/commands/workflow/session/start.md` to satisfy P0 gates consistently across the corpus.
+2. Implementation: Use `session_manager(operation="list")` for active sessions and `session_manager(operation="init")` for creation; keep the existing output contract (`SESSION_ID: ...`).
+3. Validation: Run verify-evidence on the updated command doc and ensure headings referenced in evidence remain stable.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..e890822222f68cbbe41c4e95efe1941f59b707fe
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,32 @@
+# Agent Outline: workflow:start
+
+## Purpose
+
+Implement and/or evolve the slash command according to CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Use ACE-tool to find existing patterns before adding new abstractions
+
+## State & Artifacts
+
+- Session folder (if used): `.workflow/...`
+- Required outputs:
+  - Slash MD (command doc): `.claude/commands/workflow/session/start.md`
+  - Any scripts/modules referenced by the command (prefer existing `ccw/src/tools/session-manager.ts`)
+  - Validation notes (evidence gate) for pointers
+
+## Tooling
+
+- Allowed tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+- Non-negotiables:
+  - no unrelated changes
+  - verify evidence tables (docs + TS anchors) for all key pointers
+
+## Validation Strategy
+
+- P0 gates: frontmatter + allowed-tools + core sections + artifact references
+- Evidence: run `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Regression: avoid introducing new P0 failures for completed corpus commands
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..622b25d54e95c5731a0e9b175773055570aa58c6
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,87 @@
+---
+name: start
+description: Discover existing sessions or start new workflow session with intelligent session management and conflict detection
+argument-hint: "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]"
+allowed-tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+group: workflow
+---
+
+# Start Workflow Session (/workflow:session:start)
+
+## Overview
+
+- Goal: Discover existing sessions or start a new workflow session, with safe defaults and conflict handling.
+- Command: `/workflow:session:start`
+
+## Usage
+
+```bash
+/workflow:session:start [--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]
+```
+
+## Inputs
+
+- Required inputs:
+  - None (Discovery mode)
+- Optional inputs:
+  - `--type <workflow|review|tdd|test|docs>` (default: `workflow`)
+  - `--auto "<task description>"` (intelligent mode; requires task description)
+  - `--new "<task description>"` (force-new mode; requires task description)
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (first-time only; via `/workflow:init`)
+  - `.workflow/project-guidelines.json` (first-time only; via `/workflow:init`)
+  - `.workflow/active/WFS-*/` (session directory)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata; includes `type`)
+  - `.workflow/active/WFS-*/.process/`
+  - `.workflow/active/WFS-*/.task/`
+  - `.workflow/active/WFS-*/.summaries/`
+- Reads:
+  - `.workflow/project-tech.json` + `.workflow/project-guidelines.json` (presence check)
+  - `.workflow/active/` (active session discovery)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata for reuse decision)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/session/start.md`
+- Likely code locations:
+  - `ccw/src/tools/session-manager.ts`
+  - `ccw/src/core/session-scanner.ts`
+
+### Evidence (Existing vs Planned)
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Oracle command doc and structure hints |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session lifecycle operations (init/list/read/write/archive) used by session start |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Cross-platform session discovery (WFS-* scanning + metadata parsing) |
+
+## Execution Process
+
+1. Step 0 (always): ensure project state exists
+   - If `.workflow/project-tech.json` or `.workflow/project-guidelines.json` missing, delegate to `/workflow:init` and continue.
+2. Mode selection (based on args)
+   - Discovery (default): list active sessions + show metadata; prompt user to reuse or create new.
+   - Auto (`--auto`): if 0 active sessions create new; if 1 active session decide reuse vs new; if many choose first and warn.
+   - Force-new (`--new`): always create new session; ensure unique session slug.
+3. Session creation (when needed)
+   - Generate `WFS-<slug>` (lowercase; max 50; append numeric suffix on collision).
+   - Create session directory structure + write `workflow-session.json` including `type` (defaults to `workflow`).
+4. Output
+   - Print `SESSION_ID: WFS-...`
+   - If multiple active sessions were detected in auto mode, also print warning + chosen session id.
+
+## Error Handling
+
+- Invalid `--type`: `ERROR: Invalid session type. Valid types: workflow, review, tdd, test, docs`
+- `--auto` or `--new` without a task description: `ERROR: --auto mode requires task description`
+- Filesystem failures (mkdir/write): `ERROR: Failed to create session directory`
+
+## Examples
+
+- `/workflow:session:start`
+- `/workflow:session:start --auto "implement OAuth2 authentication"`
+- `/workflow:session:start --type review "Code review for auth module"`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..cab9e83e7bbb65f1412972e296de3bf0853b2a40
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
@@ -0,0 +1,42 @@
+{
+  "id": "CMD-053",
+  "command": "/workflow:session:start",
+  "candidates": [
+    {
+      "slash": "/workflow:session:start",
+      "file_path": ".claude/commands/workflow/session/start.md",
+      "score": 1.0,
+      "why": "Exact target command oracle; defines the required modes and output format."
+    },
+    {
+      "slash": "/workflow:session:list",
+      "file_path": ".claude/commands/workflow/session/list.md",
+      "score": 0.86,
+      "why": "Same domain (workflow sessions); lists WFS sessions and reads workflow-session.json metadata."
+    },
+    {
+      "slash": "/workflow:session:complete",
+      "file_path": ".claude/commands/workflow/session/complete.md",
+      "score": 0.8,
+      "why": "Same domain; archives/updates sessions and relies on consistent session_id + metadata conventions."
+    },
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 0.72,
+      "why": "start delegates project-level initialization to workflow:init when project state files are missing."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.68,
+      "why": "Calls /workflow:session:start in its execution flow; constrains expected output contract (SESSION_ID: ...)."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:session:start",
+    "file_path": ".claude/commands/workflow/session/start.md",
+    "why": "Highest-confidence reference for required behavior and structure hints."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..41e0a3cd9b4bae5109cd6b4504600c70df981bca
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
@@ -0,0 +1,59 @@
+{
+  "schema_version": "1.0.0",
+  "id": "CMD-053",
+  "created_at": "2026-02-05T01:06:17Z",
+  "derived_from": ".workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/requirements/CMD-053.requirements.md",
+  "oracle_command_doc": ".claude/commands/workflow/session/start.md",
+  "command": {
+    "group": "workflow",
+    "name": "start",
+    "title": "Start Workflow Session (/workflow:session:start)",
+    "description": "Discover existing sessions or start new workflow session with intelligent session management and conflict detection",
+    "argument_hint": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]",
+    "usage_args": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]",
+    "allowed_tools": ["Skill(*)", "AskUserQuestion(*)", "Read(*)", "Write(*)", "Bash(*)"]
+  },
+  "intent": {
+    "type": "manage",
+    "interaction": "iterative",
+    "primary_user_value": "Discover existing sessions or start a new workflow session, with safe defaults and conflict handling."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/",
+      ".workflow/active/WFS-*/workflow-session.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/WFS-*/",
+      ".workflow/active/WFS-*/workflow-session.json",
+      ".workflow/active/WFS-*/.process/",
+      ".workflow/active/WFS-*/.task/",
+      ".workflow/active/WFS-*/.summaries/"
+    ]
+  },
+  "constraints": {
+    "must_not": [
+      "Do not label implementation pointers as Existing unless verifiable in the repo now.",
+      "Do not use placeholders (TBD/N/A) in evidence table rows; if unsure, mark Planned and add concrete Verify steps."
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter contains name, description, allowed-tools (and argument-hint if non-trivial)",
+      "Core sections present: Overview, Usage, Execution Process, Outputs / Artifacts, Error Handling",
+      "Evidence tables validate via verify-evidence.js (docs + TS anchors, Existing pointers verifiable)"
+    ]
+  },
+  "implementation": {
+    "command_doc": ".claude/commands/workflow/session/start.md",
+    "code_pointers": [
+      "ccw/src/tools/session-manager.ts",
+      "ccw/src/core/session-scanner.ts"
+    ]
+  }
+}
+

exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md' in C:\Project\Claude-Code-Workflow succeeded in 336ms:
OK: evidence verification passed
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..383957e00eddb196edd86ce3f159dff93ccf44d9
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
@@ -0,0 +1,24 @@
+# Fix Plan: CMD-053 (/workflow:session:start)
+
+## P0 (Must)
+
+1. Docs (`.claude/commands/workflow/session/start.md`)
+   - Add `allowed-tools:` frontmatter (and optionally `group:`) so the command doc itself satisfies CCW P0 frontmatter gates.
+   - Keep headings stable for evidence (e.g., `Overview`, `Mode 2: Auto Mode (Intelligent)`).
+
+2. Evidence Gate
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md`
+
+## P1 (Should)
+
+1. Implementation (planned)
+   - Prefer `ccw/src/tools/session-manager.ts` for session init/list/read/write to reduce bash dependencies and improve portability.
+   - Ensure auto-mode emits the warning lines when multiple sessions exist and chooses the first deterministically.
+
+## P2 (Optional)
+
+1. Tests (planned)
+   - Add focused unit tests around session slug generation, collision behavior, and mode selection (auto vs discovery vs force-new).
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..c5d1f30f3d1c2c0b4e7b0073c95cf1561e38fe30
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
@@ -0,0 +1,38 @@
+# Gap Report: workflow:session:start
+
+## Reference
+
+- Selected reference: /workflow:session:start (`.claude/commands/workflow/session/start.md`)
+
+## P0 Gaps (Must Fix)
+
+- None observed in the generated outline (frontmatter keys present; core sections present; evidence table provided).
+
+## P1 Gaps (Should Fix)
+
+- Align the slash outline's execution steps with the oracle's mode substeps (Mode 1/2/3) so implementers can map 1:1.
+- Ensure the output contract is explicit for all modes (Discovery vs Auto vs Force-new) including warning lines for multi-session auto mode.
+
+## P2 Gaps (Optional)
+
+- Add a brief note on whether to implement via `session_manager` tool calls vs direct bash filesystem primitives (prefer tool for portability).
+
+## Implementation Pointers (Evidence)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Primary spec/oracle for the command behavior |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session creation + metadata write; supports list/read/write/archive primitives |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Reliable discovery of WFS-* sessions and metadata parsing |
+
+## Implementation Hints (Tooling/Server)
+
+- Prefer `ccw/src/tools/session-manager.ts` operations (`init`, `list`, `read`, `write`) to avoid shell-specific behavior when implementing session start logic.
+- For discovery and metadata, reuse `ccw/src/core/session-scanner.ts` parsing rules to keep dashboard/CLI outputs consistent.
+
+## Proposed Fix Plan (Minimal)
+
+1. Docs: Add `allowed-tools` (and optionally `group`) frontmatter to `.claude/commands/workflow/session/start.md` to satisfy P0 gates consistently across the corpus.
+2. Implementation: Use `session_manager(operation="list")` for active sessions and `session_manager(operation="init")` for creation; keep the existing output contract (`SESSION_ID: ...`).
+3. Validation: Run verify-evidence on the updated command doc and ensure headings referenced in evidence remain stable.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..e890822222f68cbbe41c4e95efe1941f59b707fe
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,32 @@
+# Agent Outline: workflow:start
+
+## Purpose
+
+Implement and/or evolve the slash command according to CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Use ACE-tool to find existing patterns before adding new abstractions
+
+## State & Artifacts
+
+- Session folder (if used): `.workflow/...`
+- Required outputs:
+  - Slash MD (command doc): `.claude/commands/workflow/session/start.md`
+  - Any scripts/modules referenced by the command (prefer existing `ccw/src/tools/session-manager.ts`)
+  - Validation notes (evidence gate) for pointers
+
+## Tooling
+
+- Allowed tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+- Non-negotiables:
+  - no unrelated changes
+  - verify evidence tables (docs + TS anchors) for all key pointers
+
+## Validation Strategy
+
+- P0 gates: frontmatter + allowed-tools + core sections + artifact references
+- Evidence: run `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Regression: avoid introducing new P0 failures for completed corpus commands
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..622b25d54e95c5731a0e9b175773055570aa58c6
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,87 @@
+---
+name: start
+description: Discover existing sessions or start new workflow session with intelligent session management and conflict detection
+argument-hint: "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]"
+allowed-tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+group: workflow
+---
+
+# Start Workflow Session (/workflow:session:start)
+
+## Overview
+
+- Goal: Discover existing sessions or start a new workflow session, with safe defaults and conflict handling.
+- Command: `/workflow:session:start`
+
+## Usage
+
+```bash
+/workflow:session:start [--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]
+```
+
+## Inputs
+
+- Required inputs:
+  - None (Discovery mode)
+- Optional inputs:
+  - `--type <workflow|review|tdd|test|docs>` (default: `workflow`)
+  - `--auto "<task description>"` (intelligent mode; requires task description)
+  - `--new "<task description>"` (force-new mode; requires task description)
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (first-time only; via `/workflow:init`)
+  - `.workflow/project-guidelines.json` (first-time only; via `/workflow:init`)
+  - `.workflow/active/WFS-*/` (session directory)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata; includes `type`)
+  - `.workflow/active/WFS-*/.process/`
+  - `.workflow/active/WFS-*/.task/`
+  - `.workflow/active/WFS-*/.summaries/`
+- Reads:
+  - `.workflow/project-tech.json` + `.workflow/project-guidelines.json` (presence check)
+  - `.workflow/active/` (active session discovery)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata for reuse decision)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/session/start.md`
+- Likely code locations:
+  - `ccw/src/tools/session-manager.ts`
+  - `ccw/src/core/session-scanner.ts`
+
+### Evidence (Existing vs Planned)
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Oracle command doc and structure hints |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session lifecycle operations (init/list/read/write/archive) used by session start |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Cross-platform session discovery (WFS-* scanning + metadata parsing) |
+
+## Execution Process
+
+1. Step 0 (always): ensure project state exists
+   - If `.workflow/project-tech.json` or `.workflow/project-guidelines.json` missing, delegate to `/workflow:init` and continue.
+2. Mode selection (based on args)
+   - Discovery (default): list active sessions + show metadata; prompt user to reuse or create new.
+   - Auto (`--auto`): if 0 active sessions create new; if 1 active session decide reuse vs new; if many choose first and warn.
+   - Force-new (`--new`): always create new session; ensure unique session slug.
+3. Session creation (when needed)
+   - Generate `WFS-<slug>` (lowercase; max 50; append numeric suffix on collision).
+   - Create session directory structure + write `workflow-session.json` including `type` (defaults to `workflow`).
+4. Output
+   - Print `SESSION_ID: WFS-...`
+   - If multiple active sessions were detected in auto mode, also print warning + chosen session id.
+
+## Error Handling
+
+- Invalid `--type`: `ERROR: Invalid session type. Valid types: workflow, review, tdd, test, docs`
+- `--auto` or `--new` without a task description: `ERROR: --auto mode requires task description`
+- Filesystem failures (mkdir/write): `ERROR: Failed to create session directory`
+
+## Examples
+
+- `/workflow:session:start`
+- `/workflow:session:start --auto "implement OAuth2 authentication"`
+- `/workflow:session:start --type review "Code review for auth module"`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..cab9e83e7bbb65f1412972e296de3bf0853b2a40
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
@@ -0,0 +1,42 @@
+{
+  "id": "CMD-053",
+  "command": "/workflow:session:start",
+  "candidates": [
+    {
+      "slash": "/workflow:session:start",
+      "file_path": ".claude/commands/workflow/session/start.md",
+      "score": 1.0,
+      "why": "Exact target command oracle; defines the required modes and output format."
+    },
+    {
+      "slash": "/workflow:session:list",
+      "file_path": ".claude/commands/workflow/session/list.md",
+      "score": 0.86,
+      "why": "Same domain (workflow sessions); lists WFS sessions and reads workflow-session.json metadata."
+    },
+    {
+      "slash": "/workflow:session:complete",
+      "file_path": ".claude/commands/workflow/session/complete.md",
+      "score": 0.8,
+      "why": "Same domain; archives/updates sessions and relies on consistent session_id + metadata conventions."
+    },
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 0.72,
+      "why": "start delegates project-level initialization to workflow:init when project state files are missing."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.68,
+      "why": "Calls /workflow:session:start in its execution flow; constrains expected output contract (SESSION_ID: ...)."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:session:start",
+    "file_path": ".claude/commands/workflow/session/start.md",
+    "why": "Highest-confidence reference for required behavior and structure hints."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..41e0a3cd9b4bae5109cd6b4504600c70df981bca
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
@@ -0,0 +1,59 @@
+{
+  "schema_version": "1.0.0",
+  "id": "CMD-053",
+  "created_at": "2026-02-05T01:06:17Z",
+  "derived_from": ".workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/requirements/CMD-053.requirements.md",
+  "oracle_command_doc": ".claude/commands/workflow/session/start.md",
+  "command": {
+    "group": "workflow",
+    "name": "start",
+    "title": "Start Workflow Session (/workflow:session:start)",
+    "description": "Discover existing sessions or start new workflow session with intelligent session management and conflict detection",
+    "argument_hint": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]",
+    "usage_args": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]",
+    "allowed_tools": ["Skill(*)", "AskUserQuestion(*)", "Read(*)", "Write(*)", "Bash(*)"]
+  },
+  "intent": {
+    "type": "manage",
+    "interaction": "iterative",
+    "primary_user_value": "Discover existing sessions or start a new workflow session, with safe defaults and conflict handling."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/",
+      ".workflow/active/WFS-*/workflow-session.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/WFS-*/",
+      ".workflow/active/WFS-*/workflow-session.json",
+      ".workflow/active/WFS-*/.process/",
+      ".workflow/active/WFS-*/.task/",
+      ".workflow/active/WFS-*/.summaries/"
+    ]
+  },
+  "constraints": {
+    "must_not": [
+      "Do not label implementation pointers as Existing unless verifiable in the repo now.",
+      "Do not use placeholders (TBD/N/A) in evidence table rows; if unsure, mark Planned and add concrete Verify steps."
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter contains name, description, allowed-tools (and argument-hint if non-trivial)",
+      "Core sections present: Overview, Usage, Execution Process, Outputs / Artifacts, Error Handling",
+      "Evidence tables validate via verify-evidence.js (docs + TS anchors, Existing pointers verifiable)"
+    ]
+  },
+  "implementation": {
+    "command_doc": ".claude/commands/workflow/session/start.md",
+    "code_pointers": [
+      "ccw/src/tools/session-manager.ts",
+      "ccw/src/core/session-scanner.ts"
+    ]
+  }
+}
+

exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md' in C:\Project\Claude-Code-Workflow succeeded in 333ms:
OK: evidence verification passed
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..383957e00eddb196edd86ce3f159dff93ccf44d9
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
@@ -0,0 +1,24 @@
+# Fix Plan: CMD-053 (/workflow:session:start)
+
+## P0 (Must)
+
+1. Docs (`.claude/commands/workflow/session/start.md`)
+   - Add `allowed-tools:` frontmatter (and optionally `group:`) so the command doc itself satisfies CCW P0 frontmatter gates.
+   - Keep headings stable for evidence (e.g., `Overview`, `Mode 2: Auto Mode (Intelligent)`).
+
+2. Evidence Gate
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md`
+
+## P1 (Should)
+
+1. Implementation (planned)
+   - Prefer `ccw/src/tools/session-manager.ts` for session init/list/read/write to reduce bash dependencies and improve portability.
+   - Ensure auto-mode emits the warning lines when multiple sessions exist and chooses the first deterministically.
+
+## P2 (Optional)
+
+1. Tests (planned)
+   - Add focused unit tests around session slug generation, collision behavior, and mode selection (auto vs discovery vs force-new).
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..c5d1f30f3d1c2c0b4e7b0073c95cf1561e38fe30
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
@@ -0,0 +1,38 @@
+# Gap Report: workflow:session:start
+
+## Reference
+
+- Selected reference: /workflow:session:start (`.claude/commands/workflow/session/start.md`)
+
+## P0 Gaps (Must Fix)
+
+- None observed in the generated outline (frontmatter keys present; core sections present; evidence table provided).
+
+## P1 Gaps (Should Fix)
+
+- Align the slash outline's execution steps with the oracle's mode substeps (Mode 1/2/3) so implementers can map 1:1.
+- Ensure the output contract is explicit for all modes (Discovery vs Auto vs Force-new) including warning lines for multi-session auto mode.
+
+## P2 Gaps (Optional)
+
+- Add a brief note on whether to implement via `session_manager` tool calls vs direct bash filesystem primitives (prefer tool for portability).
+
+## Implementation Pointers (Evidence)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Primary spec/oracle for the command behavior |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session creation + metadata write; supports list/read/write/archive primitives |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Reliable discovery of WFS-* sessions and metadata parsing |
+
+## Implementation Hints (Tooling/Server)
+
+- Prefer `ccw/src/tools/session-manager.ts` operations (`init`, `list`, `read`, `write`) to avoid shell-specific behavior when implementing session start logic.
+- For discovery and metadata, reuse `ccw/src/core/session-scanner.ts` parsing rules to keep dashboard/CLI outputs consistent.
+
+## Proposed Fix Plan (Minimal)
+
+1. Docs: Add `allowed-tools` (and optionally `group`) frontmatter to `.claude/commands/workflow/session/start.md` to satisfy P0 gates consistently across the corpus.
+2. Implementation: Use `session_manager(operation="list")` for active sessions and `session_manager(operation="init")` for creation; keep the existing output contract (`SESSION_ID: ...`).
+3. Validation: Run verify-evidence on the updated command doc and ensure headings referenced in evidence remain stable.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..e890822222f68cbbe41c4e95efe1941f59b707fe
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,32 @@
+# Agent Outline: workflow:start
+
+## Purpose
+
+Implement and/or evolve the slash command according to CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Use ACE-tool to find existing patterns before adding new abstractions
+
+## State & Artifacts
+
+- Session folder (if used): `.workflow/...`
+- Required outputs:
+  - Slash MD (command doc): `.claude/commands/workflow/session/start.md`
+  - Any scripts/modules referenced by the command (prefer existing `ccw/src/tools/session-manager.ts`)
+  - Validation notes (evidence gate) for pointers
+
+## Tooling
+
+- Allowed tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+- Non-negotiables:
+  - no unrelated changes
+  - verify evidence tables (docs + TS anchors) for all key pointers
+
+## Validation Strategy
+
+- P0 gates: frontmatter + allowed-tools + core sections + artifact references
+- Evidence: run `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Regression: avoid introducing new P0 failures for completed corpus commands
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..622b25d54e95c5731a0e9b175773055570aa58c6
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,87 @@
+---
+name: start
+description: Discover existing sessions or start new workflow session with intelligent session management and conflict detection
+argument-hint: "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]"
+allowed-tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+group: workflow
+---
+
+# Start Workflow Session (/workflow:session:start)
+
+## Overview
+
+- Goal: Discover existing sessions or start a new workflow session, with safe defaults and conflict handling.
+- Command: `/workflow:session:start`
+
+## Usage
+
+```bash
+/workflow:session:start [--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]
+```
+
+## Inputs
+
+- Required inputs:
+  - None (Discovery mode)
+- Optional inputs:
+  - `--type <workflow|review|tdd|test|docs>` (default: `workflow`)
+  - `--auto "<task description>"` (intelligent mode; requires task description)
+  - `--new "<task description>"` (force-new mode; requires task description)
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (first-time only; via `/workflow:init`)
+  - `.workflow/project-guidelines.json` (first-time only; via `/workflow:init`)
+  - `.workflow/active/WFS-*/` (session directory)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata; includes `type`)
+  - `.workflow/active/WFS-*/.process/`
+  - `.workflow/active/WFS-*/.task/`
+  - `.workflow/active/WFS-*/.summaries/`
+- Reads:
+  - `.workflow/project-tech.json` + `.workflow/project-guidelines.json` (presence check)
+  - `.workflow/active/` (active session discovery)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata for reuse decision)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/session/start.md`
+- Likely code locations:
+  - `ccw/src/tools/session-manager.ts`
+  - `ccw/src/core/session-scanner.ts`
+
+### Evidence (Existing vs Planned)
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Oracle command doc and structure hints |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session lifecycle operations (init/list/read/write/archive) used by session start |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Cross-platform session discovery (WFS-* scanning + metadata parsing) |
+
+## Execution Process
+
+1. Step 0 (always): ensure project state exists
+   - If `.workflow/project-tech.json` or `.workflow/project-guidelines.json` missing, delegate to `/workflow:init` and continue.
+2. Mode selection (based on args)
+   - Discovery (default): list active sessions + show metadata; prompt user to reuse or create new.
+   - Auto (`--auto`): if 0 active sessions create new; if 1 active session decide reuse vs new; if many choose first and warn.
+   - Force-new (`--new`): always create new session; ensure unique session slug.
+3. Session creation (when needed)
+   - Generate `WFS-<slug>` (lowercase; max 50; append numeric suffix on collision).
+   - Create session directory structure + write `workflow-session.json` including `type` (defaults to `workflow`).
+4. Output
+   - Print `SESSION_ID: WFS-...`
+   - If multiple active sessions were detected in auto mode, also print warning + chosen session id.
+
+## Error Handling
+
+- Invalid `--type`: `ERROR: Invalid session type. Valid types: workflow, review, tdd, test, docs`
+- `--auto` or `--new` without a task description: `ERROR: --auto mode requires task description`
+- Filesystem failures (mkdir/write): `ERROR: Failed to create session directory`
+
+## Examples
+
+- `/workflow:session:start`
+- `/workflow:session:start --auto "implement OAuth2 authentication"`
+- `/workflow:session:start --type review "Code review for auth module"`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..cab9e83e7bbb65f1412972e296de3bf0853b2a40
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
@@ -0,0 +1,42 @@
+{
+  "id": "CMD-053",
+  "command": "/workflow:session:start",
+  "candidates": [
+    {
+      "slash": "/workflow:session:start",
+      "file_path": ".claude/commands/workflow/session/start.md",
+      "score": 1.0,
+      "why": "Exact target command oracle; defines the required modes and output format."
+    },
+    {
+      "slash": "/workflow:session:list",
+      "file_path": ".claude/commands/workflow/session/list.md",
+      "score": 0.86,
+      "why": "Same domain (workflow sessions); lists WFS sessions and reads workflow-session.json metadata."
+    },
+    {
+      "slash": "/workflow:session:complete",
+      "file_path": ".claude/commands/workflow/session/complete.md",
+      "score": 0.8,
+      "why": "Same domain; archives/updates sessions and relies on consistent session_id + metadata conventions."
+    },
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 0.72,
+      "why": "start delegates project-level initialization to workflow:init when project state files are missing."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.68,
+      "why": "Calls /workflow:session:start in its execution flow; constrains expected output contract (SESSION_ID: ...)."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:session:start",
+    "file_path": ".claude/commands/workflow/session/start.md",
+    "why": "Highest-confidence reference for required behavior and structure hints."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..41e0a3cd9b4bae5109cd6b4504600c70df981bca
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
@@ -0,0 +1,59 @@
+{
+  "schema_version": "1.0.0",
+  "id": "CMD-053",
+  "created_at": "2026-02-05T01:06:17Z",
+  "derived_from": ".workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/requirements/CMD-053.requirements.md",
+  "oracle_command_doc": ".claude/commands/workflow/session/start.md",
+  "command": {
+    "group": "workflow",
+    "name": "start",
+    "title": "Start Workflow Session (/workflow:session:start)",
+    "description": "Discover existing sessions or start new workflow session with intelligent session management and conflict detection",
+    "argument_hint": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]",
+    "usage_args": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]",
+    "allowed_tools": ["Skill(*)", "AskUserQuestion(*)", "Read(*)", "Write(*)", "Bash(*)"]
+  },
+  "intent": {
+    "type": "manage",
+    "interaction": "iterative",
+    "primary_user_value": "Discover existing sessions or start a new workflow session, with safe defaults and conflict handling."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/",
+      ".workflow/active/WFS-*/workflow-session.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/WFS-*/",
+      ".workflow/active/WFS-*/workflow-session.json",
+      ".workflow/active/WFS-*/.process/",
+      ".workflow/active/WFS-*/.task/",
+      ".workflow/active/WFS-*/.summaries/"
+    ]
+  },
+  "constraints": {
+    "must_not": [
+      "Do not label implementation pointers as Existing unless verifiable in the repo now.",
+      "Do not use placeholders (TBD/N/A) in evidence table rows; if unsure, mark Planned and add concrete Verify steps."
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter contains name, description, allowed-tools (and argument-hint if non-trivial)",
+      "Core sections present: Overview, Usage, Execution Process, Outputs / Artifacts, Error Handling",
+      "Evidence tables validate via verify-evidence.js (docs + TS anchors, Existing pointers verifiable)"
+    ]
+  },
+  "implementation": {
+    "command_doc": ".claude/commands/workflow/session/start.md",
+    "code_pointers": [
+      "ccw/src/tools/session-manager.ts",
+      "ccw/src/core/session-scanner.ts"
+    ]
+  }
+}
+



thinking
**Evaluating quality consistency**

I’m checking the quality gates to ensure everything is complete. The frontmatter is looking good with name, description, and allowed tools present. The core sections, like Overview, Usage, and Execution Process, are all there too. I see an evidence table exists, and there are no broken artifact references; my notes on writes are fine, but reads could raise questions since they should either be created by command or documented. 

As for the agent outline, I think I need to align the title with the correct command format to avoid any confusion.
thinking
**Adjusting agent outline**

The template expects the format group:name, which means I’ll set it to "workflow:session:start" and update the agent outline to match. Although the user didn't specifically request evidence tables, consistency is key, so I’ll make those adjustments too. 

I noticed the agent outline uses "# Agent Outline: workflow:start," but I think it should be updated to "# Agent Outline: workflow:session:start" to match the requirements. Plus, I need to verify that the complete.md exists in references.json by running a quick check with `Test-Path`.
exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

@(
  '"'.claude/commands/workflow/session/start.md',
  '.claude/commands/workflow/session/list.md',
  '.claude/commands/workflow/session/complete.md',
  '.claude/commands/workflow/init.md',
  '.claude/commands/workflow/plan.md'
) | ForEach-Object { \""'${_} -> " + (Test-Path $_) }' in C:\Project\Claude-Code-Workflow succeeded in 330ms:
.claude/commands/workflow/session/start.md -> True
.claude/commands/workflow/session/list.md -> True
.claude/commands/workflow/session/complete.md -> True
.claude/commands/workflow/init.md -> True
.claude/commands/workflow/plan.md -> True
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..383957e00eddb196edd86ce3f159dff93ccf44d9
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
@@ -0,0 +1,24 @@
+# Fix Plan: CMD-053 (/workflow:session:start)
+
+## P0 (Must)
+
+1. Docs (`.claude/commands/workflow/session/start.md`)
+   - Add `allowed-tools:` frontmatter (and optionally `group:`) so the command doc itself satisfies CCW P0 frontmatter gates.
+   - Keep headings stable for evidence (e.g., `Overview`, `Mode 2: Auto Mode (Intelligent)`).
+
+2. Evidence Gate
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md`
+
+## P1 (Should)
+
+1. Implementation (planned)
+   - Prefer `ccw/src/tools/session-manager.ts` for session init/list/read/write to reduce bash dependencies and improve portability.
+   - Ensure auto-mode emits the warning lines when multiple sessions exist and chooses the first deterministically.
+
+## P2 (Optional)
+
+1. Tests (planned)
+   - Add focused unit tests around session slug generation, collision behavior, and mode selection (auto vs discovery vs force-new).
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..c5d1f30f3d1c2c0b4e7b0073c95cf1561e38fe30
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
@@ -0,0 +1,38 @@
+# Gap Report: workflow:session:start
+
+## Reference
+
+- Selected reference: /workflow:session:start (`.claude/commands/workflow/session/start.md`)
+
+## P0 Gaps (Must Fix)
+
+- None observed in the generated outline (frontmatter keys present; core sections present; evidence table provided).
+
+## P1 Gaps (Should Fix)
+
+- Align the slash outline's execution steps with the oracle's mode substeps (Mode 1/2/3) so implementers can map 1:1.
+- Ensure the output contract is explicit for all modes (Discovery vs Auto vs Force-new) including warning lines for multi-session auto mode.
+
+## P2 Gaps (Optional)
+
+- Add a brief note on whether to implement via `session_manager` tool calls vs direct bash filesystem primitives (prefer tool for portability).
+
+## Implementation Pointers (Evidence)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Primary spec/oracle for the command behavior |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session creation + metadata write; supports list/read/write/archive primitives |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Reliable discovery of WFS-* sessions and metadata parsing |
+
+## Implementation Hints (Tooling/Server)
+
+- Prefer `ccw/src/tools/session-manager.ts` operations (`init`, `list`, `read`, `write`) to avoid shell-specific behavior when implementing session start logic.
+- For discovery and metadata, reuse `ccw/src/core/session-scanner.ts` parsing rules to keep dashboard/CLI outputs consistent.
+
+## Proposed Fix Plan (Minimal)
+
+1. Docs: Add `allowed-tools` (and optionally `group`) frontmatter to `.claude/commands/workflow/session/start.md` to satisfy P0 gates consistently across the corpus.
+2. Implementation: Use `session_manager(operation="list")` for active sessions and `session_manager(operation="init")` for creation; keep the existing output contract (`SESSION_ID: ...`).
+3. Validation: Run verify-evidence on the updated command doc and ensure headings referenced in evidence remain stable.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..e890822222f68cbbe41c4e95efe1941f59b707fe
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,32 @@
+# Agent Outline: workflow:start
+
+## Purpose
+
+Implement and/or evolve the slash command according to CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Use ACE-tool to find existing patterns before adding new abstractions
+
+## State & Artifacts
+
+- Session folder (if used): `.workflow/...`
+- Required outputs:
+  - Slash MD (command doc): `.claude/commands/workflow/session/start.md`
+  - Any scripts/modules referenced by the command (prefer existing `ccw/src/tools/session-manager.ts`)
+  - Validation notes (evidence gate) for pointers
+
+## Tooling
+
+- Allowed tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+- Non-negotiables:
+  - no unrelated changes
+  - verify evidence tables (docs + TS anchors) for all key pointers
+
+## Validation Strategy
+
+- P0 gates: frontmatter + allowed-tools + core sections + artifact references
+- Evidence: run `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Regression: avoid introducing new P0 failures for completed corpus commands
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..622b25d54e95c5731a0e9b175773055570aa58c6
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,87 @@
+---
+name: start
+description: Discover existing sessions or start new workflow session with intelligent session management and conflict detection
+argument-hint: "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]"
+allowed-tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+group: workflow
+---
+
+# Start Workflow Session (/workflow:session:start)
+
+## Overview
+
+- Goal: Discover existing sessions or start a new workflow session, with safe defaults and conflict handling.
+- Command: `/workflow:session:start`
+
+## Usage
+
+```bash
+/workflow:session:start [--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]
+```
+
+## Inputs
+
+- Required inputs:
+  - None (Discovery mode)
+- Optional inputs:
+  - `--type <workflow|review|tdd|test|docs>` (default: `workflow`)
+  - `--auto "<task description>"` (intelligent mode; requires task description)
+  - `--new "<task description>"` (force-new mode; requires task description)
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (first-time only; via `/workflow:init`)
+  - `.workflow/project-guidelines.json` (first-time only; via `/workflow:init`)
+  - `.workflow/active/WFS-*/` (session directory)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata; includes `type`)
+  - `.workflow/active/WFS-*/.process/`
+  - `.workflow/active/WFS-*/.task/`
+  - `.workflow/active/WFS-*/.summaries/`
+- Reads:
+  - `.workflow/project-tech.json` + `.workflow/project-guidelines.json` (presence check)
+  - `.workflow/active/` (active session discovery)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata for reuse decision)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/session/start.md`
+- Likely code locations:
+  - `ccw/src/tools/session-manager.ts`
+  - `ccw/src/core/session-scanner.ts`
+
+### Evidence (Existing vs Planned)
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Oracle command doc and structure hints |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session lifecycle operations (init/list/read/write/archive) used by session start |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Cross-platform session discovery (WFS-* scanning + metadata parsing) |
+
+## Execution Process
+
+1. Step 0 (always): ensure project state exists
+   - If `.workflow/project-tech.json` or `.workflow/project-guidelines.json` missing, delegate to `/workflow:init` and continue.
+2. Mode selection (based on args)
+   - Discovery (default): list active sessions + show metadata; prompt user to reuse or create new.
+   - Auto (`--auto`): if 0 active sessions create new; if 1 active session decide reuse vs new; if many choose first and warn.
+   - Force-new (`--new`): always create new session; ensure unique session slug.
+3. Session creation (when needed)
+   - Generate `WFS-<slug>` (lowercase; max 50; append numeric suffix on collision).
+   - Create session directory structure + write `workflow-session.json` including `type` (defaults to `workflow`).
+4. Output
+   - Print `SESSION_ID: WFS-...`
+   - If multiple active sessions were detected in auto mode, also print warning + chosen session id.
+
+## Error Handling
+
+- Invalid `--type`: `ERROR: Invalid session type. Valid types: workflow, review, tdd, test, docs`
+- `--auto` or `--new` without a task description: `ERROR: --auto mode requires task description`
+- Filesystem failures (mkdir/write): `ERROR: Failed to create session directory`
+
+## Examples
+
+- `/workflow:session:start`
+- `/workflow:session:start --auto "implement OAuth2 authentication"`
+- `/workflow:session:start --type review "Code review for auth module"`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..cab9e83e7bbb65f1412972e296de3bf0853b2a40
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
@@ -0,0 +1,42 @@
+{
+  "id": "CMD-053",
+  "command": "/workflow:session:start",
+  "candidates": [
+    {
+      "slash": "/workflow:session:start",
+      "file_path": ".claude/commands/workflow/session/start.md",
+      "score": 1.0,
+      "why": "Exact target command oracle; defines the required modes and output format."
+    },
+    {
+      "slash": "/workflow:session:list",
+      "file_path": ".claude/commands/workflow/session/list.md",
+      "score": 0.86,
+      "why": "Same domain (workflow sessions); lists WFS sessions and reads workflow-session.json metadata."
+    },
+    {
+      "slash": "/workflow:session:complete",
+      "file_path": ".claude/commands/workflow/session/complete.md",
+      "score": 0.8,
+      "why": "Same domain; archives/updates sessions and relies on consistent session_id + metadata conventions."
+    },
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 0.72,
+      "why": "start delegates project-level initialization to workflow:init when project state files are missing."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.68,
+      "why": "Calls /workflow:session:start in its execution flow; constrains expected output contract (SESSION_ID: ...)."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:session:start",
+    "file_path": ".claude/commands/workflow/session/start.md",
+    "why": "Highest-confidence reference for required behavior and structure hints."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..41e0a3cd9b4bae5109cd6b4504600c70df981bca
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
@@ -0,0 +1,59 @@
+{
+  "schema_version": "1.0.0",
+  "id": "CMD-053",
+  "created_at": "2026-02-05T01:06:17Z",
+  "derived_from": ".workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/requirements/CMD-053.requirements.md",
+  "oracle_command_doc": ".claude/commands/workflow/session/start.md",
+  "command": {
+    "group": "workflow",
+    "name": "start",
+    "title": "Start Workflow Session (/workflow:session:start)",
+    "description": "Discover existing sessions or start new workflow session with intelligent session management and conflict detection",
+    "argument_hint": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]",
+    "usage_args": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]",
+    "allowed_tools": ["Skill(*)", "AskUserQuestion(*)", "Read(*)", "Write(*)", "Bash(*)"]
+  },
+  "intent": {
+    "type": "manage",
+    "interaction": "iterative",
+    "primary_user_value": "Discover existing sessions or start a new workflow session, with safe defaults and conflict handling."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/",
+      ".workflow/active/WFS-*/workflow-session.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/WFS-*/",
+      ".workflow/active/WFS-*/workflow-session.json",
+      ".workflow/active/WFS-*/.process/",
+      ".workflow/active/WFS-*/.task/",
+      ".workflow/active/WFS-*/.summaries/"
+    ]
+  },
+  "constraints": {
+    "must_not": [
+      "Do not label implementation pointers as Existing unless verifiable in the repo now.",
+      "Do not use placeholders (TBD/N/A) in evidence table rows; if unsure, mark Planned and add concrete Verify steps."
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter contains name, description, allowed-tools (and argument-hint if non-trivial)",
+      "Core sections present: Overview, Usage, Execution Process, Outputs / Artifacts, Error Handling",
+      "Evidence tables validate via verify-evidence.js (docs + TS anchors, Existing pointers verifiable)"
+    ]
+  },
+  "implementation": {
+    "command_doc": ".claude/commands/workflow/session/start.md",
+    "code_pointers": [
+      "ccw/src/tools/session-manager.ts",
+      "ccw/src/core/session-scanner.ts"
+    ]
+  }
+}
+


thinking
**Updating agent outline**

I'm looking to update the agent outline heading using the apply_patch command. I’ll change the first line to `# Agent Outline: workflow:session:start`. It seems important to mention command invocation, but I want to keep things minimal. So, I'll proceed with making those changes and patch it accordingly. It feels good to keep things organized and functional. Let’s get this done!
file update
M C:\Project\Claude-Code-Workflow\.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
@@ -1,2 +1,2 @@
-# Agent Outline: workflow:start
+# Agent Outline: workflow:session:start
 
@@ -31,2 +31 @@
 - Regression: avoid introducing new P0 failures for completed corpus commands
-
apply_patch(auto_approved=true) exited 0 in 103ms:
Success. Updated the following files:
M .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..383957e00eddb196edd86ce3f159dff93ccf44d9
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
@@ -0,0 +1,24 @@
+# Fix Plan: CMD-053 (/workflow:session:start)
+
+## P0 (Must)
+
+1. Docs (`.claude/commands/workflow/session/start.md`)
+   - Add `allowed-tools:` frontmatter (and optionally `group:`) so the command doc itself satisfies CCW P0 frontmatter gates.
+   - Keep headings stable for evidence (e.g., `Overview`, `Mode 2: Auto Mode (Intelligent)`).
+
+2. Evidence Gate
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md`
+
+## P1 (Should)
+
+1. Implementation (planned)
+   - Prefer `ccw/src/tools/session-manager.ts` for session init/list/read/write to reduce bash dependencies and improve portability.
+   - Ensure auto-mode emits the warning lines when multiple sessions exist and chooses the first deterministically.
+
+## P2 (Optional)
+
+1. Tests (planned)
+   - Add focused unit tests around session slug generation, collision behavior, and mode selection (auto vs discovery vs force-new).
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..c5d1f30f3d1c2c0b4e7b0073c95cf1561e38fe30
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
@@ -0,0 +1,38 @@
+# Gap Report: workflow:session:start
+
+## Reference
+
+- Selected reference: /workflow:session:start (`.claude/commands/workflow/session/start.md`)
+
+## P0 Gaps (Must Fix)
+
+- None observed in the generated outline (frontmatter keys present; core sections present; evidence table provided).
+
+## P1 Gaps (Should Fix)
+
+- Align the slash outline's execution steps with the oracle's mode substeps (Mode 1/2/3) so implementers can map 1:1.
+- Ensure the output contract is explicit for all modes (Discovery vs Auto vs Force-new) including warning lines for multi-session auto mode.
+
+## P2 Gaps (Optional)
+
+- Add a brief note on whether to implement via `session_manager` tool calls vs direct bash filesystem primitives (prefer tool for portability).
+
+## Implementation Pointers (Evidence)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Primary spec/oracle for the command behavior |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session creation + metadata write; supports list/read/write/archive primitives |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Reliable discovery of WFS-* sessions and metadata parsing |
+
+## Implementation Hints (Tooling/Server)
+
+- Prefer `ccw/src/tools/session-manager.ts` operations (`init`, `list`, `read`, `write`) to avoid shell-specific behavior when implementing session start logic.
+- For discovery and metadata, reuse `ccw/src/core/session-scanner.ts` parsing rules to keep dashboard/CLI outputs consistent.
+
+## Proposed Fix Plan (Minimal)
+
+1. Docs: Add `allowed-tools` (and optionally `group`) frontmatter to `.claude/commands/workflow/session/start.md` to satisfy P0 gates consistently across the corpus.
+2. Implementation: Use `session_manager(operation="list")` for active sessions and `session_manager(operation="init")` for creation; keep the existing output contract (`SESSION_ID: ...`).
+3. Validation: Run verify-evidence on the updated command doc and ensure headings referenced in evidence remain stable.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..3c4afcb26480d3e9579e38d81d7d84c7db8eff1d
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,31 @@
+# Agent Outline: workflow:session:start
+
+## Purpose
+
+Implement and/or evolve the slash command according to CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Use ACE-tool to find existing patterns before adding new abstractions
+
+## State & Artifacts
+
+- Session folder (if used): `.workflow/...`
+- Required outputs:
+  - Slash MD (command doc): `.claude/commands/workflow/session/start.md`
+  - Any scripts/modules referenced by the command (prefer existing `ccw/src/tools/session-manager.ts`)
+  - Validation notes (evidence gate) for pointers
+
+## Tooling
+
+- Allowed tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+- Non-negotiables:
+  - no unrelated changes
+  - verify evidence tables (docs + TS anchors) for all key pointers
+
+## Validation Strategy
+
+- P0 gates: frontmatter + allowed-tools + core sections + artifact references
+- Evidence: run `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Regression: avoid introducing new P0 failures for completed corpus commands
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..622b25d54e95c5731a0e9b175773055570aa58c6
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,87 @@
+---
+name: start
+description: Discover existing sessions or start new workflow session with intelligent session management and conflict detection
+argument-hint: "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]"
+allowed-tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+group: workflow
+---
+
+# Start Workflow Session (/workflow:session:start)
+
+## Overview
+
+- Goal: Discover existing sessions or start a new workflow session, with safe defaults and conflict handling.
+- Command: `/workflow:session:start`
+
+## Usage
+
+```bash
+/workflow:session:start [--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]
+```
+
+## Inputs
+
+- Required inputs:
+  - None (Discovery mode)
+- Optional inputs:
+  - `--type <workflow|review|tdd|test|docs>` (default: `workflow`)
+  - `--auto "<task description>"` (intelligent mode; requires task description)
+  - `--new "<task description>"` (force-new mode; requires task description)
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (first-time only; via `/workflow:init`)
+  - `.workflow/project-guidelines.json` (first-time only; via `/workflow:init`)
+  - `.workflow/active/WFS-*/` (session directory)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata; includes `type`)
+  - `.workflow/active/WFS-*/.process/`
+  - `.workflow/active/WFS-*/.task/`
+  - `.workflow/active/WFS-*/.summaries/`
+- Reads:
+  - `.workflow/project-tech.json` + `.workflow/project-guidelines.json` (presence check)
+  - `.workflow/active/` (active session discovery)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata for reuse decision)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/session/start.md`
+- Likely code locations:
+  - `ccw/src/tools/session-manager.ts`
+  - `ccw/src/core/session-scanner.ts`
+
+### Evidence (Existing vs Planned)
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Oracle command doc and structure hints |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session lifecycle operations (init/list/read/write/archive) used by session start |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Cross-platform session discovery (WFS-* scanning + metadata parsing) |
+
+## Execution Process
+
+1. Step 0 (always): ensure project state exists
+   - If `.workflow/project-tech.json` or `.workflow/project-guidelines.json` missing, delegate to `/workflow:init` and continue.
+2. Mode selection (based on args)
+   - Discovery (default): list active sessions + show metadata; prompt user to reuse or create new.
+   - Auto (`--auto`): if 0 active sessions create new; if 1 active session decide reuse vs new; if many choose first and warn.
+   - Force-new (`--new`): always create new session; ensure unique session slug.
+3. Session creation (when needed)
+   - Generate `WFS-<slug>` (lowercase; max 50; append numeric suffix on collision).
+   - Create session directory structure + write `workflow-session.json` including `type` (defaults to `workflow`).
+4. Output
+   - Print `SESSION_ID: WFS-...`
+   - If multiple active sessions were detected in auto mode, also print warning + chosen session id.
+
+## Error Handling
+
+- Invalid `--type`: `ERROR: Invalid session type. Valid types: workflow, review, tdd, test, docs`
+- `--auto` or `--new` without a task description: `ERROR: --auto mode requires task description`
+- Filesystem failures (mkdir/write): `ERROR: Failed to create session directory`
+
+## Examples
+
+- `/workflow:session:start`
+- `/workflow:session:start --auto "implement OAuth2 authentication"`
+- `/workflow:session:start --type review "Code review for auth module"`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..cab9e83e7bbb65f1412972e296de3bf0853b2a40
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
@@ -0,0 +1,42 @@
+{
+  "id": "CMD-053",
+  "command": "/workflow:session:start",
+  "candidates": [
+    {
+      "slash": "/workflow:session:start",
+      "file_path": ".claude/commands/workflow/session/start.md",
+      "score": 1.0,
+      "why": "Exact target command oracle; defines the required modes and output format."
+    },
+    {
+      "slash": "/workflow:session:list",
+      "file_path": ".claude/commands/workflow/session/list.md",
+      "score": 0.86,
+      "why": "Same domain (workflow sessions); lists WFS sessions and reads workflow-session.json metadata."
+    },
+    {
+      "slash": "/workflow:session:complete",
+      "file_path": ".claude/commands/workflow/session/complete.md",
+      "score": 0.8,
+      "why": "Same domain; archives/updates sessions and relies on consistent session_id + metadata conventions."
+    },
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 0.72,
+      "why": "start delegates project-level initialization to workflow:init when project state files are missing."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.68,
+      "why": "Calls /workflow:session:start in its execution flow; constrains expected output contract (SESSION_ID: ...)."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:session:start",
+    "file_path": ".claude/commands/workflow/session/start.md",
+    "why": "Highest-confidence reference for required behavior and structure hints."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..41e0a3cd9b4bae5109cd6b4504600c70df981bca
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
@@ -0,0 +1,59 @@
+{
+  "schema_version": "1.0.0",
+  "id": "CMD-053",
+  "created_at": "2026-02-05T01:06:17Z",
+  "derived_from": ".workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/requirements/CMD-053.requirements.md",
+  "oracle_command_doc": ".claude/commands/workflow/session/start.md",
+  "command": {
+    "group": "workflow",
+    "name": "start",
+    "title": "Start Workflow Session (/workflow:session:start)",
+    "description": "Discover existing sessions or start new workflow session with intelligent session management and conflict detection",
+    "argument_hint": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]",
+    "usage_args": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]",
+    "allowed_tools": ["Skill(*)", "AskUserQuestion(*)", "Read(*)", "Write(*)", "Bash(*)"]
+  },
+  "intent": {
+    "type": "manage",
+    "interaction": "iterative",
+    "primary_user_value": "Discover existing sessions or start a new workflow session, with safe defaults and conflict handling."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/",
+      ".workflow/active/WFS-*/workflow-session.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/WFS-*/",
+      ".workflow/active/WFS-*/workflow-session.json",
+      ".workflow/active/WFS-*/.process/",
+      ".workflow/active/WFS-*/.task/",
+      ".workflow/active/WFS-*/.summaries/"
+    ]
+  },
+  "constraints": {
+    "must_not": [
+      "Do not label implementation pointers as Existing unless verifiable in the repo now.",
+      "Do not use placeholders (TBD/N/A) in evidence table rows; if unsure, mark Planned and add concrete Verify steps."
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter contains name, description, allowed-tools (and argument-hint if non-trivial)",
+      "Core sections present: Overview, Usage, Execution Process, Outputs / Artifacts, Error Handling",
+      "Evidence tables validate via verify-evidence.js (docs + TS anchors, Existing pointers verifiable)"
+    ]
+  },
+  "implementation": {
+    "command_doc": ".claude/commands/workflow/session/start.md",
+    "code_pointers": [
+      "ccw/src/tools/session-manager.ts",
+      "ccw/src/core/session-scanner.ts"
+    ]
+  }
+}
+

file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..383957e00eddb196edd86ce3f159dff93ccf44d9
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
@@ -0,0 +1,24 @@
+# Fix Plan: CMD-053 (/workflow:session:start)
+
+## P0 (Must)
+
+1. Docs (`.claude/commands/workflow/session/start.md`)
+   - Add `allowed-tools:` frontmatter (and optionally `group:`) so the command doc itself satisfies CCW P0 frontmatter gates.
+   - Keep headings stable for evidence (e.g., `Overview`, `Mode 2: Auto Mode (Intelligent)`).
+
+2. Evidence Gate
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md`
+
+## P1 (Should)
+
+1. Implementation (planned)
+   - Prefer `ccw/src/tools/session-manager.ts` for session init/list/read/write to reduce bash dependencies and improve portability.
+   - Ensure auto-mode emits the warning lines when multiple sessions exist and chooses the first deterministically.
+
+## P2 (Optional)
+
+1. Tests (planned)
+   - Add focused unit tests around session slug generation, collision behavior, and mode selection (auto vs discovery vs force-new).
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..c5d1f30f3d1c2c0b4e7b0073c95cf1561e38fe30
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
@@ -0,0 +1,38 @@
+# Gap Report: workflow:session:start
+
+## Reference
+
+- Selected reference: /workflow:session:start (`.claude/commands/workflow/session/start.md`)
+
+## P0 Gaps (Must Fix)
+
+- None observed in the generated outline (frontmatter keys present; core sections present; evidence table provided).
+
+## P1 Gaps (Should Fix)
+
+- Align the slash outline's execution steps with the oracle's mode substeps (Mode 1/2/3) so implementers can map 1:1.
+- Ensure the output contract is explicit for all modes (Discovery vs Auto vs Force-new) including warning lines for multi-session auto mode.
+
+## P2 Gaps (Optional)
+
+- Add a brief note on whether to implement via `session_manager` tool calls vs direct bash filesystem primitives (prefer tool for portability).
+
+## Implementation Pointers (Evidence)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Primary spec/oracle for the command behavior |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session creation + metadata write; supports list/read/write/archive primitives |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Reliable discovery of WFS-* sessions and metadata parsing |
+
+## Implementation Hints (Tooling/Server)
+
+- Prefer `ccw/src/tools/session-manager.ts` operations (`init`, `list`, `read`, `write`) to avoid shell-specific behavior when implementing session start logic.
+- For discovery and metadata, reuse `ccw/src/core/session-scanner.ts` parsing rules to keep dashboard/CLI outputs consistent.
+
+## Proposed Fix Plan (Minimal)
+
+1. Docs: Add `allowed-tools` (and optionally `group`) frontmatter to `.claude/commands/workflow/session/start.md` to satisfy P0 gates consistently across the corpus.
+2. Implementation: Use `session_manager(operation="list")` for active sessions and `session_manager(operation="init")` for creation; keep the existing output contract (`SESSION_ID: ...`).
+3. Validation: Run verify-evidence on the updated command doc and ensure headings referenced in evidence remain stable.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..3c4afcb26480d3e9579e38d81d7d84c7db8eff1d
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,31 @@
+# Agent Outline: workflow:session:start
+
+## Purpose
+
+Implement and/or evolve the slash command according to CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Use ACE-tool to find existing patterns before adding new abstractions
+
+## State & Artifacts
+
+- Session folder (if used): `.workflow/...`
+- Required outputs:
+  - Slash MD (command doc): `.claude/commands/workflow/session/start.md`
+  - Any scripts/modules referenced by the command (prefer existing `ccw/src/tools/session-manager.ts`)
+  - Validation notes (evidence gate) for pointers
+
+## Tooling
+
+- Allowed tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+- Non-negotiables:
+  - no unrelated changes
+  - verify evidence tables (docs + TS anchors) for all key pointers
+
+## Validation Strategy
+
+- P0 gates: frontmatter + allowed-tools + core sections + artifact references
+- Evidence: run `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Regression: avoid introducing new P0 failures for completed corpus commands
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..622b25d54e95c5731a0e9b175773055570aa58c6
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,87 @@
+---
+name: start
+description: Discover existing sessions or start new workflow session with intelligent session management and conflict detection
+argument-hint: "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]"
+allowed-tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+group: workflow
+---
+
+# Start Workflow Session (/workflow:session:start)
+
+## Overview
+
+- Goal: Discover existing sessions or start a new workflow session, with safe defaults and conflict handling.
+- Command: `/workflow:session:start`
+
+## Usage
+
+```bash
+/workflow:session:start [--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]
+```
+
+## Inputs
+
+- Required inputs:
+  - None (Discovery mode)
+- Optional inputs:
+  - `--type <workflow|review|tdd|test|docs>` (default: `workflow`)
+  - `--auto "<task description>"` (intelligent mode; requires task description)
+  - `--new "<task description>"` (force-new mode; requires task description)
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (first-time only; via `/workflow:init`)
+  - `.workflow/project-guidelines.json` (first-time only; via `/workflow:init`)
+  - `.workflow/active/WFS-*/` (session directory)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata; includes `type`)
+  - `.workflow/active/WFS-*/.process/`
+  - `.workflow/active/WFS-*/.task/`
+  - `.workflow/active/WFS-*/.summaries/`
+- Reads:
+  - `.workflow/project-tech.json` + `.workflow/project-guidelines.json` (presence check)
+  - `.workflow/active/` (active session discovery)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata for reuse decision)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/session/start.md`
+- Likely code locations:
+  - `ccw/src/tools/session-manager.ts`
+  - `ccw/src/core/session-scanner.ts`
+
+### Evidence (Existing vs Planned)
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Oracle command doc and structure hints |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session lifecycle operations (init/list/read/write/archive) used by session start |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Cross-platform session discovery (WFS-* scanning + metadata parsing) |
+
+## Execution Process
+
+1. Step 0 (always): ensure project state exists
+   - If `.workflow/project-tech.json` or `.workflow/project-guidelines.json` missing, delegate to `/workflow:init` and continue.
+2. Mode selection (based on args)
+   - Discovery (default): list active sessions + show metadata; prompt user to reuse or create new.
+   - Auto (`--auto`): if 0 active sessions create new; if 1 active session decide reuse vs new; if many choose first and warn.
+   - Force-new (`--new`): always create new session; ensure unique session slug.
+3. Session creation (when needed)
+   - Generate `WFS-<slug>` (lowercase; max 50; append numeric suffix on collision).
+   - Create session directory structure + write `workflow-session.json` including `type` (defaults to `workflow`).
+4. Output
+   - Print `SESSION_ID: WFS-...`
+   - If multiple active sessions were detected in auto mode, also print warning + chosen session id.
+
+## Error Handling
+
+- Invalid `--type`: `ERROR: Invalid session type. Valid types: workflow, review, tdd, test, docs`
+- `--auto` or `--new` without a task description: `ERROR: --auto mode requires task description`
+- Filesystem failures (mkdir/write): `ERROR: Failed to create session directory`
+
+## Examples
+
+- `/workflow:session:start`
+- `/workflow:session:start --auto "implement OAuth2 authentication"`
+- `/workflow:session:start --type review "Code review for auth module"`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..cab9e83e7bbb65f1412972e296de3bf0853b2a40
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
@@ -0,0 +1,42 @@
+{
+  "id": "CMD-053",
+  "command": "/workflow:session:start",
+  "candidates": [
+    {
+      "slash": "/workflow:session:start",
+      "file_path": ".claude/commands/workflow/session/start.md",
+      "score": 1.0,
+      "why": "Exact target command oracle; defines the required modes and output format."
+    },
+    {
+      "slash": "/workflow:session:list",
+      "file_path": ".claude/commands/workflow/session/list.md",
+      "score": 0.86,
+      "why": "Same domain (workflow sessions); lists WFS sessions and reads workflow-session.json metadata."
+    },
+    {
+      "slash": "/workflow:session:complete",
+      "file_path": ".claude/commands/workflow/session/complete.md",
+      "score": 0.8,
+      "why": "Same domain; archives/updates sessions and relies on consistent session_id + metadata conventions."
+    },
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 0.72,
+      "why": "start delegates project-level initialization to workflow:init when project state files are missing."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.68,
+      "why": "Calls /workflow:session:start in its execution flow; constrains expected output contract (SESSION_ID: ...)."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:session:start",
+    "file_path": ".claude/commands/workflow/session/start.md",
+    "why": "Highest-confidence reference for required behavior and structure hints."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..41e0a3cd9b4bae5109cd6b4504600c70df981bca
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
@@ -0,0 +1,59 @@
+{
+  "schema_version": "1.0.0",
+  "id": "CMD-053",
+  "created_at": "2026-02-05T01:06:17Z",
+  "derived_from": ".workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/requirements/CMD-053.requirements.md",
+  "oracle_command_doc": ".claude/commands/workflow/session/start.md",
+  "command": {
+    "group": "workflow",
+    "name": "start",
+    "title": "Start Workflow Session (/workflow:session:start)",
+    "description": "Discover existing sessions or start new workflow session with intelligent session management and conflict detection",
+    "argument_hint": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]",
+    "usage_args": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]",
+    "allowed_tools": ["Skill(*)", "AskUserQuestion(*)", "Read(*)", "Write(*)", "Bash(*)"]
+  },
+  "intent": {
+    "type": "manage",
+    "interaction": "iterative",
+    "primary_user_value": "Discover existing sessions or start a new workflow session, with safe defaults and conflict handling."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/",
+      ".workflow/active/WFS-*/workflow-session.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/WFS-*/",
+      ".workflow/active/WFS-*/workflow-session.json",
+      ".workflow/active/WFS-*/.process/",
+      ".workflow/active/WFS-*/.task/",
+      ".workflow/active/WFS-*/.summaries/"
+    ]
+  },
+  "constraints": {
+    "must_not": [
+      "Do not label implementation pointers as Existing unless verifiable in the repo now.",
+      "Do not use placeholders (TBD/N/A) in evidence table rows; if unsure, mark Planned and add concrete Verify steps."
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter contains name, description, allowed-tools (and argument-hint if non-trivial)",
+      "Core sections present: Overview, Usage, Execution Process, Outputs / Artifacts, Error Handling",
+      "Evidence tables validate via verify-evidence.js (docs + TS anchors, Existing pointers verifiable)"
+    ]
+  },
+  "implementation": {
+    "command_doc": ".claude/commands/workflow/session/start.md",
+    "code_pointers": [
+      "ccw/src/tools/session-manager.ts",
+      "ccw/src/core/session-scanner.ts"
+    ]
+  }
+}
+

exec
"C:\\Program Files\\PowerShell\\7\\pwsh.exe" -Command '[Console]::InputEncoding  = [Text.UTF8Encoding]::new($false)
[Console]::OutputEncoding = [Text.UTF8Encoding]::new($false)
chcp 65001 > $null

Get-ChildItem -File .workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs | Select-Object Name, Length' in C:\Project\Claude-Code-Workflow succeeded in 332ms:

[32;1mName                      [0m[32;1m Length[0m
[32;1m----                      [0m [32;1m------[0m
fix-plan.md                  1245
gap-report.md                2725
generated-agent-outline.md   1076
generated-slash-outline.md   4423
references.json              1516
spec.json                    2410

file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..383957e00eddb196edd86ce3f159dff93ccf44d9
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
@@ -0,0 +1,24 @@
+# Fix Plan: CMD-053 (/workflow:session:start)
+
+## P0 (Must)
+
+1. Docs (`.claude/commands/workflow/session/start.md`)
+   - Add `allowed-tools:` frontmatter (and optionally `group:`) so the command doc itself satisfies CCW P0 frontmatter gates.
+   - Keep headings stable for evidence (e.g., `Overview`, `Mode 2: Auto Mode (Intelligent)`).
+
+2. Evidence Gate
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md`
+
+## P1 (Should)
+
+1. Implementation (planned)
+   - Prefer `ccw/src/tools/session-manager.ts` for session init/list/read/write to reduce bash dependencies and improve portability.
+   - Ensure auto-mode emits the warning lines when multiple sessions exist and chooses the first deterministically.
+
+## P2 (Optional)
+
+1. Tests (planned)
+   - Add focused unit tests around session slug generation, collision behavior, and mode selection (auto vs discovery vs force-new).
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..c5d1f30f3d1c2c0b4e7b0073c95cf1561e38fe30
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
@@ -0,0 +1,38 @@
+# Gap Report: workflow:session:start
+
+## Reference
+
+- Selected reference: /workflow:session:start (`.claude/commands/workflow/session/start.md`)
+
+## P0 Gaps (Must Fix)
+
+- None observed in the generated outline (frontmatter keys present; core sections present; evidence table provided).
+
+## P1 Gaps (Should Fix)
+
+- Align the slash outline's execution steps with the oracle's mode substeps (Mode 1/2/3) so implementers can map 1:1.
+- Ensure the output contract is explicit for all modes (Discovery vs Auto vs Force-new) including warning lines for multi-session auto mode.
+
+## P2 Gaps (Optional)
+
+- Add a brief note on whether to implement via `session_manager` tool calls vs direct bash filesystem primitives (prefer tool for portability).
+
+## Implementation Pointers (Evidence)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Primary spec/oracle for the command behavior |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session creation + metadata write; supports list/read/write/archive primitives |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Reliable discovery of WFS-* sessions and metadata parsing |
+
+## Implementation Hints (Tooling/Server)
+
+- Prefer `ccw/src/tools/session-manager.ts` operations (`init`, `list`, `read`, `write`) to avoid shell-specific behavior when implementing session start logic.
+- For discovery and metadata, reuse `ccw/src/core/session-scanner.ts` parsing rules to keep dashboard/CLI outputs consistent.
+
+## Proposed Fix Plan (Minimal)
+
+1. Docs: Add `allowed-tools` (and optionally `group`) frontmatter to `.claude/commands/workflow/session/start.md` to satisfy P0 gates consistently across the corpus.
+2. Implementation: Use `session_manager(operation="list")` for active sessions and `session_manager(operation="init")` for creation; keep the existing output contract (`SESSION_ID: ...`).
+3. Validation: Run verify-evidence on the updated command doc and ensure headings referenced in evidence remain stable.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..3c4afcb26480d3e9579e38d81d7d84c7db8eff1d
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,31 @@
+# Agent Outline: workflow:session:start
+
+## Purpose
+
+Implement and/or evolve the slash command according to CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Use ACE-tool to find existing patterns before adding new abstractions
+
+## State & Artifacts
+
+- Session folder (if used): `.workflow/...`
+- Required outputs:
+  - Slash MD (command doc): `.claude/commands/workflow/session/start.md`
+  - Any scripts/modules referenced by the command (prefer existing `ccw/src/tools/session-manager.ts`)
+  - Validation notes (evidence gate) for pointers
+
+## Tooling
+
+- Allowed tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+- Non-negotiables:
+  - no unrelated changes
+  - verify evidence tables (docs + TS anchors) for all key pointers
+
+## Validation Strategy
+
+- P0 gates: frontmatter + allowed-tools + core sections + artifact references
+- Evidence: run `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Regression: avoid introducing new P0 failures for completed corpus commands
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..622b25d54e95c5731a0e9b175773055570aa58c6
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,87 @@
+---
+name: start
+description: Discover existing sessions or start new workflow session with intelligent session management and conflict detection
+argument-hint: "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]"
+allowed-tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+group: workflow
+---
+
+# Start Workflow Session (/workflow:session:start)
+
+## Overview
+
+- Goal: Discover existing sessions or start a new workflow session, with safe defaults and conflict handling.
+- Command: `/workflow:session:start`
+
+## Usage
+
+```bash
+/workflow:session:start [--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]
+```
+
+## Inputs
+
+- Required inputs:
+  - None (Discovery mode)
+- Optional inputs:
+  - `--type <workflow|review|tdd|test|docs>` (default: `workflow`)
+  - `--auto "<task description>"` (intelligent mode; requires task description)
+  - `--new "<task description>"` (force-new mode; requires task description)
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (first-time only; via `/workflow:init`)
+  - `.workflow/project-guidelines.json` (first-time only; via `/workflow:init`)
+  - `.workflow/active/WFS-*/` (session directory)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata; includes `type`)
+  - `.workflow/active/WFS-*/.process/`
+  - `.workflow/active/WFS-*/.task/`
+  - `.workflow/active/WFS-*/.summaries/`
+- Reads:
+  - `.workflow/project-tech.json` + `.workflow/project-guidelines.json` (presence check)
+  - `.workflow/active/` (active session discovery)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata for reuse decision)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/session/start.md`
+- Likely code locations:
+  - `ccw/src/tools/session-manager.ts`
+  - `ccw/src/core/session-scanner.ts`
+
+### Evidence (Existing vs Planned)
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Oracle command doc and structure hints |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session lifecycle operations (init/list/read/write/archive) used by session start |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Cross-platform session discovery (WFS-* scanning + metadata parsing) |
+
+## Execution Process
+
+1. Step 0 (always): ensure project state exists
+   - If `.workflow/project-tech.json` or `.workflow/project-guidelines.json` missing, delegate to `/workflow:init` and continue.
+2. Mode selection (based on args)
+   - Discovery (default): list active sessions + show metadata; prompt user to reuse or create new.
+   - Auto (`--auto`): if 0 active sessions create new; if 1 active session decide reuse vs new; if many choose first and warn.
+   - Force-new (`--new`): always create new session; ensure unique session slug.
+3. Session creation (when needed)
+   - Generate `WFS-<slug>` (lowercase; max 50; append numeric suffix on collision).
+   - Create session directory structure + write `workflow-session.json` including `type` (defaults to `workflow`).
+4. Output
+   - Print `SESSION_ID: WFS-...`
+   - If multiple active sessions were detected in auto mode, also print warning + chosen session id.
+
+## Error Handling
+
+- Invalid `--type`: `ERROR: Invalid session type. Valid types: workflow, review, tdd, test, docs`
+- `--auto` or `--new` without a task description: `ERROR: --auto mode requires task description`
+- Filesystem failures (mkdir/write): `ERROR: Failed to create session directory`
+
+## Examples
+
+- `/workflow:session:start`
+- `/workflow:session:start --auto "implement OAuth2 authentication"`
+- `/workflow:session:start --type review "Code review for auth module"`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..cab9e83e7bbb65f1412972e296de3bf0853b2a40
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
@@ -0,0 +1,42 @@
+{
+  "id": "CMD-053",
+  "command": "/workflow:session:start",
+  "candidates": [
+    {
+      "slash": "/workflow:session:start",
+      "file_path": ".claude/commands/workflow/session/start.md",
+      "score": 1.0,
+      "why": "Exact target command oracle; defines the required modes and output format."
+    },
+    {
+      "slash": "/workflow:session:list",
+      "file_path": ".claude/commands/workflow/session/list.md",
+      "score": 0.86,
+      "why": "Same domain (workflow sessions); lists WFS sessions and reads workflow-session.json metadata."
+    },
+    {
+      "slash": "/workflow:session:complete",
+      "file_path": ".claude/commands/workflow/session/complete.md",
+      "score": 0.8,
+      "why": "Same domain; archives/updates sessions and relies on consistent session_id + metadata conventions."
+    },
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 0.72,
+      "why": "start delegates project-level initialization to workflow:init when project state files are missing."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.68,
+      "why": "Calls /workflow:session:start in its execution flow; constrains expected output contract (SESSION_ID: ...)."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:session:start",
+    "file_path": ".claude/commands/workflow/session/start.md",
+    "why": "Highest-confidence reference for required behavior and structure hints."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..41e0a3cd9b4bae5109cd6b4504600c70df981bca
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
@@ -0,0 +1,59 @@
+{
+  "schema_version": "1.0.0",
+  "id": "CMD-053",
+  "created_at": "2026-02-05T01:06:17Z",
+  "derived_from": ".workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/requirements/CMD-053.requirements.md",
+  "oracle_command_doc": ".claude/commands/workflow/session/start.md",
+  "command": {
+    "group": "workflow",
+    "name": "start",
+    "title": "Start Workflow Session (/workflow:session:start)",
+    "description": "Discover existing sessions or start new workflow session with intelligent session management and conflict detection",
+    "argument_hint": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]",
+    "usage_args": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]",
+    "allowed_tools": ["Skill(*)", "AskUserQuestion(*)", "Read(*)", "Write(*)", "Bash(*)"]
+  },
+  "intent": {
+    "type": "manage",
+    "interaction": "iterative",
+    "primary_user_value": "Discover existing sessions or start a new workflow session, with safe defaults and conflict handling."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/",
+      ".workflow/active/WFS-*/workflow-session.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/WFS-*/",
+      ".workflow/active/WFS-*/workflow-session.json",
+      ".workflow/active/WFS-*/.process/",
+      ".workflow/active/WFS-*/.task/",
+      ".workflow/active/WFS-*/.summaries/"
+    ]
+  },
+  "constraints": {
+    "must_not": [
+      "Do not label implementation pointers as Existing unless verifiable in the repo now.",
+      "Do not use placeholders (TBD/N/A) in evidence table rows; if unsure, mark Planned and add concrete Verify steps."
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter contains name, description, allowed-tools (and argument-hint if non-trivial)",
+      "Core sections present: Overview, Usage, Execution Process, Outputs / Artifacts, Error Handling",
+      "Evidence tables validate via verify-evidence.js (docs + TS anchors, Existing pointers verifiable)"
+    ]
+  },
+  "implementation": {
+    "command_doc": ".claude/commands/workflow/session/start.md",
+    "code_pointers": [
+      "ccw/src/tools/session-manager.ts",
+      "ccw/src/core/session-scanner.ts"
+    ]
+  }
+}
+

codex
Wrote CMD-053 outputs (per `.codex/skills/slash-command-outliner/templates/*`) to:
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md`
- `.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md`

Quality gate (P0) check:
- `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.../gap-report.md` PASS
- `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.../generated-slash-outline.md` PASS
file update:
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
new file mode 100644
index 0000000000000000000000000000000000000000..383957e00eddb196edd86ce3f159dff93ccf44d9
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/fix-plan.md
@@ -0,0 +1,24 @@
+# Fix Plan: CMD-053 (/workflow:session:start)
+
+## P0 (Must)
+
+1. Docs (`.claude/commands/workflow/session/start.md`)
+   - Add `allowed-tools:` frontmatter (and optionally `group:`) so the command doc itself satisfies CCW P0 frontmatter gates.
+   - Keep headings stable for evidence (e.g., `Overview`, `Mode 2: Auto Mode (Intelligent)`).
+
+2. Evidence Gate
+   - Run:
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md`
+     - `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md`
+
+## P1 (Should)
+
+1. Implementation (planned)
+   - Prefer `ccw/src/tools/session-manager.ts` for session init/list/read/write to reduce bash dependencies and improve portability.
+   - Ensure auto-mode emits the warning lines when multiple sessions exist and chooses the first deterministically.
+
+## P2 (Optional)
+
+1. Tests (planned)
+   - Add focused unit tests around session slug generation, collision behavior, and mode selection (auto vs discovery vs force-new).
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
new file mode 100644
index 0000000000000000000000000000000000000000..c5d1f30f3d1c2c0b4e7b0073c95cf1561e38fe30
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/gap-report.md
@@ -0,0 +1,38 @@
+# Gap Report: workflow:session:start
+
+## Reference
+
+- Selected reference: /workflow:session:start (`.claude/commands/workflow/session/start.md`)
+
+## P0 Gaps (Must Fix)
+
+- None observed in the generated outline (frontmatter keys present; core sections present; evidence table provided).
+
+## P1 Gaps (Should Fix)
+
+- Align the slash outline's execution steps with the oracle's mode substeps (Mode 1/2/3) so implementers can map 1:1.
+- Ensure the output contract is explicit for all modes (Discovery vs Auto vs Force-new) including warning lines for multi-session auto mode.
+
+## P2 Gaps (Optional)
+
+- Add a brief note on whether to implement via `session_manager` tool calls vs direct bash filesystem primitives (prefer tool for portability).
+
+## Implementation Pointers (Evidence)
+
+| Pointer | Status | Evidence | Verify | Notes |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Primary spec/oracle for the command behavior |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session creation + metadata write; supports list/read/write/archive primitives |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Reliable discovery of WFS-* sessions and metadata parsing |
+
+## Implementation Hints (Tooling/Server)
+
+- Prefer `ccw/src/tools/session-manager.ts` operations (`init`, `list`, `read`, `write`) to avoid shell-specific behavior when implementing session start logic.
+- For discovery and metadata, reuse `ccw/src/core/session-scanner.ts` parsing rules to keep dashboard/CLI outputs consistent.
+
+## Proposed Fix Plan (Minimal)
+
+1. Docs: Add `allowed-tools` (and optionally `group`) frontmatter to `.claude/commands/workflow/session/start.md` to satisfy P0 gates consistently across the corpus.
+2. Implementation: Use `session_manager(operation="list")` for active sessions and `session_manager(operation="init")` for creation; keep the existing output contract (`SESSION_ID: ...`).
+3. Validation: Run verify-evidence on the updated command doc and ensure headings referenced in evidence remain stable.
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..3c4afcb26480d3e9579e38d81d7d84c7db8eff1d
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-agent-outline.md
@@ -0,0 +1,31 @@
+# Agent Outline: workflow:session:start
+
+## Purpose
+
+Implement and/or evolve the slash command according to CCW conventions with minimal regressions.
+
+## Execution Model
+
+- Default: incremental, testable changes
+- Use ACE-tool to find existing patterns before adding new abstractions
+
+## State & Artifacts
+
+- Session folder (if used): `.workflow/...`
+- Required outputs:
+  - Slash MD (command doc): `.claude/commands/workflow/session/start.md`
+  - Any scripts/modules referenced by the command (prefer existing `ccw/src/tools/session-manager.ts`)
+  - Validation notes (evidence gate) for pointers
+
+## Tooling
+
+- Allowed tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+- Non-negotiables:
+  - no unrelated changes
+  - verify evidence tables (docs + TS anchors) for all key pointers
+
+## Validation Strategy
+
+- P0 gates: frontmatter + allowed-tools + core sections + artifact references
+- Evidence: run `node .codex/skills/slash-command-outliner/scripts/verify-evidence.js --file=<md>`
+- Regression: avoid introducing new P0 failures for completed corpus commands
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
new file mode 100644
index 0000000000000000000000000000000000000000..622b25d54e95c5731a0e9b175773055570aa58c6
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/generated-slash-outline.md
@@ -0,0 +1,87 @@
+---
+name: start
+description: Discover existing sessions or start new workflow session with intelligent session management and conflict detection
+argument-hint: "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]"
+allowed-tools: Skill(*), AskUserQuestion(*), Read(*), Write(*), Bash(*)
+group: workflow
+---
+
+# Start Workflow Session (/workflow:session:start)
+
+## Overview
+
+- Goal: Discover existing sessions or start a new workflow session, with safe defaults and conflict handling.
+- Command: `/workflow:session:start`
+
+## Usage
+
+```bash
+/workflow:session:start [--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]
+```
+
+## Inputs
+
+- Required inputs:
+  - None (Discovery mode)
+- Optional inputs:
+  - `--type <workflow|review|tdd|test|docs>` (default: `workflow`)
+  - `--auto "<task description>"` (intelligent mode; requires task description)
+  - `--new "<task description>"` (force-new mode; requires task description)
+
+## Outputs / Artifacts
+
+- Writes:
+  - `.workflow/project-tech.json` (first-time only; via `/workflow:init`)
+  - `.workflow/project-guidelines.json` (first-time only; via `/workflow:init`)
+  - `.workflow/active/WFS-*/` (session directory)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata; includes `type`)
+  - `.workflow/active/WFS-*/.process/`
+  - `.workflow/active/WFS-*/.task/`
+  - `.workflow/active/WFS-*/.summaries/`
+- Reads:
+  - `.workflow/project-tech.json` + `.workflow/project-guidelines.json` (presence check)
+  - `.workflow/active/` (active session discovery)
+  - `.workflow/active/WFS-*/workflow-session.json` (session metadata for reuse decision)
+
+## Implementation Pointers
+
+- Command doc: `.claude/commands/workflow/session/start.md`
+- Likely code locations:
+  - `ccw/src/tools/session-manager.ts`
+  - `ccw/src/core/session-scanner.ts`
+
+### Evidence (Existing vs Planned)
+
+| Pointer | Status | Evidence (docs + TS) | Verify | Why |
+|---|---|---|---|---|
+| `.claude/commands/workflow/session/start.md` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Overview` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path .claude/commands/workflow/session/start.md` | Oracle command doc and structure hints |
+| `ccw/src/tools/session-manager.ts` | Existing | docs: `.claude/commands/workflow/session/start.md` / `Mode 2: Auto Mode (Intelligent)` ; ts: `ccw/src/tools/session-manager.ts` / `function executeInit(params: Params): any {` | `Test-Path ccw/src/tools/session-manager.ts` | Session lifecycle operations (init/list/read/write/archive) used by session start |
+| `ccw/src/core/session-scanner.ts` | Existing | docs: `.claude/commands/workflow/session/list.md` / `Implementation Flow` ; ts: `ccw/src/core/session-scanner.ts` / `export async function scanSessions(workflowDir: string): Promise<ScanSessionsResult> {` | `Test-Path ccw/src/core/session-scanner.ts` | Cross-platform session discovery (WFS-* scanning + metadata parsing) |
+
+## Execution Process
+
+1. Step 0 (always): ensure project state exists
+   - If `.workflow/project-tech.json` or `.workflow/project-guidelines.json` missing, delegate to `/workflow:init` and continue.
+2. Mode selection (based on args)
+   - Discovery (default): list active sessions + show metadata; prompt user to reuse or create new.
+   - Auto (`--auto`): if 0 active sessions create new; if 1 active session decide reuse vs new; if many choose first and warn.
+   - Force-new (`--new`): always create new session; ensure unique session slug.
+3. Session creation (when needed)
+   - Generate `WFS-<slug>` (lowercase; max 50; append numeric suffix on collision).
+   - Create session directory structure + write `workflow-session.json` including `type` (defaults to `workflow`).
+4. Output
+   - Print `SESSION_ID: WFS-...`
+   - If multiple active sessions were detected in auto mode, also print warning + chosen session id.
+
+## Error Handling
+
+- Invalid `--type`: `ERROR: Invalid session type. Valid types: workflow, review, tdd, test, docs`
+- `--auto` or `--new` without a task description: `ERROR: --auto mode requires task description`
+- Filesystem failures (mkdir/write): `ERROR: Failed to create session directory`
+
+## Examples
+
+- `/workflow:session:start`
+- `/workflow:session:start --auto "implement OAuth2 authentication"`
+- `/workflow:session:start --type review "Code review for auth module"`
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
new file mode 100644
index 0000000000000000000000000000000000000000..cab9e83e7bbb65f1412972e296de3bf0853b2a40
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/references.json
@@ -0,0 +1,42 @@
+{
+  "id": "CMD-053",
+  "command": "/workflow:session:start",
+  "candidates": [
+    {
+      "slash": "/workflow:session:start",
+      "file_path": ".claude/commands/workflow/session/start.md",
+      "score": 1.0,
+      "why": "Exact target command oracle; defines the required modes and output format."
+    },
+    {
+      "slash": "/workflow:session:list",
+      "file_path": ".claude/commands/workflow/session/list.md",
+      "score": 0.86,
+      "why": "Same domain (workflow sessions); lists WFS sessions and reads workflow-session.json metadata."
+    },
+    {
+      "slash": "/workflow:session:complete",
+      "file_path": ".claude/commands/workflow/session/complete.md",
+      "score": 0.8,
+      "why": "Same domain; archives/updates sessions and relies on consistent session_id + metadata conventions."
+    },
+    {
+      "slash": "/workflow:init",
+      "file_path": ".claude/commands/workflow/init.md",
+      "score": 0.72,
+      "why": "start delegates project-level initialization to workflow:init when project state files are missing."
+    },
+    {
+      "slash": "/workflow:plan",
+      "file_path": ".claude/commands/workflow/plan.md",
+      "score": 0.68,
+      "why": "Calls /workflow:session:start in its execution flow; constrains expected output contract (SESSION_ID: ...)."
+    }
+  ],
+  "selected": {
+    "slash": "/workflow:session:start",
+    "file_path": ".claude/commands/workflow/session/start.md",
+    "why": "Highest-confidence reference for required behavior and structure hints."
+  }
+}
+
diff --git a/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
new file mode 100644
index 0000000000000000000000000000000000000000..41e0a3cd9b4bae5109cd6b4504600c70df981bca
--- /dev/null
+++ b/.workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/llm/CMD-053/specs/outputs/spec.json
@@ -0,0 +1,59 @@
+{
+  "schema_version": "1.0.0",
+  "id": "CMD-053",
+  "created_at": "2026-02-05T01:06:17Z",
+  "derived_from": ".workflow/.cycle/cycle-auto-20260205T010617-slashcmdoutliner-codex.progress/requirements/CMD-053.requirements.md",
+  "oracle_command_doc": ".claude/commands/workflow/session/start.md",
+  "command": {
+    "group": "workflow",
+    "name": "start",
+    "title": "Start Workflow Session (/workflow:session:start)",
+    "description": "Discover existing sessions or start new workflow session with intelligent session management and conflict detection",
+    "argument_hint": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [optional: task description for new session]",
+    "usage_args": "[--type <workflow|review|tdd|test|docs>] [--auto|--new] [task description]",
+    "allowed_tools": ["Skill(*)", "AskUserQuestion(*)", "Read(*)", "Write(*)", "Bash(*)"]
+  },
+  "intent": {
+    "type": "manage",
+    "interaction": "iterative",
+    "primary_user_value": "Discover existing sessions or start a new workflow session, with safe defaults and conflict handling."
+  },
+  "artifacts": {
+    "reads": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/",
+      ".workflow/active/WFS-*/workflow-session.json"
+    ],
+    "writes": [
+      ".workflow/project-tech.json",
+      ".workflow/project-guidelines.json",
+      ".workflow/active/WFS-*/",
+      ".workflow/active/WFS-*/workflow-session.json",
+      ".workflow/active/WFS-*/.process/",
+      ".workflow/active/WFS-*/.task/",
+      ".workflow/active/WFS-*/.summaries/"
+    ]
+  },
+  "constraints": {
+    "must_not": [
+      "Do not label implementation pointers as Existing unless verifiable in the repo now.",
+      "Do not use placeholders (TBD/N/A) in evidence table rows; if unsure, mark Planned and add concrete Verify steps."
+    ]
+  },
+  "acceptance": {
+    "p0": [
+      "Frontmatter contains name, description, allowed-tools (and argument-hint if non-trivial)",
+      "Core sections present: Overview, Usage, Execution Process, Outputs / Artifacts, Error Handling",
+      "Evidence tables validate via verify-evidence.js (docs + TS anchors, Existing pointers verifiable)"
+    ]
+  },
+  "implementation": {
+    "command_doc": ".claude/commands/workflow/session/start.md",
+    "code_pointers": [
+      "ccw/src/tools/session-manager.ts",
+      "ccw/src/core/session-scanner.ts"
+    ]
+  }
+}
+

tokens used
87,363
