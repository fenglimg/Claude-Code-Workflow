# Requirement (non-leaky): /workflow:test-context-gather

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/workflow/tools/test-context-gather.md`

## Command Identity

- group: workflow
- name: test-context-gather
- description: Collect test coverage context using test-context-search-agent and package into standardized test-context JSON
- argument-hint: --session WFS-test-session-id
- allowed-tools: Task(*), Read(*), Glob(*)

## Structure Hints (Headings Only)

- Test Context Gather Command (/workflow:tools:test-context-gather)
  - Overview
  - Core Philosophy
  - Execution Process
  - Execution Flow
    - Step 1: Test-Context-Package Detection
    - Step 2: Invoke Test-Context-Search Agent
  - Execution Mode
  - Session Information
  - Mission
    - Phase 1: Session Validation & Source Context Loading
    - Phase 2: Test Coverage Analysis
    - Phase 3: Framework Detection & Packaging
  - Output Requirements
  - Quality Validation
    - Step 3: Output Verification
  - Parameter Reference
  - Output Schema
  - Usage Examples
    - Basic Usage
    - Expected Output
  - Success Criteria
  - Error Handling
  - Integration
    - Called By
    - Calls
    - Followed By
  - Notes

## Hard Constraints (P0)

- Do not claim a pointer is `Existing` unless it is verifiable in the repo now.
- Evidence must be dual-source: docs (.claude/commands/**.md) + ts (ccw/src/**).
- If unsure, mark as `Planned` and add a concrete `Verify` step.
