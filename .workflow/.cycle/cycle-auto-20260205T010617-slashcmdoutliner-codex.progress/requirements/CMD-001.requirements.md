# Requirement (non-leaky): /ccw-coordinator

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/ccw-coordinator.md`

## Command Identity

- group: (none)
- name: ccw-coordinator
- description: Command orchestration tool - analyze requirements, recommend chain, execute sequentially with state persistence
- argument-hint: [task description]
- allowed-tools: Task(*), AskUserQuestion(*), Read(*), Write(*), Bash(*), Glob(*), Grep(*)

## Structure Hints (Headings Only)

- CCW Coordinator Command
  - Core Concept: Minimum Execution Units (最小执行单元)
    - What is a Minimum Execution Unit?
    - Minimum Execution Units
    - Command-to-Unit Mapping (命令与最小单元的映射)
    - Atomic Group Rules
  - 3-Phase Workflow
    - Phase 1: Analyze Requirements
    - Phase 2: Discover Commands & Recommend Chain
      - Command Port Definition
      - Recommendation Algorithm
      - Display to User
    - Phase 2b: Get User Confirmation
    - Phase 3: Execute Sequential Command Chain
  - State File Structure
    - Status Flow
    - Field Descriptions
  - CommandRegistry Integration
  - Universal Prompt Template
    - Standard Format
    - Prompt Content Template
    - Template Variables
    - Command Parameter Patterns
    - Complete Examples
  - Execution Flow
  - Key Design Principles
  - CLI Execution Model
    - CLI Invocation Format
    - Prompt Assembly
- Planning command
- Execution command (with session reference)
- Lite execution (in-memory from previous plan)
    - Serial Blocking
  - Available Commands
    - Testing Commands Distinction
    - Task Type Routing (Pipeline Summary)

## Hard Constraints (P0)

- Do not claim a pointer is `Existing` unless it is verifiable in the repo now.
- Evidence must be dual-source: docs (.claude/commands/**.md) + ts (ccw/src/**).
- If unsure, mark as `Planned` and add a concrete `Verify` step.
