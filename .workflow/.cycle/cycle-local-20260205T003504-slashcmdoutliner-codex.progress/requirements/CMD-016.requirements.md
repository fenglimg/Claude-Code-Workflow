# Requirement (non-leaky): /issue:plan

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/issue/plan.md`

## Command Identity

- group: issue
- name: plan
- description: Batch plan issue resolution using issue-plan-agent (explore + plan closed-loop)
- argument-hint: [-y|--yes] --all-pending <issue-id>[,<issue-id>,...] [--batch-size 3]
- allowed-tools: TodoWrite(*), Task(*), Skill(*), AskUserQuestion(*), Bash(*), Read(*), Write(*)

## Structure Hints (Headings Only)

  - Auto Mode
- Issue Plan Command (/issue:plan)
  - Overview
  - Core Guidelines
  - Usage
- Examples
- Flags
  - Execution Process
  - Implementation
    - Phase 1: Issue Loading (Brief Info Only)
    - Phase 2: Unified Explore + Plan (issue-plan-agent) - PARALLEL
  - Plan Issues
    - Project Context (MANDATORY)
    - Workflow
    - Failure-Aware Planning Rules
    - Rules
    - Return Summary
    - Phase 3: Solution Selection (if pending)
    - Phase 4: Summary
  - Done: ${issues.length} issues â†’ ${plannedCount} planned
  - Error Handling
  - Bash Compatibility
  - Quality Checklist
  - Related Commands

## Hard Constraints (P0)

- Do not claim a pointer is `Existing` unless it is verifiable in the repo now.
- Evidence must be dual-source: docs (.claude/commands/**.md) + ts (ccw/src/**).
- If unsure, mark as `Planned` and add a concrete `Verify` step.
