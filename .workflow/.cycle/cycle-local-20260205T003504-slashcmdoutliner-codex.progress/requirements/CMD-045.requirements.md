# Requirement (non-leaky): /workflow:review-cycle-fix

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/workflow/review-cycle-fix.md`

## Command Identity

- group: workflow
- name: review-cycle-fix
- description: Automated fixing of code review findings with AI-powered planning and coordinated execution. Uses intelligent grouping, multi-stage timeline coordination, and test-driven verification.
- argument-hint: <export-file|review-dir> [--resume] [--max-iterations=N] [--batch-size=N]
- allowed-tools: Skill(*), TodoWrite(*), Read(*), Bash(*), Task(*), Edit(*), Write(*)

## Structure Hints (Headings Only)

- Workflow Review-Cycle-Fix Command
  - Quick Start
- Fix from exported findings file (session-based path)
- Fix from review directory (auto-discovers latest export)
- Resume interrupted fix session
- Custom max retry attempts per finding
- Custom batch size for parallel planning (default: 5 findings per batch)
  - What & Why
    - Core Concept
    - Value Proposition
    - Orchestrator Boundary (CRITICAL)
    - Execution Flow
    - Agent Roles
  - Enhanced Features
    - 1. Parallel Planning Architecture
    - 2. Intelligent Grouping Strategy
    - 3. Execution Strategy Determination
    - 4. Conservative Test Verification
  - Core Responsibilities
    - Orchestrator
    - Output File Structure
    - Agent Invocation Template
  - Task Objective
  - Input Data
  - Output Requirements
    - 1. partial-plan-${batch.batch_id}.json
  - Analysis Requirements
    - Intelligent Grouping Strategy
    - Execution Strategy Determination (Local Only)
    - Risk Assessment
    - Test Strategy
  - Output Files
  - Quality Checklist
  - Task Objective
  - Assignment
  - Fix Strategy
  - Risk Assessment
  - Execution Flow
    - Initialization (Before Starting)
    - Main Execution Loop
      - Step 1: Analyze Context
      - Step 2: Apply Fix
      - Step 3: Test Verification
      - Step 4: Commit Changes
      - After Each Finding
    - Final Completion
  - Critical Requirements
    - Progress File Updates
    - Flow Control Format
    - Error Handling
  - Test Patterns
    - Error Handling
    - TodoWrite Structure
  - Post-Completion Expansion
  - Best Practices
  - Related Commands
    - View Fix Progress

## Hard Constraints (P0)

- Do not claim a pointer is `Existing` unless it is verifiable in the repo now.
- Evidence must be dual-source: docs (.claude/commands/**.md) + ts (ccw/src/**).
- If unsure, mark as `Planned` and add a concrete `Verify` step.
