# Requirement (non-leaky): /workflow:workflow:multi-cli-plan

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/workflow/multi-cli-plan.md`

## Command Identity

- group: workflow
- name: workflow:multi-cli-plan
- description: Multi-CLI collaborative planning workflow with ACE context gathering and iterative cross-verification. Uses cli-discuss-agent for Gemini+Codex+Claude analysis to converge on optimal execution plan.
- argument-hint: [-y|--yes] <task description> [--max-rounds=3] [--tools=gemini,codex] [--mode=parallel|serial]
- allowed-tools: TodoWrite(*), Task(*), AskUserQuestion(*), Read(*), Bash(*), Write(*), mcp__ace-tool__search_context(*)

## Structure Hints (Headings Only)

  - Auto Mode
- Multi-CLI Collaborative Planning Command
  - Quick Start
- Basic usage
- With options
  - What & Why
    - Core Concept
    - Value Proposition
    - Orchestrator Boundary (CRITICAL)
    - Execution Flow
    - Agent Roles
  - Core Responsibilities
    - Phase 1: Context Gathering
    - Phase 2: Agent Delegation
  - Input Context
  - Execution Process
  - Output
  - Completion Checklist
    - Phase 3: Present Options
  - Solution Options
  - Cross-Verification
    - Phase 4: User Decision
    - Phase 5: Plan Generation & Execution Handoff
  - Schema Reference
  - Context-Package (from orchestrator)
  - Execution Process
  - Output
  - Completion Checklist
  - Output File Structure
  - synthesis.json Schema
  - TodoWrite Structure
  - Error Handling
  - Configuration
  - Best Practices
  - Related Commands
- Simpler single-round planning
- Issue-driven discovery
- View session files
- Direct execution (if you have plan.json)

## Hard Constraints (P0)

- Do not claim a pointer is `Existing` unless it is verifiable in the repo now.
- Evidence must be dual-source: docs (.claude/commands/**.md) + ts (ccw/src/**).
- If unsure, mark as `Planned` and add a concrete `Verify` step.
