# Requirement (non-leaky): /workflow:test-task-generate

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/workflow/tools/test-task-generate.md`

## Command Identity

- group: workflow
- name: test-task-generate
- description: Generate test planning documents (IMPL_PLAN.md, test task JSONs, TODO_LIST.md) by invoking test-action-planning-agent
- argument-hint: --session WFS-test-session-id
- allowed-tools: TBD

## Structure Hints (Headings Only)

- Generate Test Planning Documents Command
  - Overview
    - Agent Specialization
  - Execution Process
  - Phase 1: Context Preparation
  - Test Intent (Phase 1)
  - Context Findings (Phase 1)
    - Files with Coverage Gaps
    - Test Framework & Conventions
  - Gemini Enhancement (Phase 1.5)
    - Enhanced Test Suggestions
    - Gemini Analysis Summary
  - Consolidated Test Requirements (Phase 2 Input)
  - Task Generation (Phase 2)
  - N+1 Context
    - Decisions
    - Deferred
  - Phase 1.5: Gemini Test Enhancement
  - Task Objective
  - Input Files
  - Gemini Analysis Execution
  - Expected Output
  - Validation
    - Enriched Test Suggestions (Complete Gemini Analysis)
    - Gemini Analysis Summary
  - Agent Invocation
  - TASK OBJECTIVE
  - SESSION PATHS
  - CONTEXT METADATA
  - CONSOLIDATED CONTEXT
  - YOUR SPECIFICATIONS
  - EXPECTED DELIVERABLES
  - SUCCESS CRITERIA
  - Test-Specific Execution Modes
    - Test Generation (IMPL-001)
    - Test Execution & Fix (IMPL-002+)
  - Output
    - Directory Structure
    - Task Summary
  - Integration & Usage
    - Command Chain
    - Usage Examples
- Standard execution
- With semantic CLI request (include in task description when calling /workflow:test-fix-gen)
- e.g., "Generate tests, use Codex for implementation and fixes"
    - Output Validation
  - Related Commands

## Hard Constraints (P0)

- Do not claim a pointer is `Existing` unless it is verifiable in the repo now.
- Evidence must be dual-source: docs (.claude/commands/**.md) + ts (ccw/src/**).
- If unsure, mark as `Planned` and add a concrete `Verify` step.
