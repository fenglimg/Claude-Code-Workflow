# Requirement (non-leaky): /workflow:plan-verify

## Source

- Command doc (oracle, do not paste full contents into spec): `.claude/commands/workflow/plan-verify.md`

## Command Identity

- group: workflow
- name: plan-verify
- description: Perform READ-ONLY verification analysis between IMPL_PLAN.md, task JSONs, and brainstorming artifacts. Generates structured report with quality gate recommendation. Does NOT modify any files.
- argument-hint: [optional: --session session-id]
- allowed-tools: Read(*), Write(*), Glob(*), Bash(*)

## Structure Hints (Headings Only)

  - User Input
  - Goal
  - Operating Constraints
  - Execution Steps
    - 1. Initialize Analysis Context
- Detect active workflow session
- Derive absolute paths
- Create .process directory if not exists (report output location)
- Validate required artifacts
- Note: "role analysis documents" refers to [role]/analysis.md files (e.g., product-manager/analysis.md)
- Abort if missing - in order of dependency
    - 2. Load Artifacts (Progressive Disclosure)
    - 3. Build Semantic Models
    - 4. Detection Passes (Agent-Driven Multi-Dimensional Analysis)
      - Phase 4.1: Launch Unified Verification Agent
  - Plan Verification Task
    - MANDATORY FIRST STEPS
    - Execution Flow
    - Output
      - Phase 4.2: Load and Organize Findings
    - 5. Generate Report
- Plan Verification Report
  - Executive Summary
  - Findings Summary
  - Analysis by Dimension
  - Findings by Severity
    - CRITICAL (${critical_count})
    - HIGH (${high_count})
    - MEDIUM (${medium_count})
    - LOW (${low_count})
  - Next Steps
    - 6. Next Step Selection

## Hard Constraints (P0)

- Do not claim a pointer is `Existing` unless it is verifiable in the repo now.
- Evidence must be dual-source: docs (.claude/commands/**.md) + ts (ccw/src/**).
- If unsure, mark as `Planned` and add a concrete `Verify` step.
